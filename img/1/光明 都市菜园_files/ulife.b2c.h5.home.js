define("ulife.b2c.h5.util.fn",["zepto","underscore","store"],function(a,b,c){return{checkEmail:function(a){return/^([a-zA-Z0-9-_]*[-_\.]?[a-zA-Z0-9]+)*@([a-zA-Z0-9]*[-_]?[a-zA-Z0-9]+)+[\.][a-zA-Z]{2,3}([\.][a-zA-Z]{2})?$/.test(a)},checkMobile:function(a){return/^1\d{10}$/.test(a)},subTime:function(a){return a<10&&(a="0"+a),a+""},isMobile:{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},Firefox:function(){return navigator.userAgent.indexOf("Firefox")>-1},QQ:function(){return navigator.userAgent.indexOf("QQ")>-1},WeChat:function(){var a=navigator.userAgent.match(/MicroMessenger/i);return a},AlipayChat:function(){var a=navigator.userAgent.match(/AlipayClient/i);return a&&c.remove("IS_APP"),a},APP:function(){return navigator.userAgent.match(/ulife/i)},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()||this.Firefox()}}}}),define("ulife.b2c.h5.widget.toast",["zepto","can","underscore"],function(a,b,c){return b.Control.extend({init:function(){this.setup(a("body"))},show:function(b,d,e){var f=this,g='<div class="global_toast">'+b+"</div>";a(".global_toast").length||(f.element.append(g),setTimeout(function(){f.hide(),e&&c.isFunction(e)&&e()},d||1500))},hide:function(){a(".global_toast").remove()}})}),define("ulife.b2c.h5.util.hybrid",["zepto","underscore","md5","store","ulife.b2c.h5.util.fn","ulife.b2c.h5.widget.toast"],function(a,b,c,d,e,f){return{_validApp:function(a,c){var d=this;return!!e.isMobile.APP()&&(!!window.UlifeApp||(a&&(this.actionList.methodNames.push(a),this.actionList.arguments.push(c)),!this.actionInterval&&(d.actionInterval=setInterval(function(){window.UlifeApp&&(b.each(d.actionList.methodNames,function(a,c,e){b.isFunction(d[c])&&d[c].apply(d,e.arguments[a])}),this.actionInterval&&clearInterval(this.actionInterval))},100),!1)))},actionInterval:null,actionList:{methodNames:[],arguments:[]},toast:new f,addToCart:function(a,b){if(this._validApp("addToCart",arguments))return UlifeApp.addToCart(JSON.stringify({productId:a,num:b||1}))},gotoProductDetail:function(a){if(this._validApp("gotoProductDetail",arguments)){var b={openUrl:"",params:{productId:a},targetMode:3};e.isMobile.iOS()?b.openUrl="ProductItemDetailViewController":e.isMobile.Android()&&(b.openUrl="com.ulife.caiiyuan.PRODUCT_DETAIL_ACTION"),UlifeApp.appOpenUrl(JSON.stringify(b))}},gotoProductList:function(a,b,c,d){if(this._validApp("gotoProductList",arguments)){var f={openUrl:"",params:{},targetMode:3};e.isMobile.iOS()?f.params={query:JSON.stringify({categoryId:b,keyword:c,searchKey:c,kw:c,title:d,categoryName:d})}:e.isMobile.Android()&&(f.params={categoryId:b,keyword:c,searchKey:c,kw:c,title:d,categoryName:d}),e.isMobile.iOS()?f.openUrl="ProductListViewController":e.isMobile.Android()&&(f.openUrl="com.ulife.caiiyuan.SEARCH_RESULT_ACTION"),UlifeApp.appOpenUrl(JSON.stringify(f))}},gotoCart:function(){if(this._validApp("gotoCart",arguments)){var a={openUrl:"",params:{},targetMode:3};e.isMobile.iOS()?a.openUrl="ShoppingCartViewController":e.isMobile.Android()&&(a.openUrl="com.ulife.caiiyuan.CART_ACTION"),UlifeApp.appOpenUrl(JSON.stringify(a))}},gotoOrderTrack:function(a,b){if(this._validApp("gotoOrderTrack",arguments)){var c={openUrl:"",params:{sale_no:a,ship_order_no:b,orderId:a,saleNo:a,shipOrderNo:b},targetMode:3};e.isMobile.iOS()?c.openUrl="OrderTraceViewController":e.isMobile.Android()&&(c.openUrl="com.ulife.caiiyuan.ORDER_TRACK_ACTION"),UlifeApp.appOpenUrl(JSON.stringify(c))}},appOpenUrl:function(a){if(this._validApp("appOpenUrl",arguments)){var c={};b.isObject(a)?e.isMobile.iOS()&&a.iosUrl?(c.openUrl=a.iosUrl,b.isEmpty(a.IOSParams)||(c.params=JSON.parse(a.IOSParams)),/^\w+@\w+\/\w+\.html/.test(a.iosUrl)?c.targetMode=2:c.targetMode=3):e.isMobile.Android()&&a.AndroidUrl?(c.openUrl=a.AndroidUrl,b.isEmpty(a.AndroidParams)||(c.params=JSON.parse(a.AndroidParams)),/^\w+@\w+\/\w+\.html/.test(a.AndroidUrl)?c.targetMode=2:c.targetMode=3):(c.openUrl=a.h5Url,c.targetMode=1):/^\w+@\w+\/\w+\.html/.test(a)?(c.openUrl=a,c.targetMode=2):(c.openUrl=a,c.targetMode=1),1==c.targetMode&&(this._isGotoProductDetail(c.openUrl)||this._isGotoProductList(c.openUrl)||this._isGotoGroupDetail(c.openUrl)||this._isGotoO2oDetail(c.openUrl))||UlifeApp.appOpenUrl(JSON.stringify(c))}},_isGotoProductDetail:function(a){var b=/[a-zA-z]+:\/\/[^\s]*\/product\.html\?id=([\d]+)\??/.exec(a);return!(!b||!b[1])&&(this.gotoProductDetail(b[1]),!0)},_isGotoProductList:function(a){a=decodeURIComponent(a);var b=/[a-zA-z]+:\/\/[^\s]*\/(?:product|search)List\.html\?type=(\w+)&categoryId=([\d]+)&categoryTitle=(\S*)\??/.exec(a),c=/[a-zA-z]+:\/\/[^\s]*\/(?:product|search)List\.html\?type=(\w+)&keyWords=(\S*)\??/.exec(a);return b&&b[1]&&b[2]&&b[3]?(this.gotoProductList(b[1],b[2],"",b[3]),!0):!!(c&&c[1]&&c[2])&&(this.gotoProductList(c[1],"",c[2],""),!0)},_isGotoGroupDetail:function(a){var b=/[a-zA-z]+:\/\/[^\s]*\/group\.html\?activityId=([\d]+)\??/.exec(a);return!(!b||!b[1])&&(this.gotoGroupDetail(b[1]),!0)},_isGotoO2oDetail:function(a){var b=/[a-zA-z]+:\/\/[^\s]*\/o2oCouponDetail\.html\?id=([\d]+)\??/.exec(a);return!(!b||!b[1])&&(this.appGoToO2oDetail(b[1]),!0)},setAppHomeNavigationBar:function(){this._validApp("setAppHomeNavigationBar")&&e.isMobile.iOS()&&UlifeApp.setAppHomeNavigationBar()},gotoPayment:function(a,b){if(this._validApp("gotoPayment",arguments)){var c={openUrl:"",params:{saleNo:a,payFromFlag:b},targetMode:3};e.isMobile.iOS()?c.openUrl="PayWayViewController":e.isMobile.Android()&&(c.openUrl="com.ulife.caiiyuan.PAY_TYPE_ACTION"),UlifeApp.appOpenUrl(JSON.stringify(c))}},appSetTitle:function(a){this._validApp("appSetTitle",arguments)&&UlifeApp.appSetHeaderTitle(a)},disableRefresh:function(){this._validApp("disableRefresh",arguments)&&(e.isMobile.iOS()||e.isMobile.Android()&&UlifeApp.disableRefreshWebView&&b.isFunction(UlifeApp.disableRefreshWebView)&&UlifeApp.disableRefreshWebView())},appSetHeaderCart:function(){this._validApp()&&UlifeApp.appSetHeaderCart&&b.isFunction(UlifeApp.appSetHeaderCart)&&UlifeApp.appSetHeaderCart()},appSetHeaderCartAndShare:function(a){if(this._validApp("appSetHeaderCartAndShare",arguments))if(e.isMobile.iOS()){if(!UlifeApp.appSetHeaderCartAndShare||!b.isFunction(UlifeApp.appSetHeaderCartAndShare))return;UlifeApp.appSetHeaderCartAndShare(JSON.stringify({shareUrl:a.url,shareImage:a.image,shareContent:a.content,shareTitle:a.title,reloadUrl:a.reloadUrl?a.reloadUrl:"",ticketCode:a.ticketCode?a.ticketCode:""}))}else e.isMobile.Android()&&(UlifeApp.appSetHeaderCart&&b.isFunction(UlifeApp.appSetHeaderCart)&&UlifeApp.appSetHeaderCart(),UlifeApp.appSetHeaderShare&&b.isFunction(UlifeApp.appSetHeaderShare)&&UlifeApp.appSetHeaderShare(JSON.stringify({shareUrl:a.url,shareImage:a.image,shareContent:a.content,shareTitle:a.title,reloadUrl:a.reloadUrl?a.reloadUrl:"",ticketCode:a.ticketCode?a.ticketCode:""})))},appCartRightText:function(a){this._validApp("appCartRightText",arguments)&&UlifeApp.setShoppingCartRightButtonTitle(a)},appRefreshCartNum:function(a){this._validApp("appRefreshCartNum",arguments)&&UlifeApp.refreshCartSimpleInfo()},appGetIdfa:function(){if(this._validApp())return UlifeApp.idfa()},getToken:function(){if(this._validApp())return UlifeApp.appToken()},setToken:function(a){this._validApp("setToken",arguments)&&UlifeApp.setToken(a)},login:function(a,b){this._validApp("login",arguments)&&UlifeApp.appLogin(JSON.stringify({callbackUrl:a,callbackMode:b||2}))},backToPrevious:function(){this._validApp("backToPrevious",arguments)&&UlifeApp.nativePopViewController()},injectHeaderLeftBtnEvent:function(a){this._validApp("injectHeaderLeftBtnEvent",arguments)&&UlifeApp.setLeftButtonForHybirdWithCallBack(a)},appRootPage:function(a){this._validApp("appRootPage",arguments)&&UlifeApp.popToRootViewControllerWithSelectedIndex(a)},appShare:function(a){this._validApp("appShare",arguments)&&UlifeApp.appSetHeaderShare(JSON.stringify({shareUrl:a.url,shareImage:a.image,shareContent:a.content,shareTitle:a.title,reloadUrl:a.reloadUrl?a.reloadUrl:"",ticketCode:a.ticketCode?a.ticketCode:""}))},appSharePage:function(a){this._validApp("appSharePage",arguments)&&UlifeApp.appSharePage(JSON.stringify({shareUrl:a.url,shareImage:a.image,shareContent:a.content,shareTitle:a.title,type:"1",reloadUrl:a.reloadUrl?a.reloadUrl:"",ticketCode:a.ticketCode?a.ticketCode:""}))},gotoGroupDetail:function(a,b){if(this._validApp("gotoGroupDetail",arguments)){b=b?b:0;var c={openUrl:"",params:{activityId:a,groupId:b},targetMode:3};e.isMobile.iOS()?c.openUrl="GroupProductDetailViewController":e.isMobile.Android()&&(c.openUrl="com.ulife.caiiyuan.GROUP_DETAIL"),UlifeApp.appOpenUrl(JSON.stringify(c))}},gotoShareDetail:function(a){if(this._validApp("gotoShareDetail",arguments)){if(e.isMobile.iOS()&&this.getAppVersion()<243)return void UlifeApp.updateApp("请升级最新版APP");if(e.isMobile.Android()&&this.getAppVersion()<244)return void this.toast.show("请升级最新版APP");var b={openUrl:"",params:{activityId:a},targetMode:3};e.isMobile.iOS()?b.openUrl="SharePurchaseDetailViewController":e.isMobile.Android()&&(b.openUrl="com.ulife.caiiyuan.SHARE_BUY_DETAIL"),UlifeApp.appOpenUrl(JSON.stringify(b))}},gotoVideoDetail:function(a,b){if(this._validApp("gotoVideoDetail",arguments)){var c={openUrl:"",params:{videoId:a,videoUrl:b},targetMode:3};e.isMobile.iOS()?c.openUrl="VideoDetailViewController":e.isMobile.Android()&&(c.openUrl="com.ulife.caiiyuan.VIDEO_GUIDE_DETAIL"),UlifeApp.appOpenUrl(JSON.stringify(c))}},appSetRefreshHeader:function(){this._validApp("appSetRefreshHeader",arguments)&&e.isMobile.iOS()&&b.isFunction(UlifeApp.setRefreshHeader)&&UlifeApp.setRefreshHeader()},appRemoveRefreshHeader:function(){this._validApp()&&e.isMobile.iOS()&&UlifeApp.removeRefreshHeader()},appGoToCouponSearch:function(a,b){if(this._validApp("appGoToCouponSearch",arguments)){var c={openUrl:"",targetMode:3};e.isMobile.Android()?c.params={couponId:a,codeId:a,name:b,couponName:b}:c.params={query:JSON.stringify({gatherDesc:"以下商品可用于"+b,codeId:a})},e.isMobile.iOS()?c.openUrl="ProductListViewController":e.isMobile.Android()&&(c.openUrl="com.ulife.caiiyuan.SEARCH_RESULT_ACTION"),UlifeApp.appOpenUrl(JSON.stringify(c))}},appGoToO2oDetail:function(a){if(this._validApp("appGoToO2oDetail",arguments)){if(this.getAppVersion()<240)return void UlifeApp.updateApp("请升级最新版APP");var b={openUrl:"",params:{productId:a},targetMode:3};e.isMobile.iOS()?b.openUrl="CouponProductDetailViewController":e.isMobile.Android()&&(b.openUrl="com.ulife.caiiyuan.TICKET_PRODUCT_DETAIL"),UlifeApp.appOpenUrl(JSON.stringify(b))}},getAppVersion:function(){if(this._validApp("getAppVersion",arguments))return UlifeApp.appVersion().replace(/\./g,"")},getCustomerId:function(){if(this._validApp("getCustomerId",arguments))return UlifeApp.appUserCustomerId()},againReloadView:function(a){this._validApp("againReloadView",arguments)&&UlifeApp.setReloadWebView(a)},gotoRecharge:function(){if(this._validApp("gotoRecharge",arguments)){var a={openUrl:"",params:{},targetMode:3};e.isMobile.iOS()?a.openUrl="RechargeViewController":e.isMobile.Android()&&(a.openUrl="com.ulife.caiiyuan.EDIT_RECHARGE"),UlifeApp.appOpenUrl(JSON.stringify(a))}}}}),define("ulife.b2c.h5.widget.downApp",["zepto","zepto.cookie","can","underscore","ulife.b2c.h5.util.fn"],function(a,b,c,d,e){return c.Control.extend({init:function(){this.setup(a("body"))},showDownLoad:function(c,e){var f=this,g={url:"http://s1.ucaiyuan.com/h5/1.6.4/images/share/downApp_v2.5.png",link:"link",className:"",href:"javascript:void(0)"};a.extend(g,e);var h='<div class="'+g.className+' app_download_wrap img_wrap"><a href="'+g.href+'" class="btn link_btn '+g.link+'"></a><a href="javascript:void(0)" class="btn close_btn"></a><img src="'+g.url+'" class="auto_pos"></div>';f.element.append(h);var i=a(".app_download_wrap"),j=i.height();i.css({bottom:"-"+j+"px"}),d.defer(function(){0!==a(".global_footer").length||0!==a(".global_product_buy").length?i.css({bottom:50}):i.css({bottom:0})},300),i.find(".close_btn").click(function(){i.css({bottom:"-"+j+"px"}),setTimeout(function(){i.remove(),c&&b(c,"down",{path:"/",domain:".ucaiyuan.com",expires:1})},300)})},".link click":function(){var a="http://a.app.qq.com/o/simple.jsp?pkgname=com.ulife.caiiyuan";e.isMobile.iOS()?a="ucaiyuanopen://":e.isMobile.Android()&&(a="ulife://ucaiyuan.Main"),window.location=a,d.delay(function(){e.isMobile.iOS()?window.location.href="https://lnk0.com/AlEVp8":e.isMobile.Android()?window.location.href="https://lnk0.com/lM9El8":window.location.href="http://a.app.qq.com/o/simple.jsp?pkgname=com.ulife.caiiyuan"},500)}})}),define("ulife.b2c.h5.component.monitor",["zepto","store","ulife.b2c.h5.util.fn"],function(a,b,c){var d=can.Control.extend({GTMJSCODE:"<noscript><iframe src='//www.googletagmanager.com/ns.html?id=GTM-KP96R9' height='0' width='0' style='display:none;visibility:hidden'></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KP96R9');</script>",init:function(b,d){c.isMobile.APP()||a("body").prepend(this.GTMJSCODE)}});return d}),define("ulife.b2c.h5.pagebase",["can","underscore","fastclick","zepto","zepto.cookie","store","ulife.b2c.h5.util.fn","ulife.b2c.h5.util.hybrid","ulife.framework.comm","ulife.b2c.h5.widget.downApp","ulife.b2c.h5.component.monitor"],function(a,b,c,d,e,f,g,h,i,j,k){c.attach(document.body);var l,m=a.deparam(window.location.search.substr(1)),n=window.location.pathname,o="_downApp",p=!0,q=["cart","order","pay"];if(d(document).on("touchmove",".forbidTouch",function(a){a.preventDefault()}),g.isMobile.APP())g.isMobile.iOS()?i.prototype.setTerminal("IOS"):i.prototype.setTerminal("ANDROID");else{var r={},s=m.usrc,t="h5_src",u=e(t);s&&s!=u&&e(t,s,{path:"/",domain:".ucaiyuan.com",expires:60}),i.prototype.setCommonParam(r),e(o)||(b.each(q,function(a,b){n.indexOf(a)!==-1&&(p=!1)}),b.delay(function(){p&&(l=new j,l.showDownLoad(o))},1500))}return{Monitor:k}}),function(a,b,c,d){var e=a(b);a.fn.lazyload=function(c){function f(){var b=0;h.each(function(){var c=a(this);if(!i.skip_invisible||"none"!==c.css("display"))if(a.abovethetop(this,i)||a.leftofbegin(this,i));else if(a.belowthefold(this,i)||a.rightoffold(this,i)){if(++b>i.failure_limit)return!1}else c.trigger("appear"),b=0})}var g,h=this,i={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null};return c&&(d!==c.failurelimit&&(c.failure_limit=c.failurelimit,delete c.failurelimit),d!==c.effectspeed&&(c.effect_speed=c.effectspeed,delete c.effectspeed),a.extend(i,c)),g=i.container===d||i.container===b?e:a(i.container),0===i.event.indexOf("scroll")&&g.on(i.event,function(a){return f()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,c.one("appear",function(){if(!this.loaded){if(i.appear){var d=h.length;i.appear.call(b,d,i)}a("<img />").on("load",function(){c.hide().attr("src",c.data(i.data_attribute))[i.effect](i.effect_speed),b.loaded=!0;var d=a.grep(h,function(a){return!a.loaded});if(h=a(d),i.load){var e=h.length;i.load.call(b,e,i)}}).attr("src",c.data(i.data_attribute))}}),0!==i.event.indexOf("scroll")&&c.on(i.event,function(a){b.loaded||c.trigger("appear")})}),e.on("resize",function(a){f()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&e.on("pageshow",function(b){b=b.originalEvent||b,b.persisted&&h.each(function(){a(this).trigger("appear")})}),f(),this},a.belowthefold=function(c,f){var g;return g=f.container===d||f.container===b?e.height()+e[0].scrollY:a(f.container).offset().top+a(f.container).height(),g<=a(c).offset().top-f.threshold},a.rightoffold=function(c,f){var g;return g=f.container===d||f.container===b?e.width()+e[0].scrollX:a(f.container).offset().left+a(f.container).width(),g<=a(c).offset().left-f.threshold},a.abovethetop=function(c,f){var g;return g=f.container===d||f.container===b?e[0].scrollY:a(f.container).offset().top,g>=a(c).offset().top+f.threshold+a(c).height()},a.leftofbegin=function(c,f){var g;return g=f.container===d||f.container===b?e[0].scrollX:a(f.container).offset().left,g>=a(c).offset().left+f.threshold+a(c).width()},a.inviewport=function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.fn,{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})}($,window,document),define("lazyload",function(){}),define("ulife.business.config",["ulife.b2c.h5.util.fn","ulife.base.business.config"],function(a,b){var c="/",d={home:c+"home.html",channel:c+"channel.html",order:c+"order.html",orderDetail:c+"orderDetail.html",orderTrack:c+"orderTrack.html",payment:c+"payment.html",paySuccess:c+"paySuccess.html",login:c+"login.html",coupon:c+"coupon.html",address:c+"address.html",orderList:c+"orderList.html",cart:c+"cart.html",historyCoupon:c+"historyCoupon.html",group:c+"group.html",groupDescribe:c+"groupDescribe.html",groupList:c+"groupList.html",groupMember:c+"groupMember.html",groupMine:c+"groupMine.html",groupOrder:c+"groupOrder.html",groupFreeCouponList:c+"groupFreeCouponList.html",videoDetail:c+"videoDetail.html",o2oCart:c+"o2oCart.html",o2oCouponDetail:c+"o2oCouponDetail.html",o2oDetail:c+"o2oDetail.html",my:c+"my.html",roundabout:c+"roundabout.html",roundaboutList:c+"roundaboutList.html",searchList:c+"searchList.html",shareList:c+"shareList.html",shareCoupon:c+"shareCoupon.html",shareDetail:c+"shareDetail.html",product:c+"product.html",exchange:c+"exchange.html",balanceRecharge:c+"balanceRecharge.html",balance:c+"balance.html"},e={home:b.setting.host+c+"home.html",channel:b.setting.host+c+"channel.html",order:b.setting.host+c+"order.html",orderDetail:b.setting.host+c+"orderDetail.html",orderTrack:b.setting.host+c+"orderTrack.html",payment:b.setting.host+c+"payment.html",paySuccess:b.setting.host+c+"paySuccess.html",login:b.setting.host+c+"login.html",coupon:b.setting.host+c+"coupon.html",address:b.setting.host+c+"address.html",orderList:b.setting.host+c+"orderList.html",cart:b.setting.host+c+"cart.html",historyCoupon:b.setting.host+c+"historyCoupon.html",group:b.setting.host+c+"group.html",groupDescribe:b.setting.host+c+"groupDescribe.html",groupList:b.setting.host+c+"groupList.html",groupMember:b.setting.host+c+"groupMember.html",groupMine:b.setting.host+c+"groupMine.html",groupOrder:b.setting.host+c+"groupOrder.html",videoDetail:b.setting.host+c+"videoDetail.html",o2oCart:b.setting.host+c+"o2oCart.html",o2oCouponDetail:b.setting.host+c+"o2oCouponDetail.html",o2oDetail:b.setting.host+c+"o2oDetail.html",my:b.setting.host+c+"my.html",roundabout:b.setting.host+c+"roundabout.html",roundaboutList:b.setting.host+c+"roundaboutList.html",searchList:b.setting.host+c+"searchList.html",shareList:b.setting.host+c+"shareList.html",shareCoupon:b.setting.host+c+"shareCoupon.html",shareDetail:b.setting.host+c+"shareDetail.html",product:b.setting.host+c+"product.html",exchange:b.setting.host+c+"exchange.html",exchangeOrder:b.setting.host+c+"exchangeOrder.html",groupFreeCouponList:b.setting.host+c+"groupFreeCouponList.html",balanceRecharge:b.setting.host+c+"balanceRecharge.html",balance:b.setting.host+c+"balance.html"};return{setting:{link:d,host:b.setting.host,hostLink:e}}}),function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function c(a,b){return za.call(a,b)}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(a){ta.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function f(a,b){var c=!0;return m(function(){return c&&(e(a),c=!1),b.apply(this,arguments)},b)}function g(a,b){qb[a]||(e(b),qb[a]=!0)}function h(a,b){return function(c){return p(a.call(this,c),b)}}function i(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function j(){}function k(a,b){b!==!1&&F(a),n(this,a),this._d=new Date(+a._d)}function l(a){var b=y(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=ta.localeData(),this._bubble()}function m(a,b){for(var d in b)c(b,d)&&(a[d]=b[d]);return c(b,"toString")&&(a.toString=b.toString),c(b,"valueOf")&&(a.valueOf=b.valueOf),a}function n(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=b._pf),"undefined"!=typeof b._locale&&(a._locale=b._locale),Ia.length>0)for(c in Ia)d=Ia[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function o(a){return 0>a?Math.ceil(a):Math.floor(a)}function p(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function q(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function r(a,b){var c;return b=K(b,a),a.isBefore(b)?c=q(a,b):(c=q(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function s(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(g(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=ta.duration(c,d),t(this,e,a),this}}function t(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d||d,e&&a._d.setTime(+a._d+e*c),f&&na(a,"Date",ma(a,"Date")+f*c),g&&la(a,ma(a,"Month")+g*c),d&&ta.updateOffset(a,f||g)}function u(a){return"[object Array]"===Object.prototype.toString.call(a)}function v(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function w(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&A(a[d])!==A(b[d]))&&g++;return g+f}function x(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=jb[a]||kb[b]||b}return a}function y(a){var b,d,e={};for(d in a)c(a,d)&&(b=x(d),b&&(e[b]=a[d]));return e}function z(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}ta[b]=function(e,f){var g,h,i=ta._locale[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=ta().utc().set(d,a);return i.call(ta._locale,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function A(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function B(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function C(a,b,c){return ha(ta([a,11,31+b-c]),b,c).week}function D(a){return E(a)?366:365}function E(a){return a%4===0&&a%100!==0||a%400===0}function F(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[Ba]<0||a._a[Ba]>11?Ba:a._a[Ca]<1||a._a[Ca]>B(a._a[Aa],a._a[Ba])?Ca:a._a[Da]<0||a._a[Da]>24||24===a._a[Da]&&(0!==a._a[Ea]||0!==a._a[Fa]||0!==a._a[Ga])?Da:a._a[Ea]<0||a._a[Ea]>59?Ea:a._a[Fa]<0||a._a[Fa]>59?Fa:a._a[Ga]<0||a._a[Ga]>999?Ga:-1,a._pf._overflowDayOfYear&&(Aa>b||b>Ca)&&(b=Ca),a._pf.overflow=b)}function G(b){return null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&b._pf.overflow<0&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length&&b._pf.bigHour===a)),b._isValid}function H(a){return a?a.toLowerCase().replace("_","-"):a}function I(a){for(var b,c,d,e,f=0;f<a.length;){for(e=H(a[f]).split("-"),b=e.length,c=H(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=J(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&w(e,c,!0)>=b-1)break;b--}f++}return null}function J(a){var b=null;if(!Ha[a]&&Ja)try{b=ta.locale(),require("./locale/"+a),ta.locale(b)}catch(a){}return Ha[a]}function K(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(ta.isMoment(a)||v(a)?+a:+ta(a))-+c,c._d.setTime(+c._d+d),ta.updateOffset(c,!1),c):ta(a).local()}function L(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function M(a){var b,c,d=a.match(Na);for(b=0,c=d.length;c>b;b++)d[b]=pb[d[b]]?pb[d[b]]:L(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function N(a,b){return a.isValid()?(b=O(b,a.localeData()),lb[b]||(lb[b]=M(b)),lb[b](a)):a.localeData().invalidDate()}function O(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Oa.lastIndex=0;d>=0&&Oa.test(a);)a=a.replace(Oa,c),Oa.lastIndex=0,d-=1;return a}function P(a,b){var c,d=b._strict;switch(a){case"Q":return Za;case"DDDD":return _a;case"YYYY":case"GGGG":case"gggg":return d?ab:Ra;case"Y":case"G":case"g":return cb;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?bb:Sa;case"S":if(d)return Za;case"SS":if(d)return $a;case"SSS":if(d)return _a;case"DDD":return Qa;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ua;case"a":case"A":return b._locale._meridiemParse;case"x":return Xa;case"X":return Ya;case"Z":case"ZZ":return Va;case"T":return Wa;case"SSSS":return Ta;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?$a:Pa;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Pa;case"Do":return d?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:return c=new RegExp(Y(X(a.replace("\\","")),"i"))}}function Q(a){a=a||"";var b=a.match(Va)||[],c=b[b.length-1]||[],d=(c+"").match(hb)||["-",0,0],e=+(60*d[1])+A(d[2]);return"+"===d[0]?-e:e}function R(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[Ba]=3*(A(b)-1));break;case"M":case"MM":null!=b&&(e[Ba]=A(b)-1);break;case"MMM":case"MMMM":d=c._locale.monthsParse(b,a,c._strict),null!=d?e[Ba]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[Ca]=A(b));break;case"Do":null!=b&&(e[Ca]=A(parseInt(b.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=A(b));break;case"YY":e[Aa]=ta.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[Aa]=A(b);break;case"a":case"A":c._isPm=c._locale.isPM(b);break;case"h":case"hh":c._pf.bigHour=!0;case"H":case"HH":e[Da]=A(b);break;case"m":case"mm":e[Ea]=A(b);break;case"s":case"ss":e[Fa]=A(b);break;case"S":case"SS":case"SSS":case"SSSS":e[Ga]=A(1e3*("0."+b));break;case"x":c._d=new Date(A(b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=Q(b);break;case"dd":case"ddd":case"dddd":d=c._locale.weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=A(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=ta.parseTwoDigitYear(b)}}function S(a){var c,d,e,f,g,h,i;c=a._w,null!=c.GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[Aa],ha(ta(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(g=a._locale._week.dow,h=a._locale._week.doy,d=b(c.gg,a._a[Aa],ha(ta(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d,g>f&&++e):f=null!=c.e?c.e+g:g),i=ia(d,e,f,h,g),a._a[Aa]=i.year,a._dayOfYear=i.dayOfYear}function T(a){var c,d,e,f,g=[];if(!a._d){for(e=V(a),a._w&&null==a._a[Ca]&&null==a._a[Ba]&&S(a),a._dayOfYear&&(f=b(a._a[Aa],e[Aa]),a._dayOfYear>D(f)&&(a._pf._overflowDayOfYear=!0),d=da(f,0,a._dayOfYear),a._a[Ba]=d.getUTCMonth(),a._a[Ca]=d.getUTCDate()),c=0;3>c&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;7>c;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[Da]&&0===a._a[Ea]&&0===a._a[Fa]&&0===a._a[Ga]&&(a._nextDay=!0,a._a[Da]=0),a._d=(a._useUTC?da:ca).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm),a._nextDay&&(a._a[Da]=24)}}function U(a){var b;a._d||(b=y(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],T(a))}function V(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function W(b){if(b._f===ta.ISO_8601)return void $(b);b._a=[],b._pf.empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=O(b._f,b._locale).match(Na)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(P(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&b._pf.unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),pb[f]?(d?b._pf.empty=!1:b._pf.unusedTokens.push(f),R(f,d,b)):b._strict&&!d&&b._pf.unusedTokens.push(f);b._pf.charsLeftOver=i-j,h.length>0&&b._pf.unusedInput.push(h),b._pf.bigHour===!0&&b._a[Da]<=12&&(b._pf.bigHour=a),b._isPm&&b._a[Da]<12&&(b._a[Da]+=12),b._isPm===!1&&12===b._a[Da]&&(b._a[Da]=0),T(b),F(b)}function X(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function Y(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(a){var b,c,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(NaN));for(f=0;f<a._f.length;f++)g=0,b=n({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=d(),b._f=a._f[f],W(b),G(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,c=b));m(a,c||b)}function $(a){var b,c,d=a._i,e=db.exec(d);if(e){for(a._pf.iso=!0,b=0,c=fb.length;c>b;b++)if(fb[b][1].exec(d)){a._f=fb[b][0]+(e[6]||" ");break}for(b=0,c=gb.length;c>b;b++)if(gb[b][1].exec(d)){a._f+=gb[b][0];break}d.match(Va)&&(a._f+="Z"),W(a)}else a._isValid=!1}function _(a){$(a),a._isValid===!1&&(delete a._isValid,ta.createFromInputFallback(a))}function aa(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function ba(b){var c,d=b._i;d===a?b._d=new Date:v(d)?b._d=new Date(+d):null!==(c=Ka.exec(d))?b._d=new Date(+c[1]):"string"==typeof d?_(b):u(d)?(b._a=aa(d.slice(0),function(a){return parseInt(a,10)}),T(b)):"object"==typeof d?U(b):"number"==typeof d?b._d=new Date(d):ta.createFromInputFallback(b)}function ca(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function da(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ea(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function fa(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ga(a,b,c){var d=ta.duration(a).abs(),e=ya(d.as("s")),f=ya(d.as("m")),g=ya(d.as("h")),h=ya(d.as("d")),i=ya(d.as("M")),j=ya(d.as("y")),k=e<mb.s&&["s",e]||1===f&&["m"]||f<mb.m&&["mm",f]||1===g&&["h"]||g<mb.h&&["hh",g]||1===h&&["d"]||h<mb.d&&["dd",h]||1===i&&["M"]||i<mb.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,fa.apply({},k)}function ha(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=ta(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ia(a,b,c,d,e){var f,g,h=da(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,
dayOfYear:g>0?g:D(a-1)+g}}function ja(b){var c,d=b._i,e=b._f;return b._locale=b._locale||ta.localeData(b._l),null===d||e===a&&""===d?ta.invalid({nullInput:!0}):("string"==typeof d&&(b._i=d=b._locale.preparse(d)),ta.isMoment(d)?new k(d,!0):(e?u(e)?Z(b):W(b):ba(b),c=new k(b),c._nextDay&&(c.add(1,"d"),c._nextDay=a),c))}function ka(a,b){var c,d;if(1===b.length&&u(b[0])&&(b=b[0]),!b.length)return ta();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function la(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),B(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function ma(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function na(a,b,c){return"Month"===b?la(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function oa(a,b){return function(c){return null!=c?(na(this,a,c),ta.updateOffset(this,b),this):ma(this,a)}}function pa(a){return 400*a/146097}function qa(a){return 146097*a/400}function ra(a){ta.duration.fn[a]=function(){return this._data[a]}}function sa(a){"undefined"==typeof ender&&(ua=xa.moment,xa.moment=a?f("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ta):ta)}for(var ta,ua,va,wa="2.8.4",xa="undefined"!=typeof global?global:this,ya=Math.round,za=Object.prototype.hasOwnProperty,Aa=0,Ba=1,Ca=2,Da=3,Ea=4,Fa=5,Ga=6,Ha={},Ia=[],Ja="undefined"!=typeof module&&module&&module.exports,Ka=/^\/?Date\((\-?\d+)/i,La=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ma=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Na=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Oa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pa=/\d\d?/,Qa=/\d{1,3}/,Ra=/\d{1,4}/,Sa=/[+\-]?\d{1,6}/,Ta=/\d+/,Ua=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Va=/Z|[\+\-]\d\d:?\d\d/gi,Wa=/T/i,Xa=/[\+\-]?\d+/,Ya=/[\+\-]?\d+(\.\d{1,3})?/,Za=/\d/,$a=/\d\d/,_a=/\d{3}/,ab=/\d{4}/,bb=/[+-]?\d{6}/,cb=/[+-]?\d+/,db=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,eb="YYYY-MM-DDTHH:mm:ssZ",fb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],gb=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],hb=/([\+\-]|\d\d)/gi,ib=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),jb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},kb={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},lb={},mb={s:45,m:45,h:22,d:26,M:11},nb="DDD w W M D d".split(" "),ob="M D H h m s w W".split(" "),pb={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+p(Math.abs(a),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return A(this.milliseconds()/100)},SS:function(){return p(A(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+p(A(a/60),2)+":"+p(A(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+p(A(a/60),2)+p(A(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},qb={},rb=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];nb.length;)va=nb.pop(),pb[va+"o"]=i(pb[va],va);for(;ob.length;)va=ob.pop(),pb[va+va]=h(pb[va],2);pb.DDDD=h(pb.DDD,3),m(j.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=ta.utc([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=ta([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.apply(b,[c]):d},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},week:function(a){return ha(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ta=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=b,g._f=c,g._l=e,g._strict=f,g._isUTC=!1,g._pf=d(),ja(g)},ta.suppressDeprecationWarnings=!1,ta.createFromInputFallback=f("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),ta.min=function(){var a=[].slice.call(arguments,0);return ka("isBefore",a)},ta.max=function(){var a=[].slice.call(arguments,0);return ka("isAfter",a)},ta.utc=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=b,g._f=c,g._strict=f,g._pf=d(),ja(g).utc()},ta.unix=function(a){return ta(1e3*a)},ta.duration=function(a,b){var d,e,f,g,h=a,i=null;return ta.isDuration(a)?h={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(h={},b?h[b]=a:h.milliseconds=a):(i=La.exec(a))?(d="-"===i[1]?-1:1,h={y:0,d:A(i[Ca])*d,h:A(i[Da])*d,m:A(i[Ea])*d,s:A(i[Fa])*d,ms:A(i[Ga])*d}):(i=Ma.exec(a))?(d="-"===i[1]?-1:1,f=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*d},h={y:f(i[2]),M:f(i[3]),d:f(i[4]),h:f(i[5]),m:f(i[6]),s:f(i[7]),w:f(i[8])}):"object"==typeof h&&("from"in h||"to"in h)&&(g=r(ta(h.from),ta(h.to)),h={},h.ms=g.milliseconds,h.M=g.months),e=new l(h),ta.isDuration(a)&&c(a,"_locale")&&(e._locale=a._locale),e},ta.version=wa,ta.defaultFormat=eb,ta.ISO_8601=function(){},ta.momentProperties=Ia,ta.updateOffset=function(){},ta.relativeTimeThreshold=function(b,c){return mb[b]!==a&&(c===a?mb[b]:(mb[b]=c,!0))},ta.lang=f("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return ta.locale(a,b)}),ta.locale=function(a,b){var c;return a&&(c="undefined"!=typeof b?ta.defineLocale(a,b):ta.localeData(a),c&&(ta.duration._locale=ta._locale=c)),ta._locale._abbr},ta.defineLocale=function(a,b){return null!==b?(b.abbr=a,Ha[a]||(Ha[a]=new j),Ha[a].set(b),ta.locale(a),Ha[a]):(delete Ha[a],null)},ta.langData=f("moment.langData is deprecated. Use moment.localeData instead.",function(a){return ta.localeData(a)}),ta.localeData=function(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return ta._locale;if(!u(a)){if(b=J(a))return b;a=[a]}return I(a)},ta.isMoment=function(a){return a instanceof k||null!=a&&c(a,"_isAMomentObject")},ta.isDuration=function(a){return a instanceof l};for(va=rb.length-1;va>=0;--va)z(rb[va]);ta.normalizeUnits=function(a){return x(a)},ta.invalid=function(a){var b=ta.utc(NaN);return null!=a?m(b._pf,a):b._pf.userInvalidated=!0,b},ta.parseZone=function(){return ta.apply(null,arguments).parseZone()},ta.parseTwoDigitYear=function(a){return A(a)+(A(a)>68?1900:2e3)},m(ta.fn=k.prototype,{clone:function(){return ta(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=ta(this).utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():N(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return G(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&w(this._a,(this._isUTC?ta.utc(this._a):ta(this._a)).toArray())>0)},parsingFlags:function(){return m({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.zone(0,a)},local:function(a){return this._isUTC&&(this.zone(0,a),this._isUTC=!1,a&&this.add(this._dateTzOffset(),"m")),this},format:function(a){var b=N(this,a||ta.defaultFormat);return this.localeData().postformat(b)},add:s(1,"add"),subtract:s(-1,"subtract"),diff:function(a,b,c){var d,e,f,g=K(a,this),h=6e4*(this.zone()-g.zone());return b=x(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+g.daysInMonth()),e=12*(this.year()-g.year())+(this.month()-g.month()),f=this-ta(this).startOf("month")-(g-ta(g).startOf("month")),f-=6e4*(this.zone()-ta(this).startOf("month").zone()-(g.zone()-ta(g).startOf("month").zone())),e+=f/d,"year"===b&&(e/=12)):(d=this-g,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-h)/864e5:"week"===b?(d-h)/6048e5:d),c?e:o(e)},from:function(a,b){return ta.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(ta(),a)},calendar:function(a){var b=a||ta(),c=K(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,ta(b)))},isLeapYear:function(){return E(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=ea(a,this.localeData()),this.add(a-b,"d")):b},month:oa("Month",!0),startOf:function(a){switch(a=x(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(b){return b=x(b),b===a||"millisecond"===b?this:this.startOf(b).add(1,"isoWeek"===b?"week":b).subtract(1,"ms")},isAfter:function(a,b){var c;return b=x("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=ta.isMoment(a)?a:ta(a),+this>+a):(c=ta.isMoment(a)?+a:+ta(a),c<+this.clone().startOf(b))},isBefore:function(a,b){var c;return b=x("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=ta.isMoment(a)?a:ta(a),+a>+this):(c=ta.isMoment(a)?+a:+ta(a),+this.clone().endOf(b)<c)},isSame:function(a,b){var c;return b=x(b||"millisecond"),"millisecond"===b?(a=ta.isMoment(a)?a:ta(a),+this===+a):(c=+ta(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))},min:f("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=ta.apply(null,arguments),this>a?this:a}),max:f("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=ta.apply(null,arguments),a>this?this:a}),zone:function(a,b){var c,d=this._offset||0;return null==a?this._isUTC?d:this._dateTzOffset():("string"==typeof a&&(a=Q(a)),Math.abs(a)<16&&(a*=60),!this._isUTC&&b&&(c=this._dateTzOffset()),this._offset=a,this._isUTC=!0,null!=c&&this.subtract(c,"m"),d!==a&&(!b||this._changeInProgress?t(this,ta.duration(d-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ta.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?ta(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return B(this.year(),this.month())},dayOfYear:function(a){var b=ya((ta(this).startOf("day")-ta(this).startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=ha(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=ha(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=ha(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return C(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return C(this.year(),a.dow,a.doy)},get:function(a){return a=x(a),this[a]()},set:function(a,b){return a=x(a),"function"==typeof this[a]&&this[a](b),this},locale:function(b){var c;return b===a?this._locale._abbr:(c=ta.localeData(b),null!=c&&(this._locale=c),this)},lang:f("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return b===a?this.localeData():this.locale(b)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),ta.fn.millisecond=ta.fn.milliseconds=oa("Milliseconds",!1),ta.fn.second=ta.fn.seconds=oa("Seconds",!1),ta.fn.minute=ta.fn.minutes=oa("Minutes",!1),ta.fn.hour=ta.fn.hours=oa("Hours",!0),ta.fn.date=oa("Date",!0),ta.fn.dates=f("dates accessor is deprecated. Use date instead.",oa("Date",!0)),ta.fn.year=oa("FullYear",!0),ta.fn.years=f("years accessor is deprecated. Use year instead.",oa("FullYear",!0)),ta.fn.days=ta.fn.day,ta.fn.months=ta.fn.month,ta.fn.weeks=ta.fn.week,ta.fn.isoWeeks=ta.fn.isoWeek,ta.fn.quarters=ta.fn.quarter,ta.fn.toJSON=ta.fn.toISOString,m(ta.duration.fn=l.prototype,{_bubble:function(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;g.milliseconds=d%1e3,a=o(d/1e3),g.seconds=a%60,b=o(a/60),g.minutes=b%60,c=o(b/60),g.hours=c%24,e+=o(c/24),h=o(pa(e)),e-=o(qa(h)),f+=o(e/30),e%=30,h+=o(f/12),f%=12,g.days=e,g.months=f,g.years=h},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*A(this._months/12)},humanize:function(a){var b=ga(this,!a,this.localeData());return a&&(b=this.localeData().pastFuture(+this,b)),this.localeData().postformat(b)},add:function(a,b){var c=ta.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=ta.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=x(a),this[a.toLowerCase()+"s"]()},as:function(a){var b,c;if(a=x(a),"month"===a||"year"===a)return b=this._days+this._milliseconds/864e5,c=this._months+12*pa(b),"month"===a?c:c/12;switch(b=this._days+Math.round(qa(this._months/12)),a){case"week":return b/7+this._milliseconds/6048e5;case"day":return b+this._milliseconds/864e5;case"hour":return 24*b+this._milliseconds/36e5;case"minute":return 24*b*60+this._milliseconds/6e4;case"second":return 24*b*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*b*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+a)}},lang:ta.fn.lang,locale:ta.fn.locale,toIsoString:f("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},localeData:function(){return this._locale}}),ta.duration.fn.toString=ta.duration.fn.toISOString;for(va in ib)c(ib,va)&&ra(va.toLowerCase());ta.duration.fn.asMilliseconds=function(){return this.as("ms")},ta.duration.fn.asSeconds=function(){return this.as("s")},ta.duration.fn.asMinutes=function(){return this.as("m")},ta.duration.fn.asHours=function(){return this.as("h")},ta.duration.fn.asDays=function(){return this.as("d")},ta.duration.fn.asWeeks=function(){return this.as("weeks")},ta.duration.fn.asMonths=function(){return this.as("M")},ta.duration.fn.asYears=function(){return this.as("y")},ta.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===A(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),Ja?module.exports=ta:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(xa.moment=ua),ta}),sa(!0)):sa()}.call(this),function(a){"function"==typeof define&&define.amd?define("moment.zhcn",["moment"],a):"object"==typeof exports?module.exports=a(require("../moment")):a(("undefined"!=typeof global?global:this).moment)}(function(a){return a.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",LTS:"Ah点m分s秒",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(a,b,c){var d=100*a+b;return d<600?"凌晨":d<900?"早上":d<1130?"上午":d<1230?"中午":d<1800?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var b,c;return b=a().startOf("week"),c=this.unix()-b.unix()>=604800?"[下]":"[本]",0===this.minutes()?c+"dddAh点整":c+"dddAh点mm"},lastWeek:function(){var b,c;return b=a().startOf("week"),c=this.unix()<b.unix()?"[上]":"[本]",0===this.minutes()?c+"dddAh点整":c+"dddAh点mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(日|月|周)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"日";case"M":return a+"月";case"w":case"W":return a+"周";default:return a}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})}),define("ulife.b2c.h5.util.helpers",["can","zepto","moment","underscore","moment.zhcn"],function(a,b,c,d){a.Mustache.registerHelper("ulife.currency",function(){var a=0;d.each(arguments,function(b,c,e){d.isFunction(b)&&(b=b()),d.isObject(b)||(b=parseFloat(b),d.isNumber(b)&&(a+=b))});var b=parseFloat(a);if(d.isNaN(b))return 9999;b=Math.round(100*b)/100;var c=b.toString(),e=c.indexOf(".");for(e<0&&(e=c.length,c+=".");c.length<=e+2;)c+="0";return c}),a.Mustache.registerHelper("ulife.time",function(a,b){return d.isFunction(a)&&(a=a()),d.isObject(arguments[1])&&(b="YYYY-MM-DD HH:mm:ss"),c(a).format(b)}),a.Mustache.registerHelper("ulife.length",function(){var a=0;return d.each(arguments,function(b,c,e){d.isFunction(b)&&(b=b()),a+=b.length||0}),a}),a.Mustache.registerHelper("ulife.array.contains",function(a,b,c){return d.isFunction(a)&&(a=a()),d.isFunction(a)&&(a=a()),b=b.split(","),d.isNumber(a)&&d.contains(b,a+"")?c.fn(c.contexts||this):c.inverse(c.contexts||this)}),a.Mustache.registerHelper("ulife.length.gt",function(a,b,c){var e;if(!a||!d.isNumber(b))return c.inverse(c.contexts||this);if(d.isNumber(a)&&(e=a),d.isFunction(a))if(a=a(),d.isNumber(a))e=a;else if(!a)return c.inverse(c.contexts||this);return d.isFunction(a)?e=a():d.isFunction(a.serialize)&&(a=a.serialize(),e=a.length),d.isNumber(e)&&e>b?c.fn(c.contexts||this):c.inverse(c.contexts||this)}),a.Mustache.registerHelper("ulife.num.add",function(a,b,c){return d.isFunction(a)&&(a=a()),d.isFunction(b)&&(b=b()),a+b}),a.Mustache.registerHelper("ulife.num.compare",function(a,b,c,e){var f=!1;if(d.isFunction(a)&&(a=a()),d.isFunction(b)&&(b=b()),a=parseFloat(a),b=parseFloat(b),d.isFinite(a)&&d.isFinite(b))switch(c){case"neq":f=a!=b;break;case"gt":f=a>b;break;case"lt":f=a<b;break;case"gte":f=a>=b;break;case"lte":f=a<=b;break;default:f=a==b}return f?e.fn(e.contexts||this):e.inverse(e.contexts||this)}),a.Mustache.registerHelper("ulife.createTag",function(a){d.isFunction(a)&&(a=a()),1==a.length&&a[0]&&(a=a[0].split(","));var b="";return d.each(a,function(a){a&&(b+='<img src="'+a+'" class="icon_tag">')}),b}),a.Mustache.registerHelper("ulife.img.views",function(a,b,c,e){d.isFunction(a)&&(a=a());var f=[a];return/\?/.test(a)?f.push("&"):f.push("?"),d.isBoolean(b)&&b&&f.push("op=watermark&mode=1&image=aHR0cDovL2kyLnVjYWl5dWFuLmNvbS93YXRlcm1hcmsvNzIwcGljd2F0ZXJtYXJrLnBuZw==&gravity=CENTER&dissolve=100"),d.isNumber(c)&&(f.length>2&&f.push("|"),f.push("op=imageView2&mode=2&width="),f.push(c)),f.length>2&&(a=f.join("")),a}),a.Mustache.registerHelper("ulife.module.top",function(a){var b;switch(d.isFunction(a)&&(a=a()),a){case"0":b="";break;case"10":b="mt_1";break;default:b=""}return b})}),define("text",["module"],function(a){"use strict";var b,c,d,e,f,g=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],h=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,i=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,j="undefined"!=typeof location&&location.href,k=j&&location.protocol&&location.protocol.replace(/\:/,""),l=j&&location.hostname,m=j&&(location.port||void 0),n={},o=a.config&&a.config()||{};return b={version:"2.0.14",strip:function(a){if(a){a=a.replace(h,"");var b=a.match(i);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:o.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;b<3;b+=1){c=g[b];try{a=new ActiveXObject(c)}catch(a){}if(a){g=[c];break}}return a},parseName:function(a){var b,c,d,e=!1,f=a.lastIndexOf("."),g=0===a.indexOf("./")||0===a.indexOf("../");return f!==-1&&(!g||f>1)?(b=a.substring(0,f),c=a.substring(f+1)):b=a,d=c||b,f=d.indexOf("!"),f!==-1&&(e="strip"===d.substring(f+1),d=d.substring(0,f),c?c=d:b=d),{moduleName:b,ext:c,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,c,d,e){var f,g,h,i=b.xdRegExp.exec(a);return!i||(f=i[2],g=i[3],g=g.split(":"),h=g[1],g=g[0],!(f&&f!==c||g&&g.toLowerCase()!==d.toLowerCase()||(h||g)&&h!==e))},finishLoad:function(a,c,d,e){d=c?b.strip(d):d,o.isBuild&&(n[a]=d),e(d)},load:function(a,c,d,e){if(e&&e.isBuild&&!e.inlineText)return void d();o.isBuild=e&&e.isBuild;var f=b.parseName(a),g=f.moduleName+(f.ext?"."+f.ext:""),h=c.toUrl(g),i=o.useXhr||b.useXhr;return 0===h.indexOf("empty:")?void d():void(!j||i(h,k,l,m)?b.get(h,function(c){b.finishLoad(a,f.strip,c,d)},function(a){d.error&&d.error(a)}):c([g],function(a){b.finishLoad(f.moduleName+"."+f.ext,f.strip,a,d)}))},write:function(a,c,d,e){if(n.hasOwnProperty(c)){var f=b.jsEscape(n[c]);d.asModule(a+"!"+c,"define(function () { return '"+f+"';});\n")}},writeFile:function(a,c,d,e,f){var g=b.parseName(c),h=g.ext?"."+g.ext:"",i=g.moduleName+h,j=d.toUrl(g.moduleName+h)+".js";b.load(i,d,function(c){var d=function(a){return e(j,a)};d.asModule=function(a,b){return e.asModule(a,j,b)},b.write(a,i,d,f)},f)}},"node"===o.env||!o.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(c=require.nodeRequire("fs"),b.get=function(a,b,d){try{var e=c.readFileSync(a,"utf8");"\ufeff"===e[0]&&(e=e.substring(1)),b(e)}catch(a){d&&d(a)}}):"xhr"===o.env||!o.env&&b.createXhr()?b.get=function(a,c,d,e){var f,g=b.createXhr();if(g.open("GET",a,!0),e)for(f in e)e.hasOwnProperty(f)&&g.setRequestHeader(f.toLowerCase(),e[f]);o.onXhr&&o.onXhr(g,a),g.onreadystatechange=function(b){var e,f;4===g.readyState&&(e=g.status||0,e>399&&e<600?(f=new Error(a+" HTTP status: "+e),f.xhr=g,d&&d(f)):c(g.responseText),o.onXhrComplete&&o.onXhrComplete(g,a))},g.send(null)}:"rhino"===o.env||!o.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?b.get=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{for(c=new java.lang.StringBuffer,d=h.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),null!==d&&c.append(d);null!==(d=h.readLine());)c.append(g),c.append(d);i=String(c.toString())}finally{h.close()}b(i)}:("xpconnect"===o.env||!o.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(d=Components.classes,e=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),f="@mozilla.org/windows-registry-key;1"in d,b.get=function(a,b){var c,g,h,i={};f&&(a=a.replace(/\//g,"\\")),h=new FileUtils.File(a);try{c=d["@mozilla.org/network/file-input-stream;1"].createInstance(e.nsIFileInputStream),c.init(h,1,0,!1),g=d["@mozilla.org/intl/converter-input-stream;1"].createInstance(e.nsIConverterInputStream),g.init(c,"utf-8",c.available(),e.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),g.readString(c.available(),i),g.close(),c.close(),b(i.value)}catch(a){throw new Error((h&&h.path||"")+": "+a)}}),b}),define("text!template_widget_loading",[],function(){return'<div class="global_ulife_loading" style=\'position: fixed;top: 50%;left: 50%;margin-left: -0.2rem;margin-top: -0.2rem;width: .4rem;z-index: 100;background: url("http://s1.ucaiyuan.com/h5/1.6.4/images/common/loading_img_2.png") no-repeat center;background-size: 100% 100%;-webkit-background-size: 100% 100%;\'>\n    <i class="loading_icon" style=\'display: block;width: .4rem;height: .4rem;background: url("http://s1.ucaiyuan.com/h5/1.6.4/images/common/loading_circle_2.png") no-repeat center;background-size: 100% 100%;-webkit-background-size: 100% 100%;-webkit-animation: loading 1s linear 0s infinite;animation: loading 1s linear 0s infinite;\'></i>\n</div>\n<div class="global_ulife_mask" style=\'position: fixed;width: 100%;height: 100%;top: 0;left: 0;background: rgba(0, 0, 0, 0);z-index: 99;\'></div>'}),define("ulife.b2c.h5.widget.loading",["zepto","can","text!template_widget_loading"],function(a,b,c){var d=".global_ulife_loading, .global_ulife_mask";return b.Control.extend({init:function(){},render:function(e){var f=a.extend({isShow:!0,zIndex:99},e);if(this.setup(a("body")),0==a(".global_ulife_loading").length){var g=b.mustache(c),h=g(e);this.element.append(h),a(".global_ulife_mask").css({zIndex:f.zIndex}),a(".global_ulife_loading").css({zIndex:f.zIndex+1}),f.isShow||a(".global_ulife_loading").addClass("hide")}else a(d).show()},show:function(a){this.render(a)},hide:function(){a(d).remove()}})}),define("text!template_widget_header",[],function(){return'<div class="container">\n    <header class="global_header">\n        <a href="javascript:void(0)" class="header_left"></a>\n        <h1>{{title}}</h1>\n    </header>\n\n</div>';
}),define("ulife.b2c.h5.widget.header",["zepto","can","ulife.business.config","text!template_widget_header"],function(a,b,c,d){return b.Control.extend({init:function(){this.render()},render:function(){var a=b.mustache(d),c=a(this.options);this.element.html(c),this.bindEvent()},bindEvent:function(){var a=this;window.onpopstate=function(a){""==window.location.hash&&window.history.back()},this.element.find(".header_left").on("click",function(){var d=b.deparam(window.location.search.substr(1));a.options.backBtnEvent&&_.isFunction(a.options.backBtnEvent)?a.options.backBtnEvent():d.ufrom?window.location.href=ufrom:document.referrer?window.history.back():window.location.href=c.setting.link.home})}})}),!function(a,b){"function"==typeof define&&(define.amd||define.cmd)?define("weixin",[],function(){return b(a)}):b(a,!0)}(this,function(a,b){function c(b,c,d){a.WeixinJSBridge?WeixinJSBridge.invoke(b,e(c),function(a){g(b,a,d)}):j(b,d)}function d(b,c,d){a.WeixinJSBridge?WeixinJSBridge.on(b,function(a){d&&d.trigger&&d.trigger(a),g(b,a,c)}):d?j(b,d):j(b,c)}function e(a){return a=a||{},a.appId=B.appId,a.verifyAppId=B.appId,a.verifySignType="sha1",a.verifyTimestamp=B.timestamp+"",a.verifyNonceStr=B.nonceStr,a.verifySignature=B.signature,a}function f(a){return{timeStamp:a.timestamp+"",nonceStr:a.nonceStr,package:a.package,paySign:a.paySign,signType:a.signType||"SHA1"}}function g(a,b,c){var d,e,f;switch(delete b.err_code,delete b.err_desc,delete b.err_detail,d=b.errMsg,d||(d=b.err_msg,delete b.err_msg,d=h(a,d),b.errMsg=d),c=c||{},c._complete&&(c._complete(b),delete c._complete),d=b.errMsg||"",B.debug&&!c.isInnerInvoke&&alert(JSON.stringify(b)),e=d.indexOf(":"),f=d.substring(e+1)){case"ok":c.success&&c.success(b);break;case"cancel":c.cancel&&c.cancel(b);break;default:c.fail&&c.fail(b)}c.complete&&c.complete(b)}function h(a,b){var c,d,e=a,f=p[e];return f&&(e=f),c="ok",b&&(d=b.indexOf(":"),c=b.substring(d+1),"confirm"==c&&(c="ok"),"failed"==c&&(c="fail"),-1!=c.indexOf("failed_")&&(c=c.substring(7)),-1!=c.indexOf("fail_")&&(c=c.substring(5)),c=c.replace(/_/g," "),c=c.toLowerCase(),("access denied"==c||"no permission to execute"==c)&&(c="permission denied"),"config"==e&&"function not exist"==c&&(c="ok"),""==c&&(c="fail")),b=e+":"+c}function i(a){var b,c,d,e;if(a){for(b=0,c=a.length;c>b;++b)d=a[b],e=o[d],e&&(a[b]=e);return a}}function j(a,b){if(!(!B.debug||b&&b.isInnerInvoke)){var c=p[a];c&&(a=c),b&&b._complete&&delete b._complete,console.log('"'+a+'",',b||"")}}function k(){if(!(u||B.debug||"6.0.2">y||A.systemType<0)){var a=new Image;A.appId=B.appId,A.initTime=z.initEndTime-z.initStartTime,A.preVerifyTime=z.preVerifyEndTime-z.preVerifyStartTime,E.getNetworkType({isInnerInvoke:!0,success:function(b){A.networkType=b.networkType;var c="https://open.weixin.qq.com/sdk/report?v="+A.version+"&o="+A.isPreVerifyOk+"&s="+A.systemType+"&c="+A.clientVersion+"&a="+A.appId+"&n="+A.networkType+"&i="+A.initTime+"&p="+A.preVerifyTime+"&u="+A.url;a.src=c}})}}function l(){return(new Date).getTime()}function m(b){v&&(a.WeixinJSBridge?b():q.addEventListener&&q.addEventListener("WeixinJSBridgeReady",b,!1))}function n(){E.invoke||(E.invoke=function(b,c,d){a.WeixinJSBridge&&WeixinJSBridge.invoke(b,e(c),d)},E.on=function(b,c){a.WeixinJSBridge&&WeixinJSBridge.on(b,c)})}var o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;if(!a.jWeixin)return o={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest"},p=function(){var a,b={};for(a in o)b[o[a]]=a;return b}(),q=a.document,r=q.title,s=navigator.userAgent.toLowerCase(),t=navigator.platform.toLowerCase(),u=!(!t.match(/mac/i)&&!t.match(/win/i)),v=-1!=s.indexOf("micromessenger"),w=-1!=s.indexOf("android"),x=-1!=s.indexOf("iphone")||-1!=s.indexOf("ipad"),y=function(){var a=s.match(/micromessenger\/(\d+\.\d+\.\d+)/)||s.match(/micromessenger\/(\d+\.\d+)/);return a?a[1]:""}(),z={initStartTime:l(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},A={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:x?1:w?2:-1,clientVersion:y,url:encodeURIComponent(location.href)},B={},C={_completes:[]},D={state:0,res:{}},m(function(){z.initEndTime=l()}),E={config:function(a){B=a,j("config",a);var b=B.check!==!1;m(function(){var a,d,e;if(b)c(o.config,{verifyJsApiList:i(B.jsApiList)},function(){C._complete=function(a){z.preVerifyEndTime=l(),D.state=1,D.res=a},C.success=function(){A.isPreVerifyOk=0},C.fail=function(a){C._fail?C._fail(a):D.state=-1};var a=C._completes;return a.push(function(){k()}),C.complete=function(){for(var b=0,c=a.length;c>b;++b)a[b]();C._completes=[]},C}()),z.preVerifyStartTime=l();else{for(D.state=1,a=C._completes,d=0,e=a.length;e>d;++d)a[d]();C._completes=[]}}),B.beta&&n()},ready:function(a){0!=D.state?a():(C._completes.push(a),!v&&B.debug&&a())},error:function(a){"6.0.2">y||(-1==D.state?a(D.res):C._fail=a)},checkJsApi:function(a){var b=function(a){var b,c,d=a.checkResult;for(b in d)c=p[b],c&&(d[c]=d[b],delete d[b]);return a};c("checkJsApi",{jsApiList:i(a.jsApiList)},function(){return a._complete=function(a){if(w){var c=a.checkResult;c&&(a.checkResult=JSON.parse(c))}a=b(a)},a}())},onMenuShareTimeline:function(a){d(o.onMenuShareTimeline,{complete:function(){c("shareTimeline",{title:a.title||r,desc:a.title||r,img_url:a.imgUrl||"",link:a.link||location.href,type:a.type||"link",data_url:a.dataUrl||""},a)}},a)},onMenuShareAppMessage:function(a){d(o.onMenuShareAppMessage,{complete:function(){c("sendAppMessage",{title:a.title||r,desc:a.desc||"",link:a.link||location.href,img_url:a.imgUrl||"",type:a.type||"link",data_url:a.dataUrl||""},a)}},a)},onMenuShareQQ:function(a){d(o.onMenuShareQQ,{complete:function(){c("shareQQ",{title:a.title||r,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},onMenuShareWeibo:function(a){d(o.onMenuShareWeibo,{complete:function(){c("shareWeiboApp",{title:a.title||r,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},onMenuShareQZone:function(a){d(o.onMenuShareQZone,{complete:function(){c("shareQZone",{title:a.title||r,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},startRecord:function(a){c("startRecord",{},a)},stopRecord:function(a){c("stopRecord",{},a)},onVoiceRecordEnd:function(a){d("onVoiceRecordEnd",a)},playVoice:function(a){c("playVoice",{localId:a.localId},a)},pauseVoice:function(a){c("pauseVoice",{localId:a.localId},a)},stopVoice:function(a){c("stopVoice",{localId:a.localId},a)},onVoicePlayEnd:function(a){d("onVoicePlayEnd",a)},uploadVoice:function(a){c("uploadVoice",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},downloadVoice:function(a){c("downloadVoice",{serverId:a.serverId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},translateVoice:function(a){c("translateVoice",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},chooseImage:function(a){c("chooseImage",{scene:"1|2",count:a.count||9,sizeType:a.sizeType||["original","compressed"],sourceType:a.sourceType||["album","camera"]},function(){return a._complete=function(a){if(w){var b=a.localIds;b&&(a.localIds=JSON.parse(b))}},a}())},previewImage:function(a){c(o.previewImage,{current:a.current,urls:a.urls},a)},uploadImage:function(a){c("uploadImage",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},downloadImage:function(a){c("downloadImage",{serverId:a.serverId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},getNetworkType:function(a){var b=function(a){var b,c,d,e=a.errMsg;if(a.errMsg="getNetworkType:ok",b=a.subtype,delete a.subtype,b)a.networkType=b;else switch(c=e.indexOf(":"),d=e.substring(c+1)){case"wifi":case"edge":case"wwan":a.networkType=d;break;default:a.errMsg="getNetworkType:fail"}return a};c("getNetworkType",{},function(){return a._complete=function(a){a=b(a)},a}())},openLocation:function(a){c("openLocation",{latitude:a.latitude,longitude:a.longitude,name:a.name||"",address:a.address||"",scale:a.scale||28,infoUrl:a.infoUrl||""},a)},getLocation:function(a){a=a||{},c(o.getLocation,{type:a.type||"wgs84"},function(){return a._complete=function(a){delete a.type},a}())},hideOptionMenu:function(a){c("hideOptionMenu",{},a)},showOptionMenu:function(a){c("showOptionMenu",{},a)},closeWindow:function(a){a=a||{},c("closeWindow",{},a)},hideMenuItems:function(a){c("hideMenuItems",{menuList:a.menuList},a)},showMenuItems:function(a){c("showMenuItems",{menuList:a.menuList},a)},hideAllNonBaseMenuItem:function(a){c("hideAllNonBaseMenuItem",{},a)},showAllNonBaseMenuItem:function(a){c("showAllNonBaseMenuItem",{},a)},scanQRCode:function(a){a=a||{},c("scanQRCode",{needResult:a.needResult||0,scanType:a.scanType||["qrCode","barCode"]},function(){return a._complete=function(a){var b,c;x&&(b=a.resultStr,b&&(c=JSON.parse(b),a.resultStr=c&&c.scan_code&&c.scan_code.scan_result))},a}())},openProductSpecificView:function(a){c(o.openProductSpecificView,{pid:a.productId,view_type:a.viewType||0,ext_info:a.extInfo},a)},addCard:function(a){var b,d,e,f,g=a.cardList,h=[];for(b=0,d=g.length;d>b;++b)e=g[b],f={card_id:e.cardId,card_ext:e.cardExt},h.push(f);c(o.addCard,{card_list:h},function(){return a._complete=function(a){var b,c,d,e=a.card_list;if(e){for(e=JSON.parse(e),b=0,c=e.length;c>b;++b)d=e[b],d.cardId=d.card_id,d.cardExt=d.card_ext,d.isSuccess=!!d.is_succ,delete d.card_id,delete d.card_ext,delete d.is_succ;a.cardList=e,delete a.card_list}},a}())},chooseCard:function(a){c("chooseCard",{app_id:B.appId,location_id:a.shopId||"",sign_type:a.signType||"SHA1",card_id:a.cardId||"",card_type:a.cardType||"",card_sign:a.cardSign,time_stamp:a.timestamp+"",nonce_str:a.nonceStr},function(){return a._complete=function(a){a.cardList=a.choose_card_info,delete a.choose_card_info},a}())},openCard:function(a){var b,d,e,f,g=a.cardList,h=[];for(b=0,d=g.length;d>b;++b)e=g[b],f={card_id:e.cardId,code:e.code},h.push(f);c(o.openCard,{card_list:h},a)},chooseWXPay:function(a){c(o.chooseWXPay,f(a),a)}},b&&(a.wx=a.jWeixin=E),E}),define("ulife.api.member.wx.jssdk",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"member.wx.jssdk",SECURITY_TYPE:b.None.name,REQUIRED:["url"],PARAMETERS:{url:"string"},VERIFY:{},ERROR_CODE:{}}})}),define("ulife.b2c.h5.util.wechat",["zepto","can","weixin","ulife.b2c.h5.util.fn","ulife.b2c.h5.util.hybrid","ulife.api.member.wx.jssdk"],function(a,b,c,d,e,f){return d.isMobile.WeChat()&&a.ajax({url:"http://mbapi.ucaiyuan.com/wechat/sign?url="+encodeURIComponent(window.location.href),success:function(a){var b=a;0==b.code&&c.config({debug:b.data.debug,appId:b.data.appid,timestamp:b.data.timestamp,nonceStr:b.data.noncestr,signature:b.data.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","chooseWXPay","hideMenuItems","showMenuItems","closeWindow","previewImage"]})},error:function(a){}}),b.Control.extend({helpers:{},init:function(){},wxPay:function(a){c.ready(function(){c.chooseWXPay(a)})},share:function(a){c.ready(function(){c.onMenuShareTimeline(a),c.onMenuShareAppMessage(a),c.onMenuShareQQ(a),c.onMenuShareWeibo(a),c.onMenuShareQZone(a)})},hideOptionMenu:function(a){c.ready(function(){c.hideOptionMenu()})},showOptionMenu:function(a){c.ready(function(){c.showOptionMenu()})},closeWindow:function(a){c.ready(function(){c.closeWindow()})},hideMenuItems:function(a){c.ready(function(){c.hideMenuItems({menuList:a})})},showMenuItems:function(a){c.ready(function(){c.showMenuItems({menuList:a})})},hideAllNonBaseMenuItem:function(a){c.ready(function(){c.hideAllNonBaseMenuItem()})},showAllNonBaseMenuItem:function(a){c.ready(function(){c.showAllNonBaseMenuItem()})},previewImage:function(a,b){c.ready(function(){c.previewImage({current:a,urls:b})})},menuItem:{exposeArticle:"menuItem:exposeArticle",setFont:"menuItem:setFont",dayMode:"menuItem:dayMode",nightMode:"menuItem:nightMode",refresh:"menuItem:refresh",profile:"menuItem:profile",addContact:"menuItem:addContact",shareAppMessage:"menuItem:share:appMessage",shareTimelinee:"menuItem:share:timeline",shareQq:"menuItem:share:qq",shareWeiboApp:"menuItem:share:weiboApp",favorite:"menuItem:favorite",shareFacebook:"menuItem:share:facebook",shareQZone:"menuItem:share:QZone",readMode:"menuItem:readMode"}})}),define("ulife.b2c.h5.widget.share",["zepto","can","weixin","ulife.b2c.h5.util.fn","ulife.b2c.h5.util.hybrid","ulife.b2c.h5.util.wechat"],function(a,b,c,d,e,f){return b.Control.extend({helpers:{},utilWechat:new f,init:function(){},share:function(a){return!!(a.url&&a.title&&a.content&&a.image)&&(d.isMobile.WeChat()&&this.utilWechat.share({title:a.title,desc:a.content,link:a.url,imgUrl:a.image,success:a.success?a.success:function(){}}),void(d.isMobile.APP()&&e.appShare(a)))},shareAndCart:function(a){return!!(a.url&&a.title&&a.content&&a.image)&&void(d.isMobile.APP()&&e.appSetHeaderCartAndShare(a))}})}),define("text!template_widget_goTop",[],function(){return'<div id="goTop" class="global_go_top hide">\n    <img src="http://s1.ucaiyuan.com/h5/1.6.4/images/common/top_arrow.png">\n</div>'}),define("ulife.b2c.h5.widget.goTop",["zepto","can","text!template_widget_goTop"],function(a,b,c){return b.Control.extend({init:function(){this.render()},render:function(d){var e=b.mustache(c),f=e();a("body").append(f);var g=a("#goTop");g.on("click",function(){return window.scrollTo(0,0),!1}),a(window).on("scroll",function(){a(window).scrollTop()>300?g.removeClass("hide"):g.addClass("hide")})}})}),define("ulife.b2c.h5.widget.pop",["zepto","can","underscore"],function(a,b,c){return b.Control.extend({init:function(){this.setup(a("body"))},show:function(b){this.isShow=!0;var d=this,e={title:"",content:"",confirmText:"确定",cancelText:"",confirmFun:function(){d.hide()},cancelFun:function(){d.hide()}};a.extend(e,b);var f=e.title?'<header class="no_wrap">'+e.title+"</header>":"",g='<footer class="flex">'+(e.cancelText?'<a href="javascript:void(0)" class="btn g_cancel_btn flex_item">'+e.cancelText+"</a>":"")+'<a href="javascript:void(0)" class="btn g_confirm_btn flex_item">'+e.confirmText+"</a></footer>",h='<article class="global_pop">'+f+'<div class="wrap">'+e.content+"</div>"+g+"</article>",i='<div class="global_cover"></div>';d.element.append(i),d.element.append(h);var j=a(".g_confirm_btn"),k=a(".g_cancel_btn");j.one("click",e.confirmFun),k.one("click",e.cancelFun),c.defer(function(){a(".global_pop,.global_cover").addClass("active")})},isShow:!1,hide:function(){this.isShow=!1,a(".global_pop,.global_cover").removeClass("active"),c.delay(function(){a(".global_pop,.global_cover").remove()})}})}),define("text!template_widget_mask",[],function(){return'<div class="global_ulife_mask"></div>'}),define("ulife.b2c.h5.widget.mask",["zepto","can","text!template_widget_mask"],function(a,b,c){return b.Control.extend({init:function(){},render:function(d){if(this.setup(a("body")),0==a(".global_ulife_mask").length){var e=b.mustache(c),f=e();a("body").append(f)}else a(".global_ulife_mask").hide()},show:function(){this.render()},hide:function(){a(".global_ulife_mask").remove()}})}),define("ulife.api.member.login",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"member.login",SECURITY_TYPE:b.None.name,REQUIRED:["userName","password"],PARAMETERS:{userName:"string",password:"string",wxOpenId:"string"},VERIFY:{},ERROR_CODE:{40001:"编辑卷号生成单错误",40072:"用户名不存在",40073:"密码错误",40401:"您好！您的账号存在安全风险，已被限制登录！如有疑问，请联系客服：400-687-9090"}}})}),define("ulife.api.member.register",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"member.register",SECURITY_TYPE:b.None.name,REQUIRED:["userName","password","vCode"],PARAMETERS:{userName:"string",password:"string",vCode:"string"},VERIFY:{},ERROR_CODE:{40061:"手机号码格式错误",40112:"验证码错误",40113:"验证码过期",40114:"手机号被占用",40115:"注册失败"}}})}),define("ulife.api.common.sms",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"common.sms",SECURITY_TYPE:b.None.name,REQUIRED:["mobileNo","smsContext"],PARAMETERS:{mobileNo:"string",smsContext:"string"},VERIFY:{},ERROR_CODE:{40061:"手机号码格式错误",40117:"短信发送太频繁",40118:"短信类型不存在"}}})}),define("text!template_widget_account",[],function(){return'<article class="global_ulife_login">\n    <header>\n        <div class="img_wrap">\n            <img src="http://s1.ucaiyuan.com/h5/1.6.4/images/login/login_top_bg.jpg" class="auto_pos">\n        </div>\n        <i class="g_close_btn"></i>\n        {{#is config.type \'all\'}}\n            <div class="flex tab_btn">\n                <a href="javascript:void(0)" class="flex_item active" data-form="login_form">登录</a>\n                <a href="javascript:void(0)" class="flex_item" data-form="register_form">注册</a>\n            </div>\n        {{/is}}\n        {{#is config.type \'login\'}}\n            <h2>登录</h2>\n        {{/is}}\n        {{#is config.type \'register\'}}\n            <h2>注册</h2>\n        {{/is}}\n    </header>\n    <section class="wrap">\n        <div class="form_wrap">\n            <div class="input_wrap flex user_input">\n                <input type="text" placeholder="手机号" class="flex_item" id="g_mobile">\n                <i class="input_close hide"></i>\n            </div>\n            {{#is formTab \'register_form\'}}\n                <div class="input_wrap flex code_input">\n                    <input type="text" placeholder="请输入验证码" class="flex_item" maxlength="8" id="g_code">\n                    <a href="javascript:void(0)" class="g_code_btn">发送验证码</a>\n                </div>\n            {{/is}}\n            <div class="input_wrap flex pw_input">\n                <input type="password" placeholder="密码" class="flex_item" maxlength="30" id="g_password">\n            </div>\n            {{#errorMessage}}\n                <p class="error_message mb_1">{{errorMessage}}</p>\n            {{/errorMessage}}\n            {{#is formTab \'login_form\'}}\n                <a href="javascript:void (0)" class="g_btn g_login_btn">登录</a>\n                <p class="forget_link mt_1">\n                    <a href="javascript:void(0)">忘记密码</a>\n                </p>\n            {{else}}\n                <a href="javascript:void (0)" class="g_btn g_register_btn">注册</a>\n            {{/is}}\n        </div>\n    </section>\n</article>'}),define("ulife.b2c.h5.widget.account",["zepto","can","md5","zepto.cookie","underscore","ulife.b2c.h5.util.fn","ulife.b2c.h5.pagebase","ulife.b2c.h5.util.hybrid","ulife.b2c.h5.widget.loading","ulife.b2c.h5.widget.mask","ulife.b2c.h5.widget.toast","ulife.api.member.login","ulife.api.member.register","ulife.api.common.sms","text!template_widget_account"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){return b.Control.extend({helpers:{},model:new b.Map({errorMessage:"",formTab:"login_form",smsSending:!1,config:{type:"all",loginFn:!1,registerFn:!1}}),initConfig:function(){var a=this.model;a.attr("errorMessage","")},init:function(){this.setup(a("body")),this.loading=new i,this.mask=new j,this.toast=new k},show:function(b){if(f.isMobile.WeChat())return d("page_ref",window.location.href,{expires:30}),void(window.location.href="/wechatLogin.html");var c=this;c.hide(),c.mask.show(),a(".global_ulife_mask").css("background","rgba(0,0,0,.4)").addClass("forbidTouch"),b=a.extend(c.model.attr("config"),b),c.model.config.attr("type",b.type),c.model.config.attr("loginFn",b.loginFn),c.model.config.attr("registerFn",b.registerFn);var e="register"==b.type?"register_form":"login_form";c.model.attr("formTab",e),c.initConfig(),c.render(),a(".global_ulife_login").addClass("forbidTouch")},render:function(){var a=this,c=b.mustache(o),d=c(a.model,a.helpers);a.element.append(d),a.initEvent()},hide:function(){this.mask.hide(),a(".global_ulife_login").remove()},".g_login_btn click":function(b){if(!b.hasClass("active")){var c=a.trim(a("#g_mobile").val()),d=a.trim(a("#g_password").val());return 0==c.length?void this.model.attr("errorMessage","请输入用户名"):0==d.length?void this.model.attr("errorMessage","请输入密码"):void this.memberLogin(c,d)}},".g_register_btn click":function(b){if(!b.hasClass("active")){var c=a.trim(a("#g_mobile").val()),d=a.trim(a("#g_password").val()),e=a.trim(a("#g_code").val());return 0==c.length?void this.model.attr("errorMessage","请输入手机号"):0==d.length?void this.model.attr("errorMessage","请输入密码"):0==e.length?void this.model.attr("errorMessage","请输入验证码"):f.checkMobile(c)?void this.memberRegister(c,d,e):void this.model.attr("errorMessage","手机号码格式错误")}},memberLogin:function(g,i){a(".g_login_btn").addClass("active");var j=this,k=new l({userName:g,password:c(i)});return b.when(k.sendRequest()).done(function(a){d("_uid",a.customerId),f.isMobile.APP()&&h.setToken(a.token),e.isFunction(j.model.attr("config").loginFn)?j.model.attr("config").loginFn():j.hide()}).fail(function(a,b){console.log(a+" : "+b),j.model.attr("errorMessage",b)}).always(function(){a(".g_login_btn").removeClass("active")})},memberRegister:function(g,i,j){a(".g_register_btn").addClass("active");var k=this,l=new m({userName:g,password:c(i),vCode:j});return b.when(l.sendRequest()).done(function(a){if(d("_uid",a.customerId),f.isMobile.APP()&&h.setToken(a.token),e.isFunction(k.model.attr("config").registerFn)){var b="userid="+a.customerId+"&url="+window.location.href;__ozfac2(b,"#regok"),setTimeout(function(){k.model.attr("config").registerFn()},1e3)}else k.hide()}).fail(function(a,b){console.log(a+" : "+b),k.model.attr("errorMessage",b)}).always(function(){a(".g_register_btn").removeClass("active")})},".g_code_btn click":function(){if(!this.model.attr("smsSending")){var b=a.trim(a("#g_mobile").val());return 0==b.length?void this.model.attr("errorMessage","请输入手机号"):f.checkMobile(b)?void this.sendSms(b):void this.model.attr("errorMessage","手机号码格式错误")}},sendSms:function(c){var d=this,e="register",f=60,g=a(".global_ulife_login .g_code_btn"),h=new n({mobileNo:c,smsContext:e});return d.model.attr("smsSending",!0),b.when(h.sendRequest()).done(function(){d.toast.show("验证码已飞往您的手机",2e3),setTimeout(function(){g.addClass("active")},1e3);var a=setInterval(function(){f>0?(f--,g.html(f+"s")):(g.html("再次发送").removeClass("active"),clearInterval(a),d.model.attr("smsSending",!1))},1e3)}).fail(function(a,b){console.log(a+" : "+b),d.model.attr("errorMessage",b),d.model.attr("smsSending",!1)})},initEvent:function(){var b=a("#g_mobile"),c=a(".input_close");b.on("input",function(){c.removeClass("hide")}).on("focus",function(){a.trim(b.val()).length>0&&c.removeClass("hide")}),c.on("click",function(){c.addClass("hide"),b.val("")})},".global_ulife_login [data-form] click":function(a){var b=a.attr("data-form");return!a.hasClass("active")&&(this.initConfig(),a.addClass("active").siblings().removeClass("active"),void this.model.attr("formTab",b))},".global_ulife_login .g_close_btn click":function(){this.hide()},".global_ulife_login .forget_link click":function(){f.isMobile.APP()||(window.location.href="/register.html?type=forget")}})}),define("ulife.api.page.get",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"page.get",SECURITY_TYPE:b.None.name,REQUIRED:["type"],PARAMETERS:{type:"int",id:"int"},VERIFY:{},ERROR_CODE:{30101:"无效的 type 值",30102:"页面没有找到"}}})}),define("ulife.api.product.get",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"product.get",SECURITY_TYPE:b.None.name,REQUIRED:["id"],PARAMETERS:{id:"long"},VERIFY:{},ERROR_CODE:{10001:"不存在该商品",10002:"不存在该商品",10004:"参数格式错误",10005:"不存在该商品"}}})}),define("ulife.api.cms.page.preview",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"cms.page.preview",SECURITY_TYPE:b.None.name,REQUIRED:["type"],PARAMETERS:{type:"int",id:"int"},VERIFY:{},ERROR_CODE:{30107:"参数错误，预览页面没有找到",30108:"JSON数据解析出错！"}}})}),define("ulife.api.cart.add",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"cart.add",SECURITY_TYPE:b.None.name,REQUIRED:[],PARAMETERS:{items:"string"},VERIFY:{},ERROR_CODE:{10090:"购物车添加失败,参数错误或者为空"}}})}),define("ulife.api.promotion.exchange",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"promotion.exchange",SECURITY_TYPE:b.UserLogin.name,REQUIRED:["code"],PARAMETERS:{code:"string"},VERIFY:{},ERROR_CODE:{20004:"优惠券兑换失败",20008:"不存在该优惠券",20009:"优惠券已被绑定",20010:"优惠券已过期",20013:"优惠券已领完",20014:"此优惠券您已领取过",20021:"您的操作太频繁了，请休息下"}}})}),define("ulife.api.cart.simpleinfo",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"cart.simpleinfo",SECURITY_TYPE:b.None.name,REQUIRED:[],PARAMETERS:{cartversion:"int"},VERIFY:{},ERROR_CODE:{10087:"购物车获取失败"}}})}),function(a,b){"use strict";function c(a,b,c){b.css({"-webkit-transition":"all "+c+"s "+a.opts.transitionType,transition:"all "+c+"s "+a.opts.transitionType})}function d(a,b,c){var d=a.opts.axisX?c+"px,0,0":"0,"+c+"px,0";b.css({"-webkit-transform":"translate3d("+d+")",transform:"translate3d("+d+")"})}function e(a,c){var d=a.opts.ul.children(),e=d.eq(c).find("[data-src]");e&&e.each(function(a){var c=b(this);c.is("img")?(c.attr("src",c.data("src")),c.removeAttr("data-src")):(c.css({"background-image":"url("+c.data("src")+")"}),c.removeAttr("data-src"))})}function f(a){p.touch&&!a.touches&&(a.touches=a.originalEvent.touches)}function g(a,b){b.isScrolling=void 0,b._moveDistance=b._moveDistanceIE=0,b._startX=p.touch?a.touches[0].pageX:a.pageX||a.clientX,b._startY=p.touch?a.touches[0].pageY:a.pageY||a.clientY}function h(a,b){b.opts.autoSwipe&&k(b),b.allowSlideClick=!1,b._curX=p.touch?a.touches[0].pageX:a.pageX||a.clientX,b._curY=p.touch?a.touches[0].pageY:a.pageY||a.clientY,b._moveX=b._curX-b._startX,b._moveY=b._curY-b._startY,"undefined"==typeof b.isScrolling&&(b.opts.axisX?b.isScrolling=!!(Math.abs(b._moveX)>=Math.abs(b._moveY)):b.isScrolling=!!(Math.abs(b._moveY)>=Math.abs(b._moveX))),b.isScrolling&&(a.preventDefault?a.preventDefault():a.returnValue=!1,c(b,b.opts.ul,0),b._moveDistance=b._moveDistanceIE=b.opts.axisX?b._moveX:b._moveY),b.opts.continuousScroll||(0==b._index&&b._moveDistance>0||b._index+1>=b._liLength&&b._moveDistance<0)&&(b._moveDistance=0),d(b,b.opts.ul,-(b._slideDistance*b._index-b._moveDistance))}function i(a){a.isScrolling||j(a),(n.ie10||n.ie11)&&(Math.abs(a._moveDistanceIE)<5&&(a.allowSlideClick=!0),setTimeout(function(){a.allowSlideClick=!0},100)),Math.abs(a._moveDistance)<=a._distance?l(a,"",a.opts.slideTime):a._moveDistance>a._distance?l(a,"prev",a.opts.slideTime):Math.abs(a._moveDistance)>a._distance&&l(a,"next",a.opts.slideTime),a._moveDistance=a._moveDistanceIE=0}function j(a){a.opts.autoSwipe&&(k(a),a.autoSlide=setInterval(function(){l(a,"next",a.opts.slideTime)},a.opts.speed))}function k(a){clearInterval(a.autoSlide)}function l(a,b,c){"number"==typeof b?(a._index=b,a.opts.lazyLoad&&(a.opts.continuousScroll?(e(a,a._index),e(a,a._index+1),e(a,a._index+2)):(e(a,a._index-1),e(a,a._index),e(a,a._index+1)))):"next"==b?(a._index++,a.opts.lazyLoad&&(a.opts.continuousScroll?(e(a,a._index+2),a._index+1==a._liLength?e(a,1):a._index==a._liLength&&e(a,0)):e(a,a._index+1))):"prev"==b&&(a._index--,a.opts.lazyLoad&&(a.opts.continuousScroll?(e(a,a._index),0==a._index?e(a,a._liLength):a._index<0&&e(a,a._liLength-1)):e(a,a._index-1))),a.opts.continuousScroll?a._index>=a._liLength?(m(a,c),a._index=0,setTimeout(function(){m(a,0)},1e3*a.opts.slideTime)):a._index<0?(m(a,c),a._index=a._liLength-1,setTimeout(function(){m(a,0)},1e3*a.opts.slideTime)):m(a,c):(a._index>=a._liLength?a._index=0:a._index<0&&(a._index=a._liLength-1),m(a,c)),""!==arguments[1]&&a.opts.callback(a._index,a._liLength,a.$el)}function m(a,b){c(a,a.opts.ul,b),d(a,a.opts.ul,-a._index*a._slideDistance)}var n={ie10:a.navigator.msPointerEnabled,ie11:a.navigator.pointerEnabled},o=["touchstart","touchmove","touchend"],p={touch:a.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in a||a.DocumentTouch&&document instanceof DocumentTouch)}()};n.ie10&&(o=["MSPointerDown","MSPointerMove","MSPointerUp"]),n.ie11&&(o=["pointerdown","pointermove","pointerup"]);var q={touchStart:o[0],touchMove:o[1],touchEnd:o[2]};b.fn.swipeSlide=function(a){var b=[];return this.each(function(c,d){b.push(new r(d,a))}),b};var r=function(a,c){var d=this;d.$el=b(a),d._distance=50,d.allowSlideClick=!0,d.init(c)};r.prototype.init=function(k){function l(){var a=m.opts.ul.children();m._slideDistance=m.opts.axisX?m.opts.ul.width():m.opts.ul.height(),c(m,m.opts.ul,0),d(m,m.opts.ul,-m._slideDistance*m._index),c(m,a,0);var e=m.opts.continuousScroll?-1:0;a.each(function(a){d(m,b(this),m._slideDistance*(a+e))})}var m=this;if(m.opts=b.extend({},{ul:m.$el.children("ul"),li:m.$el.children().children("li"),index:0,continuousScroll:!1,autoSwipe:!0,speed:4e3,slideTime:.3,axisX:!0,transitionType:"ease",lazyLoad:!1,firstCallback:function(){},callback:function(){}},k),m._index=m.opts.index,m._liLength=m.opts.li.length,m.isScrolling,m.opts.firstCallback(m._index,m._liLength,m.$el),m._liLength<=1)return m.opts.lazyLoad&&e(m,0),!1;if(m.opts.continuousScroll&&m.opts.ul.prepend(m.opts.li.last().clone()).append(m.opts.li.first().clone()),m.opts.lazyLoad&&(e(m,m._index),m.opts.continuousScroll?(e(m,m._index+1),e(m,m._index+2),0==m._index?e(m,m._liLength):m._index+1==m._liLength&&e(m,1)):0==m._index?e(m,m._index+1):m._index+1==m._liLength?e(m,m._index-1):(e(m,m._index+1),e(m,m._index-1))),l(),n.ie10||n.ie11){var o="";o=m.opts.axisX?"pan-y":"none",m.$el.css({"-ms-touch-action":o,"touch-action":o}),m.$el.on("click",function(){return m.allowSlideClick})}j(m),m.$el.on(q.touchStart,function(a){f(a),g(a,m)}),m.$el.on(q.touchMove,function(a){f(a),h(a,m)}),m.$el.on(q.touchEnd,function(){i(m)}),m.opts.ul.on("webkitTransitionEnd MSTransitionEnd transitionend",function(){j(m)}),b(a).on("onorientationchange"in a?"orientationchange":"resize",function(){clearTimeout(m.timer),m.timer=setTimeout(l,150)})},r.prototype.goTo=function(a){var b=this;l(b,a,b.opts.slideTime)}}(window,window.Zepto||window.jQuery),define("swipeSlide",function(){}),define("text!template_module_slider_wrap",[],function(){return'<section class="section slider_wrap touch_slider" style="-webkit-transform-style: preserve-3d;">\n    <ul class="slider_inner">\n        {{#each data}}\n            <li class="slider_item">\n                <a name="__ad_flash{{@index}}" hybrid-href="{{url}}" href="javascript:void(0)">\n                    <img src="{{image}}">\n                </a>\n            </li>\n        {{/each}}\n    </ul>\n    <div class="dots">\n        {{#data}}\n            <span></span>\n        {{/data}}\n    </div>\n</section>\n\n'}),define("ulife.b2c.h5.module.slider_wrap",["zepto","store","swipeSlide","moment","underscore","text!template_module_slider_wrap"],function(a,b,c,d,e,f){return can.Control.extend({helpers:{},init:function(a,b){var c=b.data;if(e.isArray(c.data)&&0!=c.data.length){var g=d().format("x");if(g=b.nowTime,c.data=e.filter(c.data,function(a,b,c){return!a.startTime||!a.endTime||g>=a.startTime&&g<a.endTime}),0!=c.data.length){var h=can.mustache(f),i=h(c,this.helpers);this.element.append(i),this.slider()}}},slider:function(){a(".touch_slider").swipeSlide({lazyLoad:!0,continuousScroll:!0,transitionType:"cubic-bezier(0.22, 0.69, 0.72, 0.88)",firstCallback:function(a,b,c){c.find(".dots").children().first().addClass("active")},callback:function(a,b,c){c.find(".dots").children().eq(a).addClass("active").siblings().removeClass("active")}})}})}),define("text!template_module_nav_wrap",[],function(){return'<section class="section nav_wrap">\n    <nav class="flex">\n        {{#data}}\n            <a hybrid-multi-href="{{h5Url}}" data-href=\'{"iosUrl":"{{iosUrl}}","AndroidUrl":"{{AndroidUrl}}","h5Url":"{{h5Url}}","IOSParams":"{{IOSParams}}","AndroidParams":"{{AndroidParams}}" }\' href="javascript:void(0)" class="flex_item">\n                <img src="{{image}}"/>\n                <p class="title">{{iconName}}</p>\n            </a>\n        {{/data}}\n    </nav>\n</section>\n\n';
}),define("ulife.b2c.h5.module.nav_wrap",["zepto","store","text!template_module_nav_wrap"],function(a,b,c){return can.Control.extend({helpers:{},init:function(a,b){var d=b.data;if(_.isArray(d.data)&&0!=d.data.length){var e=can.mustache(c),f=e(d,this.helpers);this.element.append(f)}}})}),define("text!template_module_customer_new",[],function(){return'<section class="section customer_new {{#ulife.module.top attributes.top}}{{/ulife.module.top}}">\n    <h2 class="section_title">\n        {{#attributes.iconUrl}}<img src="{{attributes.iconUrl}}">{{/attributes.iconUrl}}\n        <strong>{{attributes.title}}</strong>\n        {{#if attributes.moreUrl}}\n            <a hybrid-href="{{attributes.moreUrl}}" class="more_link f_right" href="javascript:void(0)"></a>\n        {{/if}}\n    </h2>\n\n    <div class="line_x"></div>\n    <div class="content_wrap no_list">\n        {{#data}}\n            {{#ulife-isRuning data.startTime data.endTime}}\n                {{#ulife-isLimit-customer type}}\n                    <div class="item" data-activity-type="{{type}}">\n                        <a hybrid-href="{{data.link}}" href="javascript:void(0)" class="flex">\n                            <div class="img_wrap">\n                                <img src="http://s1.ucaiyuan.com/h5/1.6.4/images/common/grey.gif"  data-original="{{data.imgUrl}}" class="auto_pos lazy">\n                            </div>\n                            <div class="flex_item">\n                                <div class="time_wrap" data-start_time="{{data.startTime}}"\n                                     data-end_time="{{data.endTime}}"\n                                     data-timeDiff="{{data.timeDiff}}">\n                                    {{#ulife-showDatetime-customer data.startTime data.endTime data.timeDiff}}{{/ulife-showDatetime-customer}}\n                                </div>\n                                <h3 class="no_wrap" style="line-height: .2rem;">{{data.title}}</h3>\n\n                                <div class="price_wrap">\n                                    <span class="new_price"><i>￥</i>{{#ulife.currency data.price}}{{/ulife.currency}}</span>\n                                </div>\n                            </div>\n                        </a>\n                    </div>\n                {{else}}\n                    <div class="item">\n                        <a hybrid-href="{{data.url}}" href="javascript:void(0)" class="flex">\n                            <div class="img_wrap">\n                                <img src="http://s1.ucaiyuan.com/h5/1.6.4/images/common/grey.gif" data-original="{{data.image}}" class="auto_pos lazy">\n                            </div>\n                            <div class="flex_item">\n                                <h3 class="no_wrap">{{data.title}}</h3>\n                                <h4 class="no_wrap">{{data.desc}}</h4>\n\n                                <div class="price_wrap">\n                                    <span class="new_price"><i>￥</i>{{#ulife.currency data.price}}{{/ulife.currency}}</span>\n                                </div>\n                            </div>\n                        </a>\n                    </div>\n                {{/ulife-isLimit-customer}}\n            {{/ulife-isRuning}}\n        {{/data}}\n    </div>\n</section>\n'}),define("ulife.b2c.h5.module.customer_new",["zepto","store","moment","underscore","ulife.b2c.h5.util.fn","text!template_module_customer_new"],function(a,b,c,d,e,f){return can.Control.extend({helpers:{"ulife-isRuning":function(a,b,c){a=a(),b=b();var d=c.context.nowTime;return d>=a&&d<b?c.fn(c.contexts||this):c.inverse(c.contexts||this)},"ulife-isLimit-customer":function(a,b){return"LIMIT"==b.context.type?!!b.context.data.timeDiff&&b.fn(b.contexts||this):b.inverse(b.contexts||this)},"ulife-showDatetime-customer":function(a,b,d,f){a=a(),b=b(),d=d();var g=function(a){return'<span class="span1 hour">'+a[0]+'</span>&nbsp;<span class="span2 hour">'+a[1]+'</span>&nbsp;<i>:</i>&nbsp;<span class="span1 minute">'+a[2]+'</span>&nbsp;<span class="span2 minute">'+a[3]+'</span>&nbsp;<i>:</i>&nbsp;<span class="span1 second">'+a[4]+'</span>&nbsp;<span class="span2 second">'+a[5]+"</span>"},h=f.context.nowTime,i=[0,0,0,0,0,0];if(d&&h>=a&&h<=b){var j=c.duration(d);i=(e.subTime(j.hours())+e.subTime(j.minutes())+e.subTime(j.seconds())).split("")}return g(i)}},init:function(a,b){var c=[],e=b.nowTime;d.each(b.data.data,function(a,f){if(a.nowTime=b.nowTime,"LIMIT"==a.type){var g={};d.each(a.data,function(a){if(a.startTime<=e&&a.endTime>=e)return a.timeDiff=a.endTime-e,g=a,!1}),a.data=g,c.push(f)}});var g=new can.Map(b.data);d.each(c,function(a){setInterval(function(){g.attr("data."+a+".data.timeDiff",g.data[a].data.timeDiff-1e3)},1e3)});var h=can.mustache(f),i=h(g,this.helpers);this.element.append(i)}})}),define("text!template_module_new_product",[],function(){return'<section class="section new_product {{#ulife.module.top attributes.top}}{{/ulife.module.top}}">\n    {{#if attributes.title}}\n        <h2 class="section_title">\n            {{#attributes.iconUrl}}<img src="{{attributes.iconUrl}}">{{/attributes.iconUrl}}\n            <strong>{{attributes.title}}</strong>\n            {{#if attributes.moreUrl}}\n                <a hybrid-href="{{attributes.moreUrl}}" class="more_link f_right" href="javascript:void(0)"></a>\n            {{/if}}\n        </h2>\n    {{/if}}\n\n    <div class="line_x"></div>\n    <div class="content_wrap no_list">\n        {{#data}}\n            {{#ulife-isLimit type}}\n                {{#ulife-isOn onTime outTime}}\n                    <div class="item {{#ulife-isRuning startTime endTime}}buying{{else}}before_buy{{/ulife-isRuning}}">\n                        <a {{#ulife-isRuning startTime endTime}}hybrid-href="{{url}}"{{/ulife-isRuning}}\n                           href="javascript:void(0)" class="img_wrap">\n                            <img src="http://s1.ucaiyuan.com/h5/1.6.4/images/common/grey.gif" class="auto_pos lazy" data-original="{{image}}">\n                        </a>\n\n                        <div class="right_content">\n                            <div class="inner">\n                                <p class="show_text">\n                                    {{^ulife-isStart startTime}}距离开始还有{{/ulife-isStart}}\n                                    {{#ulife-isRuning startTime endTime}}距离结束还有{{/ulife-isRuning}}\n                                    {{#ulife-isEnd endTime}}活动已经结束{{/ulife-isEnd}}\n                                </p>\n\n                                <div class="time_wrap">\n                                    {{#ulife-showDatetime startTime endTime timeDiff}}{{/ulife-showDatetime}}\n                                </div>\n\n                                <h2 class="no_wrap title">\n                                    <a {{#ulife-isRuning startTime endTime}}hybrid-href="{{url}}"{{/ulife-isRuning}}\n                                       href="javascript:void(0)">{{title}}</a>\n                                </h2>\n\n                                <h4 class="desc_text no_wrap">{{subTitle}}</h4>\n\n                                <div class="price_wrap">\n                                    {{#if activityPrice}}\n                                        <span class="new_price">{{activityPrice}}</span>\n                                    {{/if}}\n                                    {{#if originPrice}}\n                                        <span class="old_price">{{originPrice}}</span>\n                                    {{/if}}\n                                </div>\n                                {{^ulife-isStart startTime}}<a href="javascript:void(0)"\n                                                               class="btn">即将开始</a>{{/ulife-isStart}}\n                                {{#ulife-isRuning startTime endTime}}<a hybrid-href="{{url}}" href="javascript:void(0)"\n                                                                        class="btn">去看看</a>{{/ulife-isRuning}}\n                                {{#ulife-isEnd endTime}}<a href="javascript:void(0)" class="btn">已结束</a>{{/ulife-isEnd}}\n                            </div>\n                        </div>\n                    </div>\n\n                {{/ulife-isOn}}\n            {{else}}\n                {{#ulife-isOn onTime outTime}}\n                    <div class="item activity buying">\n                        <a hybrid-href="{{url}}" href="javascript:void(0)" class="img_wrap">\n                            <img src="http://s1.ucaiyuan.com/h5/1.6.4/images/common/grey.gif" class="auto_pos lazy" data-original="{{image}}">\n                        </a>\n\n                        <div class="right_content">\n                            <div class="inner">\n\n                                <h2 class="no_wrap title">\n                                    <a hybrid-href="{{url}}" href="javascript:void(0)">{{title}}</a>\n                                </h2>\n\n                                <h4 class="desc_text">{{subTitle}}</h4>\n\n                                <div class="price_wrap">\n                                  {{#if activityPrice}}\n                                    <span class="new_price">{{activityPrice}}</span>\n                                  {{/if}}\n                                  {{#if originPrice}}\n                                    <span class="old_price">{{originPrice}}</span>\n                                  {{/if}}\n                                </div>\n                                <a hybrid-href="{{url}}" href="javascript:void(0)" class="btn">去看看</a>\n                            </div>\n                        </div>\n                    </div>\n                {{/ulife-isOn}}\n            {{/ulife-isLimit}}\n        {{/data}}\n    </div>\n</section>\n'}),define("ulife.b2c.h5.module.new_product",["zepto","store","moment","underscore","ulife.b2c.h5.util.fn","text!template_module_new_product"],function(a,b,c,d,e,f){return can.Control.extend({helpers:{"ulife-isLimit":function(a,b){return"LIMIT"==b.context.type?b.fn(b.contexts||this):b.inverse(b.contexts||this)},"ulife-isOn":function(a,b,c){a=a(),b=b();var d=c.context.nowTime;return a&&b?d>=a&&d<b?c.fn(c.contexts||this):c.inverse(c.contexts||this):c.fn(c.contexts||this)},"ulife-isRuning":function(a,b,c){a=a(),b=b();var d=c.context.nowTime;return d>=a&&d<b?c.fn(c.contexts||this):c.inverse(c.contexts||this)},"ulife-isStart":function(a,b){a=a();var c=b.context.nowTime;return c>=a?b.fn(b.contexts||this):b.inverse(b.contexts||this)},"ulife-isEnd":function(a,b){a=a();var c=b.context.nowTime;return c>=a?b.fn(b.contexts||this):b.inverse(b.contexts||this)},"ulife-showDatetime":function(a,b,d,f){a=a(),b=b(),d=d();var g=function(a){return'<span class="span1 day">'+a[0]+'</span>&nbsp;<span class="span2 day">'+a[1]+'</span>&nbsp;<i class="span_day">天</i>&nbsp;<span class="span1 hour">'+a[2]+'</span>&nbsp;<span class="span2 hour">'+a[3]+'</span>&nbsp;<i>:</i>&nbsp;<span class="span1 minute">'+a[4]+'</span>&nbsp;<span class="span2 minute">'+a[5]+'</span>&nbsp;<i>:</i>&nbsp;<span class="span1 second">'+a[6]+'</span>&nbsp;<span class="span2 second">'+a[7]+"</span>"},h=f.context.nowTime,i=[0,0,0,0,0,0,0,0];if(h<a||h>=a&&h<=b){var j=c.duration(d);i=(e.subTime(j.days())+e.subTime(j.hours())+e.subTime(j.minutes())+e.subTime(j.seconds())).split("")}return g(i)}},init:function(a,b){var c=[],e=b.nowTime;d.each(b.data.data,function(a,b){a.nowTime=e,"LIMIT"==a.type&&(a.timeDiff=a.startTime>e?a.startTime-e:a.endTime>e?a.endTime-e:0,c.push(b))});var g=new can.Map(b.data);d.each(c,function(a){setInterval(function(){g.attr("data."+a+".timeDiff",g.data[a].timeDiff-1e3)},1e3)});var h=can.mustache(f),i=h(g,this.helpers);this.element.append(i)}})}),define("ulife.api.stock.get",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"stock.get",SECURITY_TYPE:b.None.name,REQUIRED:["id"],PARAMETERS:{id:"long",type:"int"},VERIFY:{},ERROR_CODE:{10001:"不存在该商品"}}})}),define("ulife.api.search.searchItem",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"search.searchItem",SECURITY_TYPE:b.None.name,REQUIRED:["request"],PARAMETERS:{request:"Api_SEARCH_ItemSearchRequest"},VERIFY:{},ERROR_CODE:{}}})}),define("text!template_module_floor_wrap",[],function(){return'<section class="section floor {{#ulife.module.top attributes.top}}{{/ulife.module.top}}">\n  {{#attributes.title}}\n    <h2 class="section_title clear_fix">\n      <img src="{{attributes.iconUrl}}"/>\n      <strong>{{attributes.title}}</strong>\n      {{#if attributes.moreUrl}}\n        <a hybrid-href="{{attributes.moreUrl}}" class="more_link f_right" href="javascript:void(0)"></a>\n      {{/if}}\n    </h2>\n  {{/attributes.title}}\n  {{#attributes.image}}\n    <div class="floor_img{{#isHomePage}} img_wrap{{/isHomePage}}">\n      <a {{#attributes.url}}hybrid-href="{{attributes.url}}"{{/attributes.url}} href="javascript:void(0)">\n        {{#isHomePage}}\n          <img src="http://s1.ucaiyuan.com/h5/1.6.4/images/common/grey.gif" data-original="{{attributes.image}}"\n               class="auto_pos lazy">\n        {{/isHomePage}}\n        {{^isHomePage}}\n          <img src="{{attributes.image}}">\n        {{/isHomePage}}\n      </a>\n    </div>\n  {{/attributes.image}}\n  <div class="content_wrap has_list">\n    <ul class="clear_fix product_list">\n      {{#each data}}\n        {{#if in_stock}}\n        {{#info}}\n          <li data-id="{{id}}"\n              class="product {{#in_stock}}buying{{/in_stock}}{{^in_stock}}buy_over{{/in_stock}}">\n            {{#if tagsicon}}\n              <div class="icon_wrap">\n                {{#each tagsicon}}\n                  <img src="{{.}}" class="icon_tag">\n                {{/each}}\n              </div>\n            {{/if}}\n            <a href="javascript:void(0)" hybrid-goto-product="{{id}}" class="img_wrap">\n              <img src="http://s1.ucaiyuan.com/h5/1.6.4/images/common/grey.gif"\n                   data-original="{{ulife-img_src image}}" class="auto_pos lazy">\n              {{^in_stock}}\n                <div class="buy_over_img">\n                  <img src="http://s1.ucaiyuan.com/h5/1.6.4/images/new/icon_out_stock.png">\n                </div>\n              {{/in_stock}}\n            </a>\n\n            <h3 class="p_title">{{title}}</h3>\n            <div class="activity_wrap">\n                {{#each activityTag}}\n                {{#ulife.num.compare @index 2 \'lt\'}}\n                <span class="active">{{.}}</span>\n                {{/ulife.num.compare}}\n                {{/each}}\n            </div>\n            <div class="price_wrap">\n              <span class="new_price"><label>￥</label>{{#ulife.currency retailPrice}}{{/ulife.currency}}</span>\n\n            </div>\n             {{#supportShoppingCart}}\n            <a href="javascript:void(0)" class="btn buy_btn GTM_add_cart"\n              {{#in_stock}}hybrid-add-cart="{{id}}" data-product-id="{{id}}"{{/in_stock}}>\n            </a>\n             {{/supportShoppingCart}}\n              {{^supportShoppingCart}}\n                  <a href="javascript:void(0)" class="btn now_btn GTM_add_cart"\n                      {{#in_stock}}hybrid-buy-now="{{id}}" data-product-id="{{id}}"{{/in_stock}}>\n                  </a>\n              {{/supportShoppingCart}}\n          </li>\n        {{/info}}\n        {{/if}}\n      {{/each}}\n    </ul>\n  </div>\n</section>\n'}),define("ulife.b2c.h5.module.floor_wrap",["zepto","store","lazyload","underscore","ulife.framework.multiple.comm","ulife.api.product.get","ulife.api.stock.get","ulife.api.search.searchItem","ulife.b2c.h5.util.fn","ulife.b2c.h5.util.hybrid","text!template_module_floor_wrap"],function(a,b,c,d,e,f,g,h,i,j,k){return can.Control.extend({helpers:{"ulife-img_src":function(a){return d.isFunction(a)&&(a=a()),can.Mustache.getHelper("ulife.img.views").fn(a?a.split(",")[0]:"",!1,320)},"ulife-capacity":function(a,b,c){return c.fn(c.contexts||this)}},init:function(b,c){var e=this,f=c.data.attributes.capacity?2*c.data.attributes.capacity:null,g=new can.Map(c.data),i=[];if(d.each(g.data,function(a){i.push(JSON.parse(a.itemId))}),0==i.length)return!1;var j=(JSON.stringify({ids:i}),{productids:i,page:1,rows:999}),j=JSON.stringify(j),l=new h({request:j});return can.when(l.sendRequest()).done(function(a){console.log(a),a=a.result;var b=0,h=0,i=[];if(a.length>0){var j={};d.each(a,function(a){j[a.id]=a}),d.each(g.data,function(a,b){j[a.itemId]&&i.push(j[a.itemId])}),d.each(i,function(a,c){f&&b>=f||(g.attr("data."+c+".info",a),g.attr("data."+c+".in_stock",a.stock>0),a.stock>0&&(b+=1,h=c))}),b%2!==0&&g.attr("data."+h+".info",null),g.isHomePage=c.isHomePage;var l=can.mustache(k),m=l(g,e.helpers);e.element.append(m)}}).then(function(){a(".floor .lazy").lazyload({threshold:300,effect_speed:0,effect:"show"})}).fail(function(a,b){console.log(a,b)})}})}),define("text!template_module_floor_horizontal",[],function(){return'<section class="section floor_v2 {{#ulife.module.top attributes.top}}{{/ulife.module.top}}">\n  {{#attributes.title}}\n    <h2 class="section_title clear_fix">\n      <img src="{{attributes.iconUrl}}"/>\n      <strong>{{attributes.title}}</strong>\n      <!-- {{#if attributes.moreUrl}}\n        <a hybrid-href="{{attributes.moreUrl}}" class="more_link f_right" href="javascript:void(0)"></a>\n      {{/if}} -->\n    </h2>\n  {{/attributes.title}}\n  {{#attributes.image}}\n    <div class="floor_img">\n      <a {{#attributes.url}}hybrid-href="{{attributes.url}}"{{/attributes.url}} href="javascript:void(0)">\n          <img src="{{attributes.image}}">\n      </a>\n      <span class="triangle">\n          <img src="http://s1.ucaiyuan.com/h5/1.6.4/images/my/sanjiao.png" alt="" />\n      </span>\n    </div>\n  {{/attributes.image}}\n    <ul class="clear_fix product_list">\n      {{#each data}}\n          <li data-id="{{id}}"\n              class="product {{#stock}}buying{{/stock}}{{^stock}}buy_over{{/stock}}">\n              {{#if tagsicon}}\n                <div class="icon_wrap">\n                  {{#each tagsicon}}\n                    <img src="{{.}}" class="icon_tag">\n                  {{/each}}\n                </div>\n              {{/if}}\n            <a href="javascript:void(0)" hybrid-goto-product="{{id}}" class="">\n              <img src="{{ulife-img_src image}}">\n              <!-- {{^in_stock}}\n                <div class="buy_over_img">\n                  <img src="http://s1.ucaiyuan.com/h5/1.6.4/images/new/icon_out_stock.png">\n                </div>\n              {{/in_stock}} -->\n            </a>\n\n            <h3 class="p_title">{{title}}</h3>\n            <div class="activity_wrap">\n                {{#each activityTag}}\n                {{#ulife.num.compare @index 2 \'lt\'}}\n                <span class="active f_left">{{.}}</span>\n                {{/ulife.num.compare}}\n                {{/each}}\n            </div>\n            <div class="price_wrap">\n              <span class="new_price"><label>￥</label>{{#ulife.currency retailPrice}}{{/ulife.currency}}</span>\n\n            </div>\n            {{#if stock}}\n                {{#supportShoppingCart}}\n                <a href="javascript:void(0)" class="btn buy_btn GTM_add_cart" hybrid-add-cart="{{id}}" data-product-id="{{id}}">\n                {{/supportShoppingCart}}\n                {{^supportShoppingCart}}\n                <a href="javascript:void(0)" class="btn now_btn GTM_add_cart" hybrid-buy-now="{{id}}" data-product-id="{{id}}">\n                {{/supportShoppingCart}}\n            {{else}}\n                {{#supportShoppingCart}}\n                <a href="javascript:void(0)" class="btn can_not_buy_btn GTM_add_cart"  data-product-id="{{id}}">\n                {{/supportShoppingCart}}\n                {{^supportShoppingCart}}\n                <a href="javascript:void(0)" class="btn can_not_now_btn GTM_add_cart" data-product-id="{{id}}">\n                {{/supportShoppingCart}}\n            {{/if}}\n            </a>\n          </li>\n      {{/each}}\n      {{#if attributes.more}}\n          <li class="more_test" hybrid-href="{{attributes.more}}">\n              <p>\n                  查<br/>看<br/>全<br/>部\n              </p>\n              <span class="more_bg"></span>\n          </li>\n      {{/if}}\n    </ul>\n</section>\n'}),define("ulife.b2c.h5.module.floor_horizontal",["zepto","store","can","lazyload","underscore","ulife.framework.multiple.comm","ulife.api.product.get","ulife.api.stock.get","ulife.api.search.searchItem","ulife.b2c.h5.util.fn","ulife.b2c.h5.util.hybrid","text!template_module_floor_horizontal"],function(a,b,c,d,e,f,g,h,i,j,k,l){return c.Control.extend({helpers:{"ulife-img_src":function(a){return e.isFunction(a)&&(a=a()),c.Mustache.getHelper("ulife.img.views").fn(a?a.split(",")[0]:"",!1,320)}},model:new c.Map({data:{}}),init:function(a,b){var c=b.data;e.isArray(c.data)&&0!=c.data.length&&0!=c.data.length&&this.addSupportShoppingCart(c)},render:function(a){var b=c.mustache(l),d=b(a,this.helpers);this.element.html(d)},addSupportShoppingCart:function(a){var b=this,d=[],f={page:1},g=[];e.each(a.data,function(a,b){d.push(JSON.parse(a.itemId))}),f.rows=d.length,f.productids=d;var h=JSON.stringify(f),j=new i({request:h});c.when(j.sendRequest()).done(function(c){e.each(d,function(a,b){e.each(c.result,function(b,c){b.id==a&&g.push(b)})}),a.data=g,b.render(a)}).fail(function(a,b){console.log(a,b)})}})}),define("ulife.api.product.list",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"product.list",SECURITY_TYPE:b.None.name,REQUIRED:[],PARAMETERS:{qurey:"string",page:"int",rows:"int"},VERIFY:{},ERROR_CODE:{}}})}),define("text!template_module_single_product",[],function(){return'<section class="section single_product {{#ulife.module.top attributes.top}}{{/ulife.module.top}}">\n    <ul>\n        {{#each data}}\n        <li class="clear_fix">\n            <a class=\'product_img\' href="javascript:void(0)" hybrid-goto-product="{{id}}">\n                <img src="{{image}}" alt="" />\n            </a>\n            {{^if stock}}\n            <div class="buy_over_img">\n               <img src="http://s1.ucaiyuan.com/h5/1.6.4/images/new/icon_out_stock.png">\n            </div>\n            {{/if}}\n            {{#if tagsicon}}\n              <div class="icon_wrap">\n                {{#each tagsicon}}\n                  <img src="{{.}}" class="icon_tag">\n                {{/each}}\n              </div>\n            {{/if}}\n            <div class="">\n                <h3 class="p_title">{{title}}</h3>\n                <div class="activity_wrap">\n                    {{#each activityTag}}\n                    {{#ulife.num.compare @index 2 \'lt\'}}\n                    <span class="active f_left">{{.}}</span>\n                    {{/ulife.num.compare}}\n                    {{/each}}\n                </div>\n                <div class="price_wrap">\n                    <span class="new_price"><label>￥</label>{{#ulife.currency retailPrice}}{{/ulife.currency}}</span>\n                </div>\n                {{#if stock}}\n                {{#supportShoppingCart}}\n                <a href="javascript:void(0)" class="btn buy_btn GTM_add_cart" hybrid-add-cart="{{id}}" data-product-id="{{itemId}}">\n                {{/supportShoppingCart}}\n                {{^supportShoppingCart}}\n                <a href="javascript:void(0)" class="btn now_btn GTM_add_cart" hybrid-buy-now="{{id}}" data-product-id="{{itemId}}">\n                {{/supportShoppingCart}}\n            {{else}}\n                {{#supportShoppingCart}}\n                <a href="javascript:void(0)" class="btn can_not_buy_btn GTM_add_cart"  data-product-id="{{id}}">\n                {{/supportShoppingCart}}\n                {{^supportShoppingCart}}\n                <a href="javascript:void(0)" class="btn can_not_now_btn GTM_add_cart" data-product-id="{{id}}">\n                {{/supportShoppingCart}}\n            {{/if}}\n            </a>\n            </div>\n        </li>\n        {{/each}}\n    </ul>\n</section>\n'}),define("ulife.b2c.h5.module.single_product",["zepto","store","can","lazyload","underscore","ulife.framework.multiple.comm","ulife.api.product.get","ulife.api.stock.get","ulife.api.product.list","ulife.api.search.searchItem","ulife.b2c.h5.util.fn","ulife.b2c.h5.util.hybrid","text!template_module_single_product"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){return c.Control.extend({helpers:{"ulife-img_src":function(a){return e.isFunction(a)&&(a=a()),c.Mustache.getHelper("ulife.img.views").fn(a?a.split(",")[0]:"",!1,320)}},model:new c.Map({data:{}}),init:function(a,b){var c=b.data;e.isArray(c.data)&&0!=c.data.length&&0!=c.data.length&&this.addSupportShoppingCart(c)},render:function(a){var b=c.mustache(m),d=b(a,this.helpers);this.element.html(d)},addSupportShoppingCart:function(a){var b=this,d=[],f={page:1},g=[];e.each(a.data,function(a,b){d.push(JSON.parse(a.itemId))}),f.rows=d.length,f.productids=d;var h=JSON.stringify(f),i=new j({request:h});c.when(i.sendRequest()).done(function(c){e.each(d,function(a,b){e.each(c.result,function(b,c){b.id==a&&g.push(b)})}),a.data=g,b.render(a)}).fail(function(a,b){console.log(a,b)})}})}),define("ulife.b2c.h5.module.customer_html",["zepto","store"],function(a,b){return can.Control.extend({init:function(b,c){var d=c.data,e=a("<div cms-customer-html>"+d.attributes+"</div>"),f=e.find("[usemap]");_.each(f,function(b,c,d){var f=a(b).attr("usemap").substring(1),g=e.find("[name="+f+"]");if(g){var h=g.find("area"),i=a(window).width(),j=i/640;_.each(h,function(b,c,d){var e=a(b).attr("coords"),f=e.split(","),g=[];_.each(f,function(b,c,d){g.push(a.trim(b)*j)});var i=g.join(", ");h.attr("coords",i)})}}),this.element.append(e)}})}),define("ulife.api.promotion.product.single",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"promotion.product.single",SECURITY_TYPE:b.None.name,REQUIRED:["id"],PARAMETERS:{id:"long",activityId:"long"},VERIFY:{},ERROR_CODE:{20012:"该商品在白名单中不存在"}}})}),define("text!template_module_limit",[],function(){return'<section class="section limit_module">\n    <div class="limit_data_box">\n        <i class="current_data"></i>\n        <div class="limit_data_scroll">\n            <ul class="limit_date_content clear_fix">\n                {{#each .}}\n                    {{#ulife-formatDay .}}\n                        <li><i class="startDay">{{startDay}}</i><i class="weekday">{{weekday}}</i></li>\n                    {{/ulife-formatDay}}\n                {{/each}}\n            </ul>\n        </div>\n    </div>\n\n    <div class="limit_time_box">\n        <i class="current_time"></i>\n        <div class="limit_time_scroll">\n            <ul class="limit_time_content clear_fix" id="limitTimeList">\n                \n            </ul>\n        </div>\n    </div>\n\n    <ul class=\'limit_product_list\' id="limitProductList">\n       \n    </ul>\n</section>'}),define("ulife.b2c.h5.module.limit",["zepto","store","moment","underscore","ulife.b2c.h5.util.fn","ulife.framework.multiple.comm","ulife.api.product.get","ulife.api.promotion.product.single","text!template_module_limit"],function(a,b,c,d,e,f,g,h,i){return can.Control.extend({helpers:{"ulife-formatDay":function(a,b){return b.fn(a[0]||this)},"ulife-formatTime":function(a,b){var e=[];return d.each(a,function(a){e.push(c(a[0].startTime).format("HH:mm"))}),b.fn(e||this)},"ulife-status":function(a,b,d,e,f){var g=f.context;return c(a).isBefore(b)?(g.mask_text="即将开始",g.mask_class="white_bg",g.button_text="等待开抢",g.button_class="buy_future"):c(a).isAfter(d)?(g.mask_text="已结束",g.mask_class="black_bg",g.button_text="原价购买",g.button_class="buy_prime"):e<=0?(g.mask_text="抢光了",g.mask_class="black_bg",g.button_text="查看详情",g.button_class="buy_prime"):(g.button_text="立即抢购",g.button_class="buy_now"),f.fn(f.context||this)}},newDatas:[],tmpDatas:[],init:function(a,b){var e=this,f=b.data.data,g=0,h=c().format("MM/DD"),j=0;d.each(f,function(a,b){var i=c(f[b].startTime).format("ddd");if(f[b-1])var k=c(f[b-1].startTime).format("ddd");i!=k&&0!=b&&g++,d.isArray(e.newDatas[g])||(e.newDatas[g]=[],e.newDatas[g][0]={},e.tmpDatas[g]=[]),e.newDatas[g][0].weekday=i,e.newDatas[g][0].startDay=c(f[b].startTime).format("MM/DD"),e.tmpDatas[g].push(f[b]),e.newDatas[g][0].startDay==h&&(j=g,e.newDatas[g][0].weekday="今天")}),d.each(e.tmpDatas,function(a,b){var c=[],f=0;d.each(a,function(b,e){var g=a[e].startTime;if(a[e-1])var h=a[e-1].startTime;g!=h&&0!=e&&f++,d.isArray(c[f])||(c[f]=[]),c[f].push(b)}),e.newDatas[b][1]=c});var k=can.mustache(i),l=k(e.newDatas,this.helpers);this.element.append(l),this.resetLimitDateWidth(j),this.centerPosition()},liWidth:function(){return parseInt(a(".container").width()/5)},centerPosition:function(){a(".current_data,.current_time").css({width:this.liWidth(),left:2*this.liWidth()})},resetLimitDateWidth:function(b){var c=a(".limit_date_content"),d=b?2*this.liWidth()-b*this.liWidth():2*this.liWidth();c.css({width:c.find("li").length*this.liWidth(),left:d}).find("li").width(this.liWidth()).eq(b).addClass("current"),this.resetLimitTimeWidth(b)},resetLimitTimeWidth:function(b){var c=this,e=b<=0?0:b,f='{{#ulife-formatTime .}}{{#each .}}<li class="time">{{.}}</li>{{/each}}{{/ulife-formatTime}}',g=can.mustache(f),h=g(c.newDatas[e][1],this.helpers);a("#limitTimeList").html(h);var i,j,k=a(".limit_time_content"),l=k.find("li").length,m=(new Date).getTime();"今天"==c.newDatas[e][0].weekday?(d.some(c.newDatas[e][1],function(a,b){return m<a[0].startTime?(j=b,!0):void(j=c.newDatas[e][1].length)}),i=j?2*this.liWidth()-(j-1)*this.liWidth():2*this.liWidth()-j*this.liWidth(),this.fillProductList(e,j)):(i=2*this.liWidth(),j=1,this.fillProductList(e,1)),k.css({width:l*this.liWidth(),left:i}).find("li").width(this.liWidth()).eq(j-1<0?0:j-1).addClass("current")},fillProductList:function(b,c){var e=this,i=c?c-1:0,j="{{#each .}}<li id={{id}} hybrid-goto-product={{id}}></li>{{/each}}",k=can.mustache(j);e.newDatas[b][1][i].sort(function(a,b){return a.specialPrice-b.specialPrice});var l=k(e.newDatas[b][1][i],e.helpers);a("#limitProductList").html(l);var m='{{#ulife-status currentTime startTime endTime stock}}<div class="product_image"><i class="{{mask_class}}">{{mask_text}}</i><img src="{{image}}"></div><div class="product_detail"><h3 class="title">{{title}}</h3><h4 class="subtitle">{{subtitle}}</h4><div class="price"><span>￥{{ulife.currency specialPrice}}</span></div><span class="limit_number">限量{{stockLimit}}件</span><a href="" class="button {{button_class}}">{{button_text}}</a></div>{{/ulife-status}}';d.each(e.newDatas[b][1][i],function(c){var j=[],k=[];j[0]=new g,j[1]=new h,k[0]={id:c.id},k[1]={id:c.id,activityId:c.activityId};var l=new f(j,k);can.when(l.sendRequest()).done(function(c){var f=0;d.some(e.newDatas[b][1][i],function(a,b){if(c[1].id==a.id)return f=b,!0});var g=e.newDatas[b][1][i][f];d.extend(g,{id:c[0].item.id,title:g.title||c[0].item.title,image:g.image||c[0].item.mediaInfos&&c[0].item.mediaInfos[0]||"",subtitle:c[0].item.subtitle,specialPrice:c[1].rushInfo.specialPrice,retailPrice:c[0].item.retailPrice,stockLimit:c[1].rushInfo.stockLimit,stock:c[1].rushInfo.stock,startTime:c[1].rushInfo.startTime,currentTime:c[1].rushInfo.currentTime,endTime:c[1].rushInfo.endTime});var h=can.mustache(m),j=h(g,e.helpers);a("#"+c[1].id).html(j)})})},".limit_date_content li click":function(b){var c=this,d=b.index();a(".limit_date_content").animate({left:2*this.liWidth()-d*this.liWidth()},300),a(".limit_date_content li").eq(d).addClass("current").siblings().removeClass("current"),c.resetLimitTimeWidth(d)},".limit_time_content li click":function(b){var c=b.index();a(".limit_time_content").animate({left:2*this.liWidth()-c*this.liWidth()},300),a(".limit_time_content li").eq(c).addClass("current").siblings().removeClass("current");var d=a(".limit_date_content .current").index();this.fillProductList(d,c+1)}})}),define("text!template_module_imgOneH5",[],function(){return'<section class="section img_one_h5 {{#ulife.module.top attributes.top}}{{/ulife.module.top}}">\n    <ul class="main">\n        {{#attributes.title}}\n            <h2 class="clear_fix section_title">\n                {{#attributes.iconUrl}}<img src="{{attributes.iconUrl}}"/>{{/attributes.iconUrl}}\n                <strong>{{attributes.title}}</strong>\n                {{#if attributes.moreUrl}}\n                    <a hybrid-href="{{attributes.moreUrl}}" class="more_link f_right" href="javascript:void(0)"></a>\n                {{/if}}\n            </h2>\n        {{/attributes.title}}\n        {{#each data}}\n            <li class="slider_item flex">\n\t            {{#if image.image}}\n\t                <a class="flex_item" {{#url}}hybrid-href="{{url.url}}"{{/url}} href="javascript:void(0)">\n\t                    <img src="{{image.image}}">\n\t                </a>\n\t            {{/if}}\n\t            {{#if image.image1}}\n\t                <a class="flex_item ml_1" {{#url}}hybrid-href="{{url.url1}}"{{/url}} href="javascript:void(0)">\n\t                    <img src="{{image.image1}}">\n\t                 </a>\n\t            {{/if}}\n\t            {{#if image.image2}}\n\t                <a class="flex_item ml_1" {{#url}}hybrid-href="{{url.url2}}"{{/url}} href="javascript:void(0)">\n\t                    <img src="{{image.image2}}">\n\t                 </a>\n\t            {{/if}}\n            </li>\n        {{/each}}\n    </ul>\n</section>\n';
}),define("ulife.b2c.h5.module.imgOneH5",["zepto","store","swipeSlide","moment","underscore","text!template_module_imgOneH5"],function(a,b,c,d,e,f){return can.Control.extend({helpers:{},init:function(a,b){var c=b.data;if(e.isArray(c.data)&&0!=c.data.length){var d=b.nowTime;if(c.data=e.filter(c.data,function(a,b,c){return!a.startTime||!a.endTime||d>=a.startTime&&d<a.endTime}),0!=c.data.length){var g=can.mustache(f),h=g(c,this.helpers);this.element.append(h)}}}})}),define("ulife.api.vod.info",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"vod.info",SECURITY_TYPE:b.None.name,REQUIRED:["id"],PARAMETERS:{id:"int",channel:"string"},VERIFY:{},ERROR_CODE:{30905:"操作失败！",30906:"参数错误！",30908:"该视频不存在",30912:"素材信息不完整"}}})}),define("text!template_module_video",[],function(){return'<section class="section video {{#ulife.module.top header.top}}{{/ulife.module.top}}">\n    {{#if header.title}}\n    <h2 class="section_title clear_fix">\n        {{#if header.iconUrl}}\n        <img class="title_icon" src="{{header.iconUrl}}">\n        {{/if}}\n        <strong>{{header.title}} <span style="margin-left:5px;">{{header.subTitle}}</span></strong>\n        {{#ulife-isApp}}\n        <span class="more_link f_right to_video_homepage"></span>\n        {{/ulife-isApp}}\n\n    </h2>\n    {{/if}}\n\n    {{#each big}}\n    <div class="main_video">\n        <img src="{{preview}}">\n        <div class="video_info">\n            <h3>{{title}}</h3>\n            <span class="tag">{{#ulife-tag typeId}}{{/ulife-tag}}</span>\n            <div class="times">\n                <span class="watch_times">{{timesWatched}}</span>\n                <span class="comments">{{timesComment}}</span>\n            </div>\n        </div>\n        <a href="" class="to_video_detail" data-id="{{id}}" data-video="{{videoUrl}}"></a>\n    </div>\n    {{/each}}\n\n    <div class="video_list">\n        <ul>\n            {{#each small}}\n            <li>\n                <div class="image">\n                    <img src="{{ulife.img.views preview false 162}}">\n                </div>\n                <div class="video_info">\n                    <h4>{{title}}</h4>\n                    <span class="tag">{{#ulife-tag typeId}}{{/ulife-tag}}</span>\n                    <div class="times">\n                        <span class="watch_times">{{timesWatched}}</span>\n                        <span class="comments">{{timesComment}}</span>\n                    </div>\n                </div>\n                <a href="" class="to_video_detail" data-id="{{id}}" data-video="{{videoUrl}}"></a>\n            </li>\n            {{/each}}\n        </ul>\n    </div>\n</section>\n'}),define("ulife.b2c.h5.module.video",["zepto","store","moment","underscore","ulife.b2c.h5.util.fn","ulife.framework.multiple.comm","ulife.b2c.h5.util.hybrid","ulife.business.config","ulife.api.vod.info","text!template_module_video"],function(a,b,c,d,e,f,g,h,i,j){return can.Control.extend({helpers:{"ulife-tag":function(a){switch(a){case 2:return"全民食谱";case 3:return"做道菜";case 4:return"寻食记";case 5:return"食验室";default:return"未知"}},"ulife-isApp":function(a){return e.isMobile.APP()?a.fn(a.contexts||this):a.inverse(a.contexts||this)}},init:function(a,b){var c=this,e=b.data.attributes,g=b.data.data,h=[],k=[],l=[];d.each(g,function(a,b){h.push(d.pluck(a,"id"))}),h=d.flatten(h),d.times(d.flatten(h).length,function(a){k.push(new i),l.push({id:d.flatten(h)[a],channel:"0"})});var m;m=k.length>1?new f(k,l):new i({id:+h[0],channel:"0"}),can.when(m.sendRequest()).done(function(a){var b={},f=a;if(d.isArray(f)||(f=new Array(f)),g.big&&g.big.length){var h=f.splice(0,g.big.length);b.big=[],d.each(h,function(a,c){b.big.push(d.extend(h[c].video,g.big[c]))})}if(g.small&&g.small.length){var i=f;b.small=[],d.each(i,function(a,c){b.small.push(d.extend(i[c].video,g.small[c]))})}b.header=e;var k=can.mustache(j),l=k(b,c.helpers);c.element.append(l)})},".to_video_detail click":function(a,b){b.preventDefault();var c=a.attr("data-id"),d=a.attr("data-video");e.isMobile.APP()?g.gotoVideoDetail(c,d):window.location=h.setting.link.videoDetail+"?id="+c},".to_video_homepage click":function(){e.isMobile.APP()&&g.appRootPage(2)}})}),define("text!template_module_exCoupon",[],function(){return'<section class="section ex_coupon {{#ulife.module.top attributes.top}}{{/ulife.module.top}}">\n    {{#if attributes.title}}\n    <h2 class="section_title clear_fix" style="padding-left:0;">\n        {{attributes.title}}\n    </h2>\n    {{/if}}\n\n    <ul class="ex_coupon_list">\n        {{#each datas}}\n        <li class="clear_fix">\n            <div class="main_img">\n                 <img src="{{couponImage}}">\n            </div>\n            <div class="coupon_detail">\n                <h4 class="shop_icon">\n                    {{#if couponIcon}}\n                    <img src="{{couponIcon}}">\n                    {{/if}}\n                    {{title}}\n                </h4>\n                <p class="coupon_time">有效期：{{couponTime}}</p>\n                <span class="retailPrice">￥<i>{{#ulife.currency retailPrice}}{{/ulife.currency}}</i></span><del class="magicPrice">{{#ulife.currency magicPrice}}{{/ulife.currency}}</del>\n                <p class="stock">仅剩{{stock}}份</p>\n            </div>\n            <span class="buy_now">立即购买</span>\n            <a href="/o2oCouponDetail.html?id={{itemId}}" data-id="{{itemId}}" class="go_to_detail"></a>\n        </li>\n        {{/each}}\n    </ul>\n\n\n</section>\n'}),define("ulife.b2c.h5.module.exCoupon",["zepto","store","moment","underscore","ulife.b2c.h5.util.fn","ulife.framework.multiple.comm","ulife.b2c.h5.util.hybrid","ulife.business.config","ulife.api.stock.get","text!template_module_exCoupon"],function(a,b,c,d,e,f,g,h,i,j){return can.Control.extend({model:new can.Map({}),helpers:{},init:function(a,b){var c=this,e=c.model;e.attributes=b.data.attributes,e.datas=b.data.data;var g=[],h=[],k=[];g=d.pluck(e.datas,"itemId"),d.times(g.length,function(a){h.push(new i),k.push({id:d.flatten(g)[a]})});var l;l=h.length>1?new f(h,k):new i({id:+g[0]}),can.when(l.sendRequest()).done(function(a){var b=a;d.isArray(b)||(b=new Array(b)),d.each(e.datas,function(a,c){a.stock=b[c].stock}),e.attr("datas",e.datas)});var m=can.mustache(j),n=m(e,c.helpers);c.element.append(n)},".go_to_detail click":function(a,b){var c=a.attr("data-id");e.isMobile.APP()?(b.preventDefault(),g.appGoToO2oDetail(c)):window.location=h.setting.link.o2oCouponDetail+"?id="+c}})}),define("text!template_module_hot_product",[],function(){return'<section class="section hot_product {{#ulife.module.top data.attributes.top}}{{/ulife.module.top}}">\n    {{#data.attributes.title}}\n        <h2 class="clear_fix">\n            <img src="{{data.attributes.iconUrl}}"/>\n            <strong>{{data.attributes.title}}</strong>\n            {{#if data.attributes.moreUrl}}\n                <a hybrid-href="{{data.attributes.moreUrl}}" class="more_link f_right" href="javascript:void(0)"></a>\n            {{/if}}\n        </h2>\n    {{/data.attributes.title}}\n    <ul>\n        {{#each data.data}}\n            <li data-id="{{itemId}}">\n                <a href="javascript:void(0)" class="img_wrap" hybrid-goto-product="{{itemId}}">\n                    <img src="{{ulife-img_src image}}" class="auto_pos">\n                </a>\n\n                <h3 class="pro_title no_wrap">{{#ulife-test title}}{{/ulife-test}}</h3>\n                <div class="price_wrap">\n                    <span class="new_price"><label>￥</label>{{#ulife.currency price}}{{/ulife.currency}}</span>\n                </div>\n                {{#limitNum}}\n                    <span class="limit_count">\n                        <em class="limit_num">{{limitNum}}</em>\n                    </span>\n                {{/limitNum}}\n                {{#if stock}}\n                    {{#supportShoppingCart}}\n                    <a href="javascript:void(0)" class="btn buy_btn GTM_add_cart" hybrid-add-cart="{{itemId}}" data-product-id="{{itemId}}">\n                    {{/supportShoppingCart}}\n                    {{^supportShoppingCart}}\n                    <a href="javascript:void(0)" class="btn now_btn GTM_add_cart" hybrid-buy-now="{{itemId}}" data-product-id="{{itemId}}">\n                    {{/supportShoppingCart}}\n                {{else}}\n                    {{#supportShoppingCart}}\n                    <a href="javascript:void(0)" class="btn can_not_buy_btn GTM_add_cart"  data-product-id="{{itemId}}">\n                    {{/supportShoppingCart}}\n                    {{^supportShoppingCart}}\n                    <a href="javascript:void(0)" class="btn can_not_now_btn GTM_add_cart" data-product-id="{{itemId}}">\n                    {{/supportShoppingCart}}\n                {{/if}}\n                </a>\n            </li>\n        {{/each}}\n    </ul>\n</section>\n'}),define("ulife.b2c.h5.module.hot_product",["zepto","can","store","swipeSlide","moment","underscore","ulife.api.search.searchItem","text!template_module_hot_product"],function(a,b,c,d,e,f,g,h){return b.Control.extend({helpers:{"ulife-img_src":function(a){return f.isFunction(a)&&(a=a()),b.Mustache.getHelper("ulife.img.views").fn(a?a.split(",")[0]:"",!1,288)},"ulife-test":function(a){return f.isFunction(a)&&(a=a()),a.length<=20?a:a.substr(0,20)+"..."}},model:new b.Map({data:{}}),init:function(a,b){var c=b.data;f.isArray(c.data)&&0!=c.data.length&&0!=c.data.length&&(this.addSupportShoppingCart(c),this.render())},render:function(){var a=b.mustache(h),c=a(this.model,this.helpers);this.element.html(c)},addSupportShoppingCart:function(a){var c=[],d=this,e={page:1};f.each(a.data,function(a,b){c.push(JSON.parse(a.itemId))}),e.rows=c.length,e.productids=c;var h=JSON.stringify(e),i=new g({request:h});b.when(i.sendRequest()).done(function(b){f.each(b.result,function(b){f.each(a.data,function(a){b.id==a.itemId&&(a.supportShoppingCart=b.supportShoppingCart,a.stock=b.stock)})}),d.model.attr("data",a)}).fail(function(a,b){console.log(a,b)})}})}),!function(){"use strict";function a(a){a.fn.swiper=function(b){var d;return a(this).each(function(){var a=new c(this,b);d||(d=a)}),d}}var b,c=function(a,e){function f(a){return Math.floor(a)}function g(){u.autoplayTimeoutId=setTimeout(function(){u.params.loop?(u.fixLoop(),u._slideNext(),u.emit("onAutoplay",u)):u.isEnd?e.autoplayStopOnLast?u.stopAutoplay():(u._slideTo(0),u.emit("onAutoplay",u)):(u._slideNext(),u.emit("onAutoplay",u))},u.params.autoplay)}function h(a,c){var d=b(a.target);if(!d.is(c))if("string"==typeof c)d=d.parents(c);else if(c.nodeType){var e;return d.parents().each(function(a,b){b===c&&(e=c)}),e?c:void 0}if(0!==d.length)return d[0]}function i(a,b){b=b||{};var c=window.MutationObserver||window.WebkitMutationObserver,d=new c(function(a){a.forEach(function(a){u.onResize(!0),u.emit("onObserverUpdate",u,a)})});d.observe(a,{attributes:"undefined"==typeof b.attributes||b.attributes,childList:"undefined"==typeof b.childList||b.childList,characterData:"undefined"==typeof b.characterData||b.characterData}),u.observers.push(d)}function j(a){a.originalEvent&&(a=a.originalEvent);var b=a.keyCode||a.charCode;if(!u.params.allowSwipeToNext&&(u.isHorizontal()&&39===b||!u.isHorizontal()&&40===b))return!1;if(!u.params.allowSwipeToPrev&&(u.isHorizontal()&&37===b||!u.isHorizontal()&&38===b))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===b||39===b||38===b||40===b){var c=!1;if(u.container.parents(".swiper-slide").length>0&&0===u.container.parents(".swiper-slide-active").length)return;var d={left:window.pageXOffset,top:window.pageYOffset},e=window.innerWidth,f=window.innerHeight,g=u.container.offset();u.rtl&&(g.left=g.left-u.container[0].scrollLeft);for(var h=[[g.left,g.top],[g.left+u.width,g.top],[g.left,g.top+u.height],[g.left+u.width,g.top+u.height]],i=0;i<h.length;i++){var j=h[i];j[0]>=d.left&&j[0]<=d.left+e&&j[1]>=d.top&&j[1]<=d.top+f&&(c=!0)}if(!c)return}u.isHorizontal()?((37===b||39===b)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),(39===b&&!u.rtl||37===b&&u.rtl)&&u.slideNext(),(37===b&&!u.rtl||39===b&&u.rtl)&&u.slidePrev()):((38===b||40===b)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),40===b&&u.slideNext(),38===b&&u.slidePrev())}}function k(a){a.originalEvent&&(a=a.originalEvent);var b=u.mousewheel.event,c=0,d=u.rtl?-1:1;if("mousewheel"===b)if(u.params.mousewheelForceToAxis)if(u.isHorizontal()){if(!(Math.abs(a.wheelDeltaX)>Math.abs(a.wheelDeltaY)))return;c=a.wheelDeltaX*d}else{if(!(Math.abs(a.wheelDeltaY)>Math.abs(a.wheelDeltaX)))return;c=a.wheelDeltaY}else c=Math.abs(a.wheelDeltaX)>Math.abs(a.wheelDeltaY)?-a.wheelDeltaX*d:-a.wheelDeltaY;else if("DOMMouseScroll"===b)c=-a.detail;else if("wheel"===b)if(u.params.mousewheelForceToAxis)if(u.isHorizontal()){if(!(Math.abs(a.deltaX)>Math.abs(a.deltaY)))return;c=-a.deltaX*d}else{if(!(Math.abs(a.deltaY)>Math.abs(a.deltaX)))return;c=-a.deltaY}else c=Math.abs(a.deltaX)>Math.abs(a.deltaY)?-a.deltaX*d:-a.deltaY;if(0!==c){if(u.params.mousewheelInvert&&(c=-c),u.params.freeMode){var e=u.getWrapperTranslate()+c*u.params.mousewheelSensitivity,f=u.isBeginning,g=u.isEnd;if(e>=u.minTranslate()&&(e=u.minTranslate()),e<=u.maxTranslate()&&(e=u.maxTranslate()),u.setWrapperTransition(0),u.setWrapperTranslate(e),u.updateProgress(),u.updateActiveIndex(),(!f&&u.isBeginning||!g&&u.isEnd)&&u.updateClasses(),u.params.freeModeSticky?(clearTimeout(u.mousewheel.timeout),u.mousewheel.timeout=setTimeout(function(){u.slideReset()},300)):u.params.lazyLoading&&u.lazy&&u.lazy.load(),0===e||e===u.maxTranslate())return}else{if((new window.Date).getTime()-u.mousewheel.lastScrollTime>60)if(0>c)if(u.isEnd&&!u.params.loop||u.animating){if(u.params.mousewheelReleaseOnEdges)return!0}else u.slideNext();else if(u.isBeginning&&!u.params.loop||u.animating){if(u.params.mousewheelReleaseOnEdges)return!0}else u.slidePrev();u.mousewheel.lastScrollTime=(new window.Date).getTime()}return u.params.autoplay&&u.stopAutoplay(),a.preventDefault?a.preventDefault():a.returnValue=!1,!1}}function l(a,c){a=b(a);var d,e,f,g=u.rtl?-1:1;d=a.attr("data-swiper-parallax")||"0",e=a.attr("data-swiper-parallax-x"),f=a.attr("data-swiper-parallax-y"),e||f?(e=e||"0",f=f||"0"):u.isHorizontal()?(e=d,f="0"):(f=d,e="0"),e=e.indexOf("%")>=0?parseInt(e,10)*c*g+"%":e*c*g+"px",f=f.indexOf("%")>=0?parseInt(f,10)*c+"%":f*c+"px",a.transform("translate3d("+e+", "+f+",0px)")}function m(a){return 0!==a.indexOf("on")&&(a=a[0]!==a[0].toUpperCase()?"on"+a[0].toUpperCase()+a.substring(1):"on"+a),a}if(!(this instanceof c))return new c(a,e);var n={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},o=e&&e.virtualTranslate;e=e||{};var p={};for(var q in e)if("object"!=typeof e[q]||null===e[q]||e[q].nodeType||e[q]===window||e[q]===document||"undefined"!=typeof d&&e[q]instanceof d||"undefined"!=typeof jQuery&&e[q]instanceof jQuery)p[q]=e[q];else{p[q]={};for(var r in e[q])p[q][r]=e[q][r]}for(var s in n)if("undefined"==typeof e[s])e[s]=n[s];else if("object"==typeof e[s])for(var t in n[s])"undefined"==typeof e[s][t]&&(e[s][t]=n[s][t]);var u=this;if(u.params=e,u.originalParams=p,u.classNames=[],"undefined"!=typeof b&&"undefined"!=typeof d&&(b=d),("undefined"!=typeof b||(b="undefined"==typeof d?window.Dom7||window.Zepto||window.jQuery:d))&&(u.$=b,u.currentBreakpoint=void 0,u.getActiveBreakpoint=function(){if(!u.params.breakpoints)return!1;var a,b=!1,c=[];for(a in u.params.breakpoints)u.params.breakpoints.hasOwnProperty(a)&&c.push(a);c.sort(function(a,b){return parseInt(a,10)>parseInt(b,10)});for(var d=0;d<c.length;d++)a=c[d],a>=window.innerWidth&&!b&&(b=a);return b||"max"},u.setBreakpoint=function(){var a=u.getActiveBreakpoint();if(a&&u.currentBreakpoint!==a){var b=a in u.params.breakpoints?u.params.breakpoints[a]:u.originalParams,c=u.params.loop&&b.slidesPerView!==u.params.slidesPerView;for(var d in b)u.params[d]=b[d];u.currentBreakpoint=a,c&&u.destroyLoop&&u.reLoop(!0)}},u.params.breakpoints&&u.setBreakpoint(),u.container=b(a),0!==u.container.length)){if(u.container.length>1){var v=[];return u.container.each(function(){v.push(new c(this,e))}),v}u.container[0].swiper=u,u.container.data("swiper",u),u.classNames.push("swiper-container-"+u.params.direction),u.params.freeMode&&u.classNames.push("swiper-container-free-mode"),u.support.flexbox||(u.classNames.push("swiper-container-no-flexbox"),u.params.slidesPerColumn=1),u.params.autoHeight&&u.classNames.push("swiper-container-autoheight"),(u.params.parallax||u.params.watchSlidesVisibility)&&(u.params.watchSlidesProgress=!0),["cube","coverflow","flip"].indexOf(u.params.effect)>=0&&(u.support.transforms3d?(u.params.watchSlidesProgress=!0,u.classNames.push("swiper-container-3d")):u.params.effect="slide"),"slide"!==u.params.effect&&u.classNames.push("swiper-container-"+u.params.effect),"cube"===u.params.effect&&(u.params.resistanceRatio=0,u.params.slidesPerView=1,u.params.slidesPerColumn=1,u.params.slidesPerGroup=1,u.params.centeredSlides=!1,u.params.spaceBetween=0,u.params.virtualTranslate=!0,u.params.setWrapperSize=!1),("fade"===u.params.effect||"flip"===u.params.effect)&&(u.params.slidesPerView=1,u.params.slidesPerColumn=1,u.params.slidesPerGroup=1,u.params.watchSlidesProgress=!0,u.params.spaceBetween=0,u.params.setWrapperSize=!1,"undefined"==typeof o&&(u.params.virtualTranslate=!0)),u.params.grabCursor&&u.support.touch&&(u.params.grabCursor=!1),u.wrapper=u.container.children("."+u.params.wrapperClass),u.params.pagination&&(u.paginationContainer=b(u.params.pagination),u.params.uniqueNavElements&&"string"==typeof u.params.pagination&&u.paginationContainer.length>1&&1===u.container.find(u.params.pagination).length&&(u.paginationContainer=u.container.find(u.params.pagination)),"bullets"===u.params.paginationType&&u.params.paginationClickable?u.paginationContainer.addClass("swiper-pagination-clickable"):u.params.paginationClickable=!1,u.paginationContainer.addClass("swiper-pagination-"+u.params.paginationType)),(u.params.nextButton||u.params.prevButton)&&(u.params.nextButton&&(u.nextButton=b(u.params.nextButton),u.params.uniqueNavElements&&"string"==typeof u.params.nextButton&&u.nextButton.length>1&&1===u.container.find(u.params.nextButton).length&&(u.nextButton=u.container.find(u.params.nextButton))),u.params.prevButton&&(u.prevButton=b(u.params.prevButton),u.params.uniqueNavElements&&"string"==typeof u.params.prevButton&&u.prevButton.length>1&&1===u.container.find(u.params.prevButton).length&&(u.prevButton=u.container.find(u.params.prevButton)))),u.isHorizontal=function(){return"horizontal"===u.params.direction},u.rtl=u.isHorizontal()&&("rtl"===u.container[0].dir.toLowerCase()||"rtl"===u.container.css("direction")),u.rtl&&u.classNames.push("swiper-container-rtl"),u.rtl&&(u.wrongRTL="-webkit-box"===u.wrapper.css("display")),u.params.slidesPerColumn>1&&u.classNames.push("swiper-container-multirow"),u.device.android&&u.classNames.push("swiper-container-android"),u.container.addClass(u.classNames.join(" ")),u.translate=0,u.progress=0,u.velocity=0,u.lockSwipeToNext=function(){u.params.allowSwipeToNext=!1},u.lockSwipeToPrev=function(){u.params.allowSwipeToPrev=!1},u.lockSwipes=function(){u.params.allowSwipeToNext=u.params.allowSwipeToPrev=!1},u.unlockSwipeToNext=function(){u.params.allowSwipeToNext=!0},u.unlockSwipeToPrev=function(){u.params.allowSwipeToPrev=!0},u.unlockSwipes=function(){u.params.allowSwipeToNext=u.params.allowSwipeToPrev=!0},u.params.grabCursor&&(u.container[0].style.cursor="move",u.container[0].style.cursor="-webkit-grab",u.container[0].style.cursor="-moz-grab",u.container[0].style.cursor="grab"),u.imagesToLoad=[],u.imagesLoaded=0,u.loadImage=function(a,b,c,d,e){function f(){e&&e()}var g;a.complete&&d?f():b?(g=new window.Image,g.onload=f,g.onerror=f,c&&(g.srcset=c),b&&(g.src=b)):f()},u.preloadImages=function(){function a(){"undefined"!=typeof u&&null!==u&&(void 0!==u.imagesLoaded&&u.imagesLoaded++,u.imagesLoaded===u.imagesToLoad.length&&(u.params.updateOnImagesReady&&u.update(),u.emit("onImagesReady",u)))}u.imagesToLoad=u.container.find("img");for(var b=0;b<u.imagesToLoad.length;b++)u.loadImage(u.imagesToLoad[b],u.imagesToLoad[b].currentSrc||u.imagesToLoad[b].getAttribute("src"),u.imagesToLoad[b].srcset||u.imagesToLoad[b].getAttribute("srcset"),!0,a)},u.autoplayTimeoutId=void 0,u.autoplaying=!1,u.autoplayPaused=!1,u.startAutoplay=function(){return"undefined"==typeof u.autoplayTimeoutId&&(!!u.params.autoplay&&(!u.autoplaying&&(u.autoplaying=!0,u.emit("onAutoplayStart",u),void g())))},u.stopAutoplay=function(a){u.autoplayTimeoutId&&(u.autoplayTimeoutId&&clearTimeout(u.autoplayTimeoutId),u.autoplaying=!1,u.autoplayTimeoutId=void 0,u.emit("onAutoplayStop",u))},u.pauseAutoplay=function(a){u.autoplayPaused||(u.autoplayTimeoutId&&clearTimeout(u.autoplayTimeoutId),u.autoplayPaused=!0,0===a?(u.autoplayPaused=!1,g()):u.wrapper.transitionEnd(function(){u&&(u.autoplayPaused=!1,u.autoplaying?g():u.stopAutoplay())}))},u.minTranslate=function(){return-u.snapGrid[0]},u.maxTranslate=function(){return-u.snapGrid[u.snapGrid.length-1]},u.updateAutoHeight=function(){var a=u.slides.eq(u.activeIndex)[0];if("undefined"!=typeof a){var b=a.offsetHeight;b&&u.wrapper.css("height",b+"px")}},u.updateContainerSize=function(){var a,b;a="undefined"!=typeof u.params.width?u.params.width:u.container[0].clientWidth,b="undefined"!=typeof u.params.height?u.params.height:u.container[0].clientHeight,0===a&&u.isHorizontal()||0===b&&!u.isHorizontal()||(a=a-parseInt(u.container.css("padding-left"),10)-parseInt(u.container.css("padding-right"),10),b=b-parseInt(u.container.css("padding-top"),10)-parseInt(u.container.css("padding-bottom"),10),u.width=a,u.height=b,u.size=u.isHorizontal()?u.width:u.height)},u.updateSlidesSize=function(){u.slides=u.wrapper.children("."+u.params.slideClass),u.snapGrid=[],u.slidesGrid=[],u.slidesSizesGrid=[];var a,b=u.params.spaceBetween,c=-u.params.slidesOffsetBefore,d=0,e=0;if("undefined"!=typeof u.size){"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*u.size),u.virtualSize=-b,u.rtl?u.slides.css({marginLeft:"",marginTop:""}):u.slides.css({marginRight:"",marginBottom:""});var g;u.params.slidesPerColumn>1&&(g=Math.floor(u.slides.length/u.params.slidesPerColumn)===u.slides.length/u.params.slidesPerColumn?u.slides.length:Math.ceil(u.slides.length/u.params.slidesPerColumn)*u.params.slidesPerColumn,"auto"!==u.params.slidesPerView&&"row"===u.params.slidesPerColumnFill&&(g=Math.max(g,u.params.slidesPerView*u.params.slidesPerColumn)));var h,i=u.params.slidesPerColumn,j=g/i,k=j-(u.params.slidesPerColumn*j-u.slides.length);for(a=0;a<u.slides.length;a++){h=0;var l=u.slides.eq(a);if(u.params.slidesPerColumn>1){var m,n,o;"column"===u.params.slidesPerColumnFill?(n=Math.floor(a/i),o=a-n*i,(n>k||n===k&&o===i-1)&&++o>=i&&(o=0,n++),m=n+o*g/i,l.css({"-webkit-box-ordinal-group":m,"-moz-box-ordinal-group":m,"-ms-flex-order":m,"-webkit-order":m,order:m})):(o=Math.floor(a/j),n=a-o*j),l.css({"margin-top":0!==o&&u.params.spaceBetween&&u.params.spaceBetween+"px"}).attr("data-swiper-column",n).attr("data-swiper-row",o)}"none"!==l.css("display")&&("auto"===u.params.slidesPerView?(h=u.isHorizontal()?l.outerWidth(!0):l.outerHeight(!0),u.params.roundLengths&&(h=f(h))):(h=(u.size-(u.params.slidesPerView-1)*b)/u.params.slidesPerView,u.params.roundLengths&&(h=f(h)),u.isHorizontal()?u.slides[a].style.width=h+"px":u.slides[a].style.height=h+"px"),u.slides[a].swiperSlideSize=h,u.slidesSizesGrid.push(h),u.params.centeredSlides?(c=c+h/2+d/2+b,0===a&&(c=c-u.size/2-b),Math.abs(c)<.001&&(c=0),e%u.params.slidesPerGroup===0&&u.snapGrid.push(c),u.slidesGrid.push(c)):(e%u.params.slidesPerGroup===0&&u.snapGrid.push(c),u.slidesGrid.push(c),c=c+h+b),u.virtualSize+=h+b,d=h,e++)}u.virtualSize=Math.max(u.virtualSize,u.size)+u.params.slidesOffsetAfter;var p;if(u.rtl&&u.wrongRTL&&("slide"===u.params.effect||"coverflow"===u.params.effect)&&u.wrapper.css({width:u.virtualSize+u.params.spaceBetween+"px"}),(!u.support.flexbox||u.params.setWrapperSize)&&(u.isHorizontal()?u.wrapper.css({width:u.virtualSize+u.params.spaceBetween+"px"}):u.wrapper.css({height:u.virtualSize+u.params.spaceBetween+"px"})),u.params.slidesPerColumn>1&&(u.virtualSize=(h+u.params.spaceBetween)*g,u.virtualSize=Math.ceil(u.virtualSize/u.params.slidesPerColumn)-u.params.spaceBetween,u.wrapper.css({width:u.virtualSize+u.params.spaceBetween+"px"}),u.params.centeredSlides)){for(p=[],a=0;a<u.snapGrid.length;a++)u.snapGrid[a]<u.virtualSize+u.snapGrid[0]&&p.push(u.snapGrid[a]);u.snapGrid=p}if(!u.params.centeredSlides){for(p=[],a=0;a<u.snapGrid.length;a++)u.snapGrid[a]<=u.virtualSize-u.size&&p.push(u.snapGrid[a]);u.snapGrid=p,Math.floor(u.virtualSize-u.size)-Math.floor(u.snapGrid[u.snapGrid.length-1])>1&&u.snapGrid.push(u.virtualSize-u.size)}0===u.snapGrid.length&&(u.snapGrid=[0]),0!==u.params.spaceBetween&&(u.isHorizontal()?u.rtl?u.slides.css({marginLeft:b+"px"}):u.slides.css({marginRight:b+"px"}):u.slides.css({marginBottom:b+"px"})),u.params.watchSlidesProgress&&u.updateSlidesOffset()}},u.updateSlidesOffset=function(){for(var a=0;a<u.slides.length;a++)u.slides[a].swiperSlideOffset=u.isHorizontal()?u.slides[a].offsetLeft:u.slides[a].offsetTop},u.updateSlidesProgress=function(a){if("undefined"==typeof a&&(a=u.translate||0),0!==u.slides.length){"undefined"==typeof u.slides[0].swiperSlideOffset&&u.updateSlidesOffset();var b=-a;u.rtl&&(b=a),u.slides.removeClass(u.params.slideVisibleClass);for(var c=0;c<u.slides.length;c++){var d=u.slides[c],e=(b-d.swiperSlideOffset)/(d.swiperSlideSize+u.params.spaceBetween);if(u.params.watchSlidesVisibility){var f=-(b-d.swiperSlideOffset),g=f+u.slidesSizesGrid[c],h=f>=0&&f<u.size||g>0&&g<=u.size||0>=f&&g>=u.size;h&&u.slides.eq(c).addClass(u.params.slideVisibleClass)}d.progress=u.rtl?-e:e}}},u.updateProgress=function(a){"undefined"==typeof a&&(a=u.translate||0);var b=u.maxTranslate()-u.minTranslate(),c=u.isBeginning,d=u.isEnd;0===b?(u.progress=0,u.isBeginning=u.isEnd=!0):(u.progress=(a-u.minTranslate())/b,u.isBeginning=u.progress<=0,u.isEnd=u.progress>=1),u.isBeginning&&!c&&u.emit("onReachBeginning",u),u.isEnd&&!d&&u.emit("onReachEnd",u),u.params.watchSlidesProgress&&u.updateSlidesProgress(a),u.emit("onProgress",u,u.progress)},u.updateActiveIndex=function(){var a,b,c,d=u.rtl?u.translate:-u.translate;for(b=0;b<u.slidesGrid.length;b++)"undefined"!=typeof u.slidesGrid[b+1]?d>=u.slidesGrid[b]&&d<u.slidesGrid[b+1]-(u.slidesGrid[b+1]-u.slidesGrid[b])/2?a=b:d>=u.slidesGrid[b]&&d<u.slidesGrid[b+1]&&(a=b+1):d>=u.slidesGrid[b]&&(a=b);(0>a||"undefined"==typeof a)&&(a=0),c=Math.floor(a/u.params.slidesPerGroup),c>=u.snapGrid.length&&(c=u.snapGrid.length-1),a!==u.activeIndex&&(u.snapIndex=c,u.previousIndex=u.activeIndex,u.activeIndex=a,u.updateClasses())},u.updateClasses=function(){u.slides.removeClass(u.params.slideActiveClass+" "+u.params.slideNextClass+" "+u.params.slidePrevClass);var a=u.slides.eq(u.activeIndex);a.addClass(u.params.slideActiveClass);var c=a.next("."+u.params.slideClass).addClass(u.params.slideNextClass);u.params.loop&&0===c.length&&u.slides.eq(0).addClass(u.params.slideNextClass);var d=a.prev("."+u.params.slideClass).addClass(u.params.slidePrevClass);if(u.params.loop&&0===d.length&&u.slides.eq(-1).addClass(u.params.slidePrevClass),u.paginationContainer&&u.paginationContainer.length>0){var e,f=u.params.loop?Math.ceil((u.slides.length-2*u.loopedSlides)/u.params.slidesPerGroup):u.snapGrid.length;if(u.params.loop?(e=Math.ceil((u.activeIndex-u.loopedSlides)/u.params.slidesPerGroup),e>u.slides.length-1-2*u.loopedSlides&&(e-=u.slides.length-2*u.loopedSlides),e>f-1&&(e-=f),0>e&&"bullets"!==u.params.paginationType&&(e=f+e)):e="undefined"!=typeof u.snapIndex?u.snapIndex:u.activeIndex||0,"bullets"===u.params.paginationType&&u.bullets&&u.bullets.length>0&&(u.bullets.removeClass(u.params.bulletActiveClass),u.paginationContainer.length>1?u.bullets.each(function(){b(this).index()===e&&b(this).addClass(u.params.bulletActiveClass)}):u.bullets.eq(e).addClass(u.params.bulletActiveClass)),"fraction"===u.params.paginationType&&(u.paginationContainer.find("."+u.params.paginationCurrentClass).text(e+1),u.paginationContainer.find("."+u.params.paginationTotalClass).text(f)),"progress"===u.params.paginationType){var g=(e+1)/f,h=g,i=1;u.isHorizontal()||(i=g,h=1),u.paginationContainer.find("."+u.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+h+") scaleY("+i+")").transition(u.params.speed)}"custom"===u.params.paginationType&&u.params.paginationCustomRender&&(u.paginationContainer.html(u.params.paginationCustomRender(u,e+1,f)),u.emit("onPaginationRendered",u,u.paginationContainer[0]))}u.params.loop||(u.params.prevButton&&u.prevButton&&u.prevButton.length>0&&(u.isBeginning?(u.prevButton.addClass(u.params.buttonDisabledClass),u.params.a11y&&u.a11y&&u.a11y.disable(u.prevButton)):(u.prevButton.removeClass(u.params.buttonDisabledClass),u.params.a11y&&u.a11y&&u.a11y.enable(u.prevButton))),u.params.nextButton&&u.nextButton&&u.nextButton.length>0&&(u.isEnd?(u.nextButton.addClass(u.params.buttonDisabledClass),u.params.a11y&&u.a11y&&u.a11y.disable(u.nextButton)):(u.nextButton.removeClass(u.params.buttonDisabledClass),
u.params.a11y&&u.a11y&&u.a11y.enable(u.nextButton))))},u.updatePagination=function(){if(u.params.pagination&&u.paginationContainer&&u.paginationContainer.length>0){var a="";if("bullets"===u.params.paginationType){for(var b=u.params.loop?Math.ceil((u.slides.length-2*u.loopedSlides)/u.params.slidesPerGroup):u.snapGrid.length,c=0;b>c;c++)a+=u.params.paginationBulletRender?u.params.paginationBulletRender(c,u.params.bulletClass):"<"+u.params.paginationElement+' class="'+u.params.bulletClass+'"></'+u.params.paginationElement+">";u.paginationContainer.html(a),u.bullets=u.paginationContainer.find("."+u.params.bulletClass),u.params.paginationClickable&&u.params.a11y&&u.a11y&&u.a11y.initPagination()}"fraction"===u.params.paginationType&&(a=u.params.paginationFractionRender?u.params.paginationFractionRender(u,u.params.paginationCurrentClass,u.params.paginationTotalClass):'<span class="'+u.params.paginationCurrentClass+'"></span> / <span class="'+u.params.paginationTotalClass+'"></span>',u.paginationContainer.html(a)),"progress"===u.params.paginationType&&(a=u.params.paginationProgressRender?u.params.paginationProgressRender(u,u.params.paginationProgressbarClass):'<span class="'+u.params.paginationProgressbarClass+'"></span>',u.paginationContainer.html(a)),"custom"!==u.params.paginationType&&u.emit("onPaginationRendered",u,u.paginationContainer[0])}},u.update=function(a){function b(){d=Math.min(Math.max(u.translate,u.maxTranslate()),u.minTranslate()),u.setWrapperTranslate(d),u.updateActiveIndex(),u.updateClasses()}if(u.updateContainerSize(),u.updateSlidesSize(),u.updateProgress(),u.updatePagination(),u.updateClasses(),u.params.scrollbar&&u.scrollbar&&u.scrollbar.set(),a){var c,d;u.controller&&u.controller.spline&&(u.controller.spline=void 0),u.params.freeMode?(b(),u.params.autoHeight&&u.updateAutoHeight()):(c=("auto"===u.params.slidesPerView||u.params.slidesPerView>1)&&u.isEnd&&!u.params.centeredSlides?u.slideTo(u.slides.length-1,0,!1,!0):u.slideTo(u.activeIndex,0,!1,!0),c||b())}else u.params.autoHeight&&u.updateAutoHeight()},u.onResize=function(a){u.params.breakpoints&&u.setBreakpoint();var b=u.params.allowSwipeToPrev,c=u.params.allowSwipeToNext;u.params.allowSwipeToPrev=u.params.allowSwipeToNext=!0,u.updateContainerSize(),u.updateSlidesSize(),("auto"===u.params.slidesPerView||u.params.freeMode||a)&&u.updatePagination(),u.params.scrollbar&&u.scrollbar&&u.scrollbar.set(),u.controller&&u.controller.spline&&(u.controller.spline=void 0);var d=!1;if(u.params.freeMode){var e=Math.min(Math.max(u.translate,u.maxTranslate()),u.minTranslate());u.setWrapperTranslate(e),u.updateActiveIndex(),u.updateClasses(),u.params.autoHeight&&u.updateAutoHeight()}else u.updateClasses(),d=("auto"===u.params.slidesPerView||u.params.slidesPerView>1)&&u.isEnd&&!u.params.centeredSlides?u.slideTo(u.slides.length-1,0,!1,!0):u.slideTo(u.activeIndex,0,!1,!0);u.params.lazyLoading&&!d&&u.lazy&&u.lazy.load(),u.params.allowSwipeToPrev=b,u.params.allowSwipeToNext=c};var w=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?w=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(w=["MSPointerDown","MSPointerMove","MSPointerUp"]),u.touchEvents={start:u.support.touch||!u.params.simulateTouch?"touchstart":w[0],move:u.support.touch||!u.params.simulateTouch?"touchmove":w[1],end:u.support.touch||!u.params.simulateTouch?"touchend":w[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===u.params.touchEventsTarget?u.container:u.wrapper).addClass("swiper-wp8-"+u.params.direction),u.initEvents=function(a){var b=a?"off":"on",c=a?"removeEventListener":"addEventListener",d="container"===u.params.touchEventsTarget?u.container[0]:u.wrapper[0],f=u.support.touch?d:document,g=!!u.params.nested;u.browser.ie?(d[c](u.touchEvents.start,u.onTouchStart,!1),f[c](u.touchEvents.move,u.onTouchMove,g),f[c](u.touchEvents.end,u.onTouchEnd,!1)):(u.support.touch&&(d[c](u.touchEvents.start,u.onTouchStart,!1),d[c](u.touchEvents.move,u.onTouchMove,g),d[c](u.touchEvents.end,u.onTouchEnd,!1)),!e.simulateTouch||u.device.ios||u.device.android||(d[c]("mousedown",u.onTouchStart,!1),document[c]("mousemove",u.onTouchMove,g),document[c]("mouseup",u.onTouchEnd,!1))),window[c]("resize",u.onResize),u.params.nextButton&&u.nextButton&&u.nextButton.length>0&&(u.nextButton[b]("click",u.onClickNext),u.params.a11y&&u.a11y&&u.nextButton[b]("keydown",u.a11y.onEnterKey)),u.params.prevButton&&u.prevButton&&u.prevButton.length>0&&(u.prevButton[b]("click",u.onClickPrev),u.params.a11y&&u.a11y&&u.prevButton[b]("keydown",u.a11y.onEnterKey)),u.params.pagination&&u.params.paginationClickable&&(u.paginationContainer[b]("click","."+u.params.bulletClass,u.onClickIndex),u.params.a11y&&u.a11y&&u.paginationContainer[b]("keydown","."+u.params.bulletClass,u.a11y.onEnterKey)),(u.params.preventClicks||u.params.preventClicksPropagation)&&d[c]("click",u.preventClicks,!0)},u.attachEvents=function(){u.initEvents()},u.detachEvents=function(){u.initEvents(!0)},u.allowClick=!0,u.preventClicks=function(a){u.allowClick||(u.params.preventClicks&&a.preventDefault(),u.params.preventClicksPropagation&&u.animating&&(a.stopPropagation(),a.stopImmediatePropagation()))},u.onClickNext=function(a){a.preventDefault(),(!u.isEnd||u.params.loop)&&u.slideNext()},u.onClickPrev=function(a){a.preventDefault(),(!u.isBeginning||u.params.loop)&&u.slidePrev()},u.onClickIndex=function(a){a.preventDefault();var c=b(this).index()*u.params.slidesPerGroup;u.params.loop&&(c+=u.loopedSlides),u.slideTo(c)},u.updateClickedSlide=function(a){var c=h(a,"."+u.params.slideClass),d=!1;if(c)for(var e=0;e<u.slides.length;e++)u.slides[e]===c&&(d=!0);if(!c||!d)return u.clickedSlide=void 0,void(u.clickedIndex=void 0);if(u.clickedSlide=c,u.clickedIndex=b(c).index(),u.params.slideToClickedSlide&&void 0!==u.clickedIndex&&u.clickedIndex!==u.activeIndex){var f,g=u.clickedIndex;if(u.params.loop){if(u.animating)return;f=b(u.clickedSlide).attr("data-swiper-slide-index"),u.params.centeredSlides?g<u.loopedSlides-u.params.slidesPerView/2||g>u.slides.length-u.loopedSlides+u.params.slidesPerView/2?(u.fixLoop(),g=u.wrapper.children("."+u.params.slideClass+'[data-swiper-slide-index="'+f+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){u.slideTo(g)},0)):u.slideTo(g):g>u.slides.length-u.params.slidesPerView?(u.fixLoop(),g=u.wrapper.children("."+u.params.slideClass+'[data-swiper-slide-index="'+f+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){u.slideTo(g)},0)):u.slideTo(g)}else u.slideTo(g)}};var x,y,z,A,B,C,D,E,F,G,H="input, select, textarea, button",I=Date.now(),J=[];u.animating=!1,u.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var K,L;if(u.onTouchStart=function(a){if(a.originalEvent&&(a=a.originalEvent),K="touchstart"===a.type,K||!("which"in a)||3!==a.which){if(u.params.noSwiping&&h(a,"."+u.params.noSwipingClass))return void(u.allowClick=!0);if(!u.params.swipeHandler||h(a,u.params.swipeHandler)){var c=u.touches.currentX="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,d=u.touches.currentY="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY;if(!(u.device.ios&&u.params.iOSEdgeSwipeDetection&&c<=u.params.iOSEdgeSwipeThreshold)){if(x=!0,y=!1,z=!0,B=void 0,L=void 0,u.touches.startX=c,u.touches.startY=d,A=Date.now(),u.allowClick=!0,u.updateContainerSize(),u.swipeDirection=void 0,u.params.threshold>0&&(E=!1),"touchstart"!==a.type){var e=!0;b(a.target).is(H)&&(e=!1),document.activeElement&&b(document.activeElement).is(H)&&document.activeElement.blur(),e&&a.preventDefault()}u.emit("onTouchStart",u,a)}}}},u.onTouchMove=function(a){if(a.originalEvent&&(a=a.originalEvent),!K||"mousemove"!==a.type){if(a.preventedByNestedSwiper)return u.touches.startX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,void(u.touches.startY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY);if(u.params.onlyExternal)return u.allowClick=!1,void(x&&(u.touches.startX=u.touches.currentX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,u.touches.startY=u.touches.currentY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,A=Date.now()));if(K&&document.activeElement&&a.target===document.activeElement&&b(a.target).is(H))return y=!0,void(u.allowClick=!1);if(z&&u.emit("onTouchMove",u,a),!(a.targetTouches&&a.targetTouches.length>1)){if(u.touches.currentX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,u.touches.currentY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,"undefined"==typeof B){var c=180*Math.atan2(Math.abs(u.touches.currentY-u.touches.startY),Math.abs(u.touches.currentX-u.touches.startX))/Math.PI;B=u.isHorizontal()?c>u.params.touchAngle:90-c>u.params.touchAngle}if(B&&u.emit("onTouchMoveOpposite",u,a),"undefined"==typeof L&&u.browser.ieTouch&&(u.touches.currentX!==u.touches.startX||u.touches.currentY!==u.touches.startY)&&(L=!0),x){if(B)return void(x=!1);if(L||!u.browser.ieTouch){u.allowClick=!1,u.emit("onSliderMove",u,a),a.preventDefault(),u.params.touchMoveStopPropagation&&!u.params.nested&&a.stopPropagation(),y||(e.loop&&u.fixLoop(),D=u.getWrapperTranslate(),u.setWrapperTransition(0),u.animating&&u.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),u.params.autoplay&&u.autoplaying&&(u.params.autoplayDisableOnInteraction?u.stopAutoplay():u.pauseAutoplay()),G=!1,u.params.grabCursor&&(u.container[0].style.cursor="move",u.container[0].style.cursor="-webkit-grabbing",u.container[0].style.cursor="-moz-grabbin",u.container[0].style.cursor="grabbing")),y=!0;var d=u.touches.diff=u.isHorizontal()?u.touches.currentX-u.touches.startX:u.touches.currentY-u.touches.startY;d*=u.params.touchRatio,u.rtl&&(d=-d),u.swipeDirection=d>0?"prev":"next",C=d+D;var f=!0;if(d>0&&C>u.minTranslate()?(f=!1,u.params.resistance&&(C=u.minTranslate()-1+Math.pow(-u.minTranslate()+D+d,u.params.resistanceRatio))):0>d&&C<u.maxTranslate()&&(f=!1,u.params.resistance&&(C=u.maxTranslate()+1-Math.pow(u.maxTranslate()-D-d,u.params.resistanceRatio))),f&&(a.preventedByNestedSwiper=!0),!u.params.allowSwipeToNext&&"next"===u.swipeDirection&&D>C&&(C=D),!u.params.allowSwipeToPrev&&"prev"===u.swipeDirection&&C>D&&(C=D),u.params.followFinger){if(u.params.threshold>0){if(!(Math.abs(d)>u.params.threshold||E))return void(C=D);if(!E)return E=!0,u.touches.startX=u.touches.currentX,u.touches.startY=u.touches.currentY,C=D,void(u.touches.diff=u.isHorizontal()?u.touches.currentX-u.touches.startX:u.touches.currentY-u.touches.startY)}(u.params.freeMode||u.params.watchSlidesProgress)&&u.updateActiveIndex(),u.params.freeMode&&(0===J.length&&J.push({position:u.touches[u.isHorizontal()?"startX":"startY"],time:A}),J.push({position:u.touches[u.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),u.updateProgress(C),u.setWrapperTranslate(C)}}}}}},u.onTouchEnd=function(a){if(a.originalEvent&&(a=a.originalEvent),z&&u.emit("onTouchEnd",u,a),z=!1,x){u.params.grabCursor&&y&&x&&(u.container[0].style.cursor="move",u.container[0].style.cursor="-webkit-grab",u.container[0].style.cursor="-moz-grab",u.container[0].style.cursor="grab");var c=Date.now(),d=c-A;if(u.allowClick&&(u.updateClickedSlide(a),u.emit("onTap",u,a),300>d&&c-I>300&&(F&&clearTimeout(F),F=setTimeout(function(){u&&(u.params.paginationHide&&u.paginationContainer.length>0&&!b(a.target).hasClass(u.params.bulletClass)&&u.paginationContainer.toggleClass(u.params.paginationHiddenClass),u.emit("onClick",u,a))},300)),300>d&&300>c-I&&(F&&clearTimeout(F),u.emit("onDoubleTap",u,a))),I=Date.now(),setTimeout(function(){u&&(u.allowClick=!0)},0),!x||!y||!u.swipeDirection||0===u.touches.diff||C===D)return void(x=y=!1);x=y=!1;var e;if(e=u.params.followFinger?u.rtl?u.translate:-u.translate:-C,u.params.freeMode){if(e<-u.minTranslate())return void u.slideTo(u.activeIndex);if(e>-u.maxTranslate())return void(u.slides.length<u.snapGrid.length?u.slideTo(u.snapGrid.length-1):u.slideTo(u.slides.length-1));if(u.params.freeModeMomentum){if(J.length>1){var f=J.pop(),g=J.pop(),h=f.position-g.position,i=f.time-g.time;u.velocity=h/i,u.velocity=u.velocity/2,Math.abs(u.velocity)<u.params.freeModeMinimumVelocity&&(u.velocity=0),(i>150||(new window.Date).getTime()-f.time>300)&&(u.velocity=0)}else u.velocity=0;J.length=0;var j=1e3*u.params.freeModeMomentumRatio,k=u.velocity*j,l=u.translate+k;u.rtl&&(l=-l);var m,n=!1,o=20*Math.abs(u.velocity)*u.params.freeModeMomentumBounceRatio;if(l<u.maxTranslate())u.params.freeModeMomentumBounce?(l+u.maxTranslate()<-o&&(l=u.maxTranslate()-o),m=u.maxTranslate(),n=!0,G=!0):l=u.maxTranslate();else if(l>u.minTranslate())u.params.freeModeMomentumBounce?(l-u.minTranslate()>o&&(l=u.minTranslate()+o),m=u.minTranslate(),n=!0,G=!0):l=u.minTranslate();else if(u.params.freeModeSticky){var p,q=0;for(q=0;q<u.snapGrid.length;q+=1)if(u.snapGrid[q]>-l){p=q;break}l=Math.abs(u.snapGrid[p]-l)<Math.abs(u.snapGrid[p-1]-l)||"next"===u.swipeDirection?u.snapGrid[p]:u.snapGrid[p-1],u.rtl||(l=-l)}if(0!==u.velocity)j=u.rtl?Math.abs((-l-u.translate)/u.velocity):Math.abs((l-u.translate)/u.velocity);else if(u.params.freeModeSticky)return void u.slideReset();u.params.freeModeMomentumBounce&&n?(u.updateProgress(m),u.setWrapperTransition(j),u.setWrapperTranslate(l),u.onTransitionStart(),u.animating=!0,u.wrapper.transitionEnd(function(){u&&G&&(u.emit("onMomentumBounce",u),u.setWrapperTransition(u.params.speed),u.setWrapperTranslate(m),u.wrapper.transitionEnd(function(){u&&u.onTransitionEnd()}))})):u.velocity?(u.updateProgress(l),u.setWrapperTransition(j),u.setWrapperTranslate(l),u.onTransitionStart(),u.animating||(u.animating=!0,u.wrapper.transitionEnd(function(){u&&u.onTransitionEnd()}))):u.updateProgress(l),u.updateActiveIndex()}return void((!u.params.freeModeMomentum||d>=u.params.longSwipesMs)&&(u.updateProgress(),u.updateActiveIndex()))}var r,s=0,t=u.slidesSizesGrid[0];for(r=0;r<u.slidesGrid.length;r+=u.params.slidesPerGroup)"undefined"!=typeof u.slidesGrid[r+u.params.slidesPerGroup]?e>=u.slidesGrid[r]&&e<u.slidesGrid[r+u.params.slidesPerGroup]&&(s=r,t=u.slidesGrid[r+u.params.slidesPerGroup]-u.slidesGrid[r]):e>=u.slidesGrid[r]&&(s=r,t=u.slidesGrid[u.slidesGrid.length-1]-u.slidesGrid[u.slidesGrid.length-2]);var v=(e-u.slidesGrid[s])/t;if(d>u.params.longSwipesMs){if(!u.params.longSwipes)return void u.slideTo(u.activeIndex);"next"===u.swipeDirection&&(v>=u.params.longSwipesRatio?u.slideTo(s+u.params.slidesPerGroup):u.slideTo(s)),"prev"===u.swipeDirection&&(v>1-u.params.longSwipesRatio?u.slideTo(s+u.params.slidesPerGroup):u.slideTo(s))}else{if(!u.params.shortSwipes)return void u.slideTo(u.activeIndex);"next"===u.swipeDirection&&u.slideTo(s+u.params.slidesPerGroup),"prev"===u.swipeDirection&&u.slideTo(s)}}},u._slideTo=function(a,b){return u.slideTo(a,b,!0,!0)},u.slideTo=function(a,b,c,d){"undefined"==typeof c&&(c=!0),"undefined"==typeof a&&(a=0),0>a&&(a=0),u.snapIndex=Math.floor(a/u.params.slidesPerGroup),u.snapIndex>=u.snapGrid.length&&(u.snapIndex=u.snapGrid.length-1);var e=-u.snapGrid[u.snapIndex];u.params.autoplay&&u.autoplaying&&(d||!u.params.autoplayDisableOnInteraction?u.pauseAutoplay(b):u.stopAutoplay()),u.updateProgress(e);for(var f=0;f<u.slidesGrid.length;f++)-Math.floor(100*e)>=Math.floor(100*u.slidesGrid[f])&&(a=f);return!(!u.params.allowSwipeToNext&&e<u.translate&&e<u.minTranslate())&&(!(!u.params.allowSwipeToPrev&&e>u.translate&&e>u.maxTranslate()&&(u.activeIndex||0)!==a)&&("undefined"==typeof b&&(b=u.params.speed),u.previousIndex=u.activeIndex||0,u.activeIndex=a,u.rtl&&-e===u.translate||!u.rtl&&e===u.translate?(u.params.autoHeight&&u.updateAutoHeight(),u.updateClasses(),"slide"!==u.params.effect&&u.setWrapperTranslate(e),!1):(u.updateClasses(),u.onTransitionStart(c),0===b?(u.setWrapperTranslate(e),u.setWrapperTransition(0),u.onTransitionEnd(c)):(u.setWrapperTranslate(e),u.setWrapperTransition(b),u.animating||(u.animating=!0,u.wrapper.transitionEnd(function(){u&&u.onTransitionEnd(c)}))),!0)))},u.onTransitionStart=function(a){"undefined"==typeof a&&(a=!0),u.params.autoHeight&&u.updateAutoHeight(),u.lazy&&u.lazy.onTransitionStart(),a&&(u.emit("onTransitionStart",u),u.activeIndex!==u.previousIndex&&(u.emit("onSlideChangeStart",u),u.activeIndex>u.previousIndex?u.emit("onSlideNextStart",u):u.emit("onSlidePrevStart",u)))},u.onTransitionEnd=function(a){u.animating=!1,u.setWrapperTransition(0),"undefined"==typeof a&&(a=!0),u.lazy&&u.lazy.onTransitionEnd(),a&&(u.emit("onTransitionEnd",u),u.activeIndex!==u.previousIndex&&(u.emit("onSlideChangeEnd",u),u.activeIndex>u.previousIndex?u.emit("onSlideNextEnd",u):u.emit("onSlidePrevEnd",u))),u.params.hashnav&&u.hashnav&&u.hashnav.setHash()},u.slideNext=function(a,b,c){return u.params.loop?!u.animating&&(u.fixLoop(),u.container[0].clientLeft,u.slideTo(u.activeIndex+u.params.slidesPerGroup,b,a,c)):u.slideTo(u.activeIndex+u.params.slidesPerGroup,b,a,c)},u._slideNext=function(a){return u.slideNext(!0,a,!0)},u.slidePrev=function(a,b,c){return u.params.loop?!u.animating&&(u.fixLoop(),u.container[0].clientLeft,u.slideTo(u.activeIndex-1,b,a,c)):u.slideTo(u.activeIndex-1,b,a,c)},u._slidePrev=function(a){return u.slidePrev(!0,a,!0)},u.slideReset=function(a,b,c){return u.slideTo(u.activeIndex,b,a)},u.setWrapperTransition=function(a,b){u.wrapper.transition(a),"slide"!==u.params.effect&&u.effects[u.params.effect]&&u.effects[u.params.effect].setTransition(a),u.params.parallax&&u.parallax&&u.parallax.setTransition(a),u.params.scrollbar&&u.scrollbar&&u.scrollbar.setTransition(a),u.params.control&&u.controller&&u.controller.setTransition(a,b),u.emit("onSetTransition",u,a)},u.setWrapperTranslate=function(a,b,c){var d=0,e=0,g=0;u.isHorizontal()?d=u.rtl?-a:a:e=a,u.params.roundLengths&&(d=f(d),e=f(e)),u.params.virtualTranslate||(u.support.transforms3d?u.wrapper.transform("translate3d("+d+"px, "+e+"px, "+g+"px)"):u.wrapper.transform("translate("+d+"px, "+e+"px)")),u.translate=u.isHorizontal()?d:e;var h,i=u.maxTranslate()-u.minTranslate();h=0===i?0:(a-u.minTranslate())/i,h!==u.progress&&u.updateProgress(a),b&&u.updateActiveIndex(),"slide"!==u.params.effect&&u.effects[u.params.effect]&&u.effects[u.params.effect].setTranslate(u.translate),u.params.parallax&&u.parallax&&u.parallax.setTranslate(u.translate),u.params.scrollbar&&u.scrollbar&&u.scrollbar.setTranslate(u.translate),u.params.control&&u.controller&&u.controller.setTranslate(u.translate,c),u.emit("onSetTranslate",u,u.translate)},u.getTranslate=function(a,b){var c,d,e,f;return"undefined"==typeof b&&(b="x"),u.params.virtualTranslate?u.rtl?-u.translate:u.translate:(e=window.getComputedStyle(a,null),window.WebKitCSSMatrix?(d=e.transform||e.webkitTransform,d.split(",").length>6&&(d=d.split(", ").map(function(a){return a.replace(",",".")}).join(", ")),f=new window.WebKitCSSMatrix("none"===d?"":d)):(f=e.MozTransform||e.OTransform||e.MsTransform||e.msTransform||e.transform||e.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),c=f.toString().split(",")),"x"===b&&(d=window.WebKitCSSMatrix?f.m41:16===c.length?parseFloat(c[12]):parseFloat(c[4])),"y"===b&&(d=window.WebKitCSSMatrix?f.m42:16===c.length?parseFloat(c[13]):parseFloat(c[5])),u.rtl&&d&&(d=-d),d||0)},u.getWrapperTranslate=function(a){return"undefined"==typeof a&&(a=u.isHorizontal()?"x":"y"),u.getTranslate(u.wrapper[0],a)},u.observers=[],u.initObservers=function(){if(u.params.observeParents)for(var a=u.container.parents(),b=0;b<a.length;b++)i(a[b]);i(u.container[0],{childList:!1}),i(u.wrapper[0],{attributes:!1})},u.disconnectObservers=function(){for(var a=0;a<u.observers.length;a++)u.observers[a].disconnect();u.observers=[]},u.createLoop=function(){u.wrapper.children("."+u.params.slideClass+"."+u.params.slideDuplicateClass).remove();var a=u.wrapper.children("."+u.params.slideClass);"auto"!==u.params.slidesPerView||u.params.loopedSlides||(u.params.loopedSlides=a.length),u.loopedSlides=parseInt(u.params.loopedSlides||u.params.slidesPerView,10),u.loopedSlides=u.loopedSlides+u.params.loopAdditionalSlides,u.loopedSlides>a.length&&(u.loopedSlides=a.length);var c,d=[],e=[];for(a.each(function(c,f){var g=b(this);c<u.loopedSlides&&e.push(f),c<a.length&&c>=a.length-u.loopedSlides&&d.push(f),g.attr("data-swiper-slide-index",c)}),c=0;c<e.length;c++)u.wrapper.append(b(e[c].cloneNode(!0)).addClass(u.params.slideDuplicateClass));for(c=d.length-1;c>=0;c--)u.wrapper.prepend(b(d[c].cloneNode(!0)).addClass(u.params.slideDuplicateClass))},u.destroyLoop=function(){u.wrapper.children("."+u.params.slideClass+"."+u.params.slideDuplicateClass).remove(),u.slides.removeAttr("data-swiper-slide-index")},u.reLoop=function(a){var b=u.activeIndex-u.loopedSlides;u.destroyLoop(),u.createLoop(),u.updateSlidesSize(),a&&u.slideTo(b+u.loopedSlides,0,!1)},u.fixLoop=function(){var a;u.activeIndex<u.loopedSlides?(a=u.slides.length-3*u.loopedSlides+u.activeIndex,a+=u.loopedSlides,u.slideTo(a,0,!1,!0)):("auto"===u.params.slidesPerView&&u.activeIndex>=2*u.loopedSlides||u.activeIndex>u.slides.length-2*u.params.slidesPerView)&&(a=-u.slides.length+u.activeIndex+u.loopedSlides,a+=u.loopedSlides,u.slideTo(a,0,!1,!0))},u.appendSlide=function(a){if(u.params.loop&&u.destroyLoop(),"object"==typeof a&&a.length)for(var b=0;b<a.length;b++)a[b]&&u.wrapper.append(a[b]);else u.wrapper.append(a);u.params.loop&&u.createLoop(),u.params.observer&&u.support.observer||u.update(!0)},u.prependSlide=function(a){u.params.loop&&u.destroyLoop();var b=u.activeIndex+1;if("object"==typeof a&&a.length){for(var c=0;c<a.length;c++)a[c]&&u.wrapper.prepend(a[c]);b=u.activeIndex+a.length}else u.wrapper.prepend(a);u.params.loop&&u.createLoop(),u.params.observer&&u.support.observer||u.update(!0),u.slideTo(b,0,!1)},u.removeSlide=function(a){u.params.loop&&(u.destroyLoop(),u.slides=u.wrapper.children("."+u.params.slideClass));var b,c=u.activeIndex;if("object"==typeof a&&a.length){for(var d=0;d<a.length;d++)b=a[d],u.slides[b]&&u.slides.eq(b).remove(),c>b&&c--;c=Math.max(c,0)}else b=a,u.slides[b]&&u.slides.eq(b).remove(),c>b&&c--,c=Math.max(c,0);u.params.loop&&u.createLoop(),u.params.observer&&u.support.observer||u.update(!0),u.params.loop?u.slideTo(c+u.loopedSlides,0,!1):u.slideTo(c,0,!1)},u.removeAllSlides=function(){for(var a=[],b=0;b<u.slides.length;b++)a.push(b);u.removeSlide(a)},u.effects={fade:{setTranslate:function(){for(var a=0;a<u.slides.length;a++){var b=u.slides.eq(a),c=b[0].swiperSlideOffset,d=-c;u.params.virtualTranslate||(d-=u.translate);var e=0;u.isHorizontal()||(e=d,d=0);var f=u.params.fade.crossFade?Math.max(1-Math.abs(b[0].progress),0):1+Math.min(Math.max(b[0].progress,-1),0);b.css({opacity:f}).transform("translate3d("+d+"px, "+e+"px, 0px)")}},setTransition:function(a){if(u.slides.transition(a),u.params.virtualTranslate&&0!==a){var b=!1;u.slides.transitionEnd(function(){if(!b&&u){b=!0,u.animating=!1;for(var a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],c=0;c<a.length;c++)u.wrapper.trigger(a[c])}})}}},flip:{setTranslate:function(){for(var a=0;a<u.slides.length;a++){var c=u.slides.eq(a),d=c[0].progress;u.params.flip.limitRotation&&(d=Math.max(Math.min(c[0].progress,1),-1));var e=c[0].swiperSlideOffset,f=-180*d,g=f,h=0,i=-e,j=0;if(u.isHorizontal()?u.rtl&&(g=-g):(j=i,i=0,h=-g,g=0),c[0].style.zIndex=-Math.abs(Math.round(d))+u.slides.length,u.params.flip.slideShadows){var k=u.isHorizontal()?c.find(".swiper-slide-shadow-left"):c.find(".swiper-slide-shadow-top"),l=u.isHorizontal()?c.find(".swiper-slide-shadow-right"):c.find(".swiper-slide-shadow-bottom");0===k.length&&(k=b('<div class="swiper-slide-shadow-'+(u.isHorizontal()?"left":"top")+'"></div>'),c.append(k)),0===l.length&&(l=b('<div class="swiper-slide-shadow-'+(u.isHorizontal()?"right":"bottom")+'"></div>'),c.append(l)),k.length&&(k[0].style.opacity=Math.max(-d,0)),l.length&&(l[0].style.opacity=Math.max(d,0))}c.transform("translate3d("+i+"px, "+j+"px, 0px) rotateX("+h+"deg) rotateY("+g+"deg)")}},setTransition:function(a){if(u.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a),u.params.virtualTranslate&&0!==a){var c=!1;u.slides.eq(u.activeIndex).transitionEnd(function(){if(!c&&u&&b(this).hasClass(u.params.slideActiveClass)){c=!0,u.animating=!1;for(var a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],d=0;d<a.length;d++)u.wrapper.trigger(a[d])}})}}},cube:{setTranslate:function(){var a,c=0;u.params.cube.shadow&&(u.isHorizontal()?(a=u.wrapper.find(".swiper-cube-shadow"),0===a.length&&(a=b('<div class="swiper-cube-shadow"></div>'),u.wrapper.append(a)),a.css({height:u.width+"px"})):(a=u.container.find(".swiper-cube-shadow"),0===a.length&&(a=b('<div class="swiper-cube-shadow"></div>'),u.container.append(a))));for(var d=0;d<u.slides.length;d++){var e=u.slides.eq(d),f=90*d,g=Math.floor(f/360);u.rtl&&(f=-f,g=Math.floor(-f/360));var h=Math.max(Math.min(e[0].progress,1),-1),i=0,j=0,k=0;d%4===0?(i=4*-g*u.size,k=0):(d-1)%4===0?(i=0,k=4*-g*u.size):(d-2)%4===0?(i=u.size+4*g*u.size,k=u.size):(d-3)%4===0&&(i=-u.size,k=3*u.size+4*u.size*g),u.rtl&&(i=-i),u.isHorizontal()||(j=i,i=0);var l="rotateX("+(u.isHorizontal()?0:-f)+"deg) rotateY("+(u.isHorizontal()?f:0)+"deg) translate3d("+i+"px, "+j+"px, "+k+"px)";if(1>=h&&h>-1&&(c=90*d+90*h,u.rtl&&(c=90*-d-90*h)),e.transform(l),u.params.cube.slideShadows){var m=u.isHorizontal()?e.find(".swiper-slide-shadow-left"):e.find(".swiper-slide-shadow-top"),n=u.isHorizontal()?e.find(".swiper-slide-shadow-right"):e.find(".swiper-slide-shadow-bottom");0===m.length&&(m=b('<div class="swiper-slide-shadow-'+(u.isHorizontal()?"left":"top")+'"></div>'),e.append(m)),0===n.length&&(n=b('<div class="swiper-slide-shadow-'+(u.isHorizontal()?"right":"bottom")+'"></div>'),e.append(n)),m.length&&(m[0].style.opacity=Math.max(-h,0)),n.length&&(n[0].style.opacity=Math.max(h,0))}}if(u.wrapper.css({"-webkit-transform-origin":"50% 50% -"+u.size/2+"px","-moz-transform-origin":"50% 50% -"+u.size/2+"px","-ms-transform-origin":"50% 50% -"+u.size/2+"px","transform-origin":"50% 50% -"+u.size/2+"px"}),u.params.cube.shadow)if(u.isHorizontal())a.transform("translate3d(0px, "+(u.width/2+u.params.cube.shadowOffset)+"px, "+-u.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+u.params.cube.shadowScale+")");else{var o=Math.abs(c)-90*Math.floor(Math.abs(c)/90),p=1.5-(Math.sin(2*o*Math.PI/360)/2+Math.cos(2*o*Math.PI/360)/2),q=u.params.cube.shadowScale,r=u.params.cube.shadowScale/p,s=u.params.cube.shadowOffset;a.transform("scale3d("+q+", 1, "+r+") translate3d(0px, "+(u.height/2+s)+"px, "+-u.height/2/r+"px) rotateX(-90deg)")}var t=u.isSafari||u.isUiWebView?-u.size/2:0;u.wrapper.transform("translate3d(0px,0,"+t+"px) rotateX("+(u.isHorizontal()?0:c)+"deg) rotateY("+(u.isHorizontal()?-c:0)+"deg)")},setTransition:function(a){u.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a),u.params.cube.shadow&&!u.isHorizontal()&&u.container.find(".swiper-cube-shadow").transition(a)}},coverflow:{setTranslate:function(){for(var a=u.translate,c=u.isHorizontal()?-a+u.width/2:-a+u.height/2,d=u.isHorizontal()?u.params.coverflow.rotate:-u.params.coverflow.rotate,e=u.params.coverflow.depth,f=0,g=u.slides.length;g>f;f++){var h=u.slides.eq(f),i=u.slidesSizesGrid[f],j=h[0].swiperSlideOffset,k=(c-j-i/2)/i*u.params.coverflow.modifier,l=u.isHorizontal()?d*k:0,m=u.isHorizontal()?0:d*k,n=-e*Math.abs(k),o=u.isHorizontal()?0:u.params.coverflow.stretch*k,p=u.isHorizontal()?u.params.coverflow.stretch*k:0;Math.abs(p)<.001&&(p=0),Math.abs(o)<.001&&(o=0),Math.abs(n)<.001&&(n=0),Math.abs(l)<.001&&(l=0),Math.abs(m)<.001&&(m=0);var q="translate3d("+p+"px,"+o+"px,"+n+"px)  rotateX("+m+"deg) rotateY("+l+"deg)";if(h.transform(q),h[0].style.zIndex=-Math.abs(Math.round(k))+1,u.params.coverflow.slideShadows){var r=u.isHorizontal()?h.find(".swiper-slide-shadow-left"):h.find(".swiper-slide-shadow-top"),s=u.isHorizontal()?h.find(".swiper-slide-shadow-right"):h.find(".swiper-slide-shadow-bottom");0===r.length&&(r=b('<div class="swiper-slide-shadow-'+(u.isHorizontal()?"left":"top")+'"></div>'),h.append(r)),0===s.length&&(s=b('<div class="swiper-slide-shadow-'+(u.isHorizontal()?"right":"bottom")+'"></div>'),h.append(s)),r.length&&(r[0].style.opacity=k>0?k:0),s.length&&(s[0].style.opacity=-k>0?-k:0)}}if(u.browser.ie){var t=u.wrapper[0].style;t.perspectiveOrigin=c+"px 50%"}},setTransition:function(a){u.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a)}}},u.lazy={initialImageLoaded:!1,loadImageInSlide:function(a,c){if("undefined"!=typeof a&&("undefined"==typeof c&&(c=!0),0!==u.slides.length)){var d=u.slides.eq(a),e=d.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!d.hasClass("swiper-lazy")||d.hasClass("swiper-lazy-loaded")||d.hasClass("swiper-lazy-loading")||(e=e.add(d[0])),0!==e.length&&e.each(function(){var a=b(this);a.addClass("swiper-lazy-loading");var e=a.attr("data-background"),f=a.attr("data-src"),g=a.attr("data-srcset");u.loadImage(a[0],f||e,g,!1,function(){if(e?(a.css("background-image",'url("'+e+'")'),a.removeAttr("data-background")):(g&&(a.attr("srcset",g),a.removeAttr("data-srcset")),f&&(a.attr("src",f),a.removeAttr("data-src"))),a.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),d.find(".swiper-lazy-preloader, .preloader").remove(),u.params.loop&&c){var b=d.attr("data-swiper-slide-index");if(d.hasClass(u.params.slideDuplicateClass)){var h=u.wrapper.children('[data-swiper-slide-index="'+b+'"]:not(.'+u.params.slideDuplicateClass+")");u.lazy.loadImageInSlide(h.index(),!1)}else{var i=u.wrapper.children("."+u.params.slideDuplicateClass+'[data-swiper-slide-index="'+b+'"]');u.lazy.loadImageInSlide(i.index(),!1)}}u.emit("onLazyImageReady",u,d[0],a[0])}),u.emit("onLazyImageLoad",u,d[0],a[0])})}},load:function(){var a;if(u.params.watchSlidesVisibility)u.wrapper.children("."+u.params.slideVisibleClass).each(function(){u.lazy.loadImageInSlide(b(this).index())});else if(u.params.slidesPerView>1)for(a=u.activeIndex;a<u.activeIndex+u.params.slidesPerView;a++)u.slides[a]&&u.lazy.loadImageInSlide(a);else u.lazy.loadImageInSlide(u.activeIndex);if(u.params.lazyLoadingInPrevNext)if(u.params.slidesPerView>1||u.params.lazyLoadingInPrevNextAmount&&u.params.lazyLoadingInPrevNextAmount>1){var c=u.params.lazyLoadingInPrevNextAmount,d=u.params.slidesPerView,e=Math.min(u.activeIndex+d+Math.max(c,d),u.slides.length),f=Math.max(u.activeIndex-Math.max(d,c),0);for(a=u.activeIndex+u.params.slidesPerView;e>a;a++)u.slides[a]&&u.lazy.loadImageInSlide(a);for(a=f;a<u.activeIndex;a++)u.slides[a]&&u.lazy.loadImageInSlide(a)}else{var g=u.wrapper.children("."+u.params.slideNextClass);g.length>0&&u.lazy.loadImageInSlide(g.index());var h=u.wrapper.children("."+u.params.slidePrevClass);h.length>0&&u.lazy.loadImageInSlide(h.index())}},onTransitionStart:function(){u.params.lazyLoading&&(u.params.lazyLoadingOnTransitionStart||!u.params.lazyLoadingOnTransitionStart&&!u.lazy.initialImageLoaded)&&u.lazy.load()},onTransitionEnd:function(){u.params.lazyLoading&&!u.params.lazyLoadingOnTransitionStart&&u.lazy.load()}},u.scrollbar={isTouched:!1,setDragPosition:function(a){var b=u.scrollbar,c=u.isHorizontal()?"touchstart"===a.type||"touchmove"===a.type?a.targetTouches[0].pageX:a.pageX||a.clientX:"touchstart"===a.type||"touchmove"===a.type?a.targetTouches[0].pageY:a.pageY||a.clientY,d=c-b.track.offset()[u.isHorizontal()?"left":"top"]-b.dragSize/2,e=-u.minTranslate()*b.moveDivider,f=-u.maxTranslate()*b.moveDivider;e>d?d=e:d>f&&(d=f),d=-d/b.moveDivider,u.updateProgress(d),u.setWrapperTranslate(d,!0)},dragStart:function(a){var b=u.scrollbar;b.isTouched=!0,a.preventDefault(),a.stopPropagation(),b.setDragPosition(a),clearTimeout(b.dragTimeout),b.track.transition(0),u.params.scrollbarHide&&b.track.css("opacity",1),u.wrapper.transition(100),b.drag.transition(100),u.emit("onScrollbarDragStart",u)},dragMove:function(a){var b=u.scrollbar;b.isTouched&&(a.preventDefault?a.preventDefault():a.returnValue=!1,
b.setDragPosition(a),u.wrapper.transition(0),b.track.transition(0),b.drag.transition(0),u.emit("onScrollbarDragMove",u))},dragEnd:function(a){var b=u.scrollbar;b.isTouched&&(b.isTouched=!1,u.params.scrollbarHide&&(clearTimeout(b.dragTimeout),b.dragTimeout=setTimeout(function(){b.track.css("opacity",0),b.track.transition(400)},1e3)),u.emit("onScrollbarDragEnd",u),u.params.scrollbarSnapOnRelease&&u.slideReset())},enableDraggable:function(){var a=u.scrollbar,c=u.support.touch?a.track:document;b(a.track).on(u.touchEvents.start,a.dragStart),b(c).on(u.touchEvents.move,a.dragMove),b(c).on(u.touchEvents.end,a.dragEnd)},disableDraggable:function(){var a=u.scrollbar,c=u.support.touch?a.track:document;b(a.track).off(u.touchEvents.start,a.dragStart),b(c).off(u.touchEvents.move,a.dragMove),b(c).off(u.touchEvents.end,a.dragEnd)},set:function(){if(u.params.scrollbar){var a=u.scrollbar;a.track=b(u.params.scrollbar),u.params.uniqueNavElements&&"string"==typeof u.params.scrollbar&&a.track.length>1&&1===u.container.find(u.params.scrollbar).length&&(a.track=u.container.find(u.params.scrollbar)),a.drag=a.track.find(".swiper-scrollbar-drag"),0===a.drag.length&&(a.drag=b('<div class="swiper-scrollbar-drag"></div>'),a.track.append(a.drag)),a.drag[0].style.width="",a.drag[0].style.height="",a.trackSize=u.isHorizontal()?a.track[0].offsetWidth:a.track[0].offsetHeight,a.divider=u.size/u.virtualSize,a.moveDivider=a.divider*(a.trackSize/u.size),a.dragSize=a.trackSize*a.divider,u.isHorizontal()?a.drag[0].style.width=a.dragSize+"px":a.drag[0].style.height=a.dragSize+"px",a.divider>=1?a.track[0].style.display="none":a.track[0].style.display="",u.params.scrollbarHide&&(a.track[0].style.opacity=0)}},setTranslate:function(){if(u.params.scrollbar){var a,b=u.scrollbar,c=(u.translate||0,b.dragSize);a=(b.trackSize-b.dragSize)*u.progress,u.rtl&&u.isHorizontal()?(a=-a,a>0?(c=b.dragSize-a,a=0):-a+b.dragSize>b.trackSize&&(c=b.trackSize+a)):0>a?(c=b.dragSize+a,a=0):a+b.dragSize>b.trackSize&&(c=b.trackSize-a),u.isHorizontal()?(u.support.transforms3d?b.drag.transform("translate3d("+a+"px, 0, 0)"):b.drag.transform("translateX("+a+"px)"),b.drag[0].style.width=c+"px"):(u.support.transforms3d?b.drag.transform("translate3d(0px, "+a+"px, 0)"):b.drag.transform("translateY("+a+"px)"),b.drag[0].style.height=c+"px"),u.params.scrollbarHide&&(clearTimeout(b.timeout),b.track[0].style.opacity=1,b.timeout=setTimeout(function(){b.track[0].style.opacity=0,b.track.transition(400)},1e3))}},setTransition:function(a){u.params.scrollbar&&u.scrollbar.drag.transition(a)}},u.controller={LinearSpline:function(a,b){this.x=a,this.y=b,this.lastIndex=a.length-1;var c,d;this.x.length,this.interpolate=function(a){return a?(d=e(this.x,a),c=d-1,(a-this.x[c])*(this.y[d]-this.y[c])/(this.x[d]-this.x[c])+this.y[c]):0};var e=function(){var a,b,c;return function(d,e){for(b=-1,a=d.length;a-b>1;)d[c=a+b>>1]<=e?b=c:a=c;return a}}()},getInterpolateFunction:function(a){u.controller.spline||(u.controller.spline=u.params.loop?new u.controller.LinearSpline(u.slidesGrid,a.slidesGrid):new u.controller.LinearSpline(u.snapGrid,a.snapGrid))},setTranslate:function(a,b){function d(b){a=b.rtl&&"horizontal"===b.params.direction?-u.translate:u.translate,"slide"===u.params.controlBy&&(u.controller.getInterpolateFunction(b),f=-u.controller.spline.interpolate(-a)),f&&"container"!==u.params.controlBy||(e=(b.maxTranslate()-b.minTranslate())/(u.maxTranslate()-u.minTranslate()),f=(a-u.minTranslate())*e+b.minTranslate()),u.params.controlInverse&&(f=b.maxTranslate()-f),b.updateProgress(f),b.setWrapperTranslate(f,!1,u),b.updateActiveIndex()}var e,f,g=u.params.control;if(u.isArray(g))for(var h=0;h<g.length;h++)g[h]!==b&&g[h]instanceof c&&d(g[h]);else g instanceof c&&b!==g&&d(g)},setTransition:function(a,b){function d(b){b.setWrapperTransition(a,u),0!==a&&(b.onTransitionStart(),b.wrapper.transitionEnd(function(){f&&(b.params.loop&&"slide"===u.params.controlBy&&b.fixLoop(),b.onTransitionEnd())}))}var e,f=u.params.control;if(u.isArray(f))for(e=0;e<f.length;e++)f[e]!==b&&f[e]instanceof c&&d(f[e]);else f instanceof c&&b!==f&&d(f)}},u.hashnav={init:function(){if(u.params.hashnav){u.hashnav.initialized=!0;var a=document.location.hash.replace("#","");if(a)for(var b=0,c=0,d=u.slides.length;d>c;c++){var e=u.slides.eq(c),f=e.attr("data-hash");if(f===a&&!e.hasClass(u.params.slideDuplicateClass)){var g=e.index();u.slideTo(g,b,u.params.runCallbacksOnInit,!0)}}}},setHash:function(){u.hashnav.initialized&&u.params.hashnav&&(document.location.hash=u.slides.eq(u.activeIndex).attr("data-hash")||"")}},u.disableKeyboardControl=function(){u.params.keyboardControl=!1,b(document).off("keydown",j)},u.enableKeyboardControl=function(){u.params.keyboardControl=!0,b(document).on("keydown",j)},u.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},u.params.mousewheelControl){try{new window.WheelEvent("wheel"),u.mousewheel.event="wheel"}catch(a){(window.WheelEvent||u.container[0]&&"wheel"in u.container[0])&&(u.mousewheel.event="wheel")}!u.mousewheel.event&&window.WheelEvent,u.mousewheel.event||void 0===document.onmousewheel||(u.mousewheel.event="mousewheel"),u.mousewheel.event||(u.mousewheel.event="DOMMouseScroll")}u.disableMousewheelControl=function(){return!!u.mousewheel.event&&(u.container.off(u.mousewheel.event,k),!0)},u.enableMousewheelControl=function(){return!!u.mousewheel.event&&(u.container.on(u.mousewheel.event,k),!0)},u.parallax={setTranslate:function(){u.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){l(this,u.progress)}),u.slides.each(function(){var a=b(this);a.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var b=Math.min(Math.max(a[0].progress,-1),1);l(this,b)})})},setTransition:function(a){"undefined"==typeof a&&(a=u.params.speed),u.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var c=b(this),d=parseInt(c.attr("data-swiper-parallax-duration"),10)||a;0===a&&(d=0),c.transition(d)})}},u._plugins=[];for(var M in u.plugins){var N=u.plugins[M](u,u.params[M]);N&&u._plugins.push(N)}return u.callPlugins=function(a){for(var b=0;b<u._plugins.length;b++)a in u._plugins[b]&&u._plugins[b][a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},u.emitterEventListeners={},u.emit=function(a){u.params[a]&&u.params[a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var b;if(u.emitterEventListeners[a])for(b=0;b<u.emitterEventListeners[a].length;b++)u.emitterEventListeners[a][b](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);u.callPlugins&&u.callPlugins(a,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},u.on=function(a,b){return a=m(a),u.emitterEventListeners[a]||(u.emitterEventListeners[a]=[]),u.emitterEventListeners[a].push(b),u},u.off=function(a,b){var c;if(a=m(a),"undefined"==typeof b)return u.emitterEventListeners[a]=[],u;if(u.emitterEventListeners[a]&&0!==u.emitterEventListeners[a].length){for(c=0;c<u.emitterEventListeners[a].length;c++)u.emitterEventListeners[a][c]===b&&u.emitterEventListeners[a].splice(c,1);return u}},u.once=function(a,b){a=m(a);var c=function(){b(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),u.off(a,c)};return u.on(a,c),u},u.a11y={makeFocusable:function(a){return a.attr("tabIndex","0"),a},addRole:function(a,b){return a.attr("role",b),a},addLabel:function(a,b){return a.attr("aria-label",b),a},disable:function(a){return a.attr("aria-disabled",!0),a},enable:function(a){return a.attr("aria-disabled",!1),a},onEnterKey:function(a){13===a.keyCode&&(b(a.target).is(u.params.nextButton)?(u.onClickNext(a),u.isEnd?u.a11y.notify(u.params.lastSlideMessage):u.a11y.notify(u.params.nextSlideMessage)):b(a.target).is(u.params.prevButton)&&(u.onClickPrev(a),u.isBeginning?u.a11y.notify(u.params.firstSlideMessage):u.a11y.notify(u.params.prevSlideMessage)),b(a.target).is("."+u.params.bulletClass)&&b(a.target)[0].click())},liveRegion:b('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(a){var b=u.a11y.liveRegion;0!==b.length&&(b.html(""),b.html(a))},init:function(){u.params.nextButton&&u.nextButton&&u.nextButton.length>0&&(u.a11y.makeFocusable(u.nextButton),u.a11y.addRole(u.nextButton,"button"),u.a11y.addLabel(u.nextButton,u.params.nextSlideMessage)),u.params.prevButton&&u.prevButton&&u.prevButton.length>0&&(u.a11y.makeFocusable(u.prevButton),u.a11y.addRole(u.prevButton,"button"),u.a11y.addLabel(u.prevButton,u.params.prevSlideMessage)),b(u.container).append(u.a11y.liveRegion)},initPagination:function(){u.params.pagination&&u.params.paginationClickable&&u.bullets&&u.bullets.length&&u.bullets.each(function(){var a=b(this);u.a11y.makeFocusable(a),u.a11y.addRole(a,"button"),u.a11y.addLabel(a,u.params.paginationBulletMessage.replace(/{{index}}/,a.index()+1))})},destroy:function(){u.a11y.liveRegion&&u.a11y.liveRegion.length>0&&u.a11y.liveRegion.remove()}},u.init=function(){u.params.loop&&u.createLoop(),u.updateContainerSize(),u.updateSlidesSize(),u.updatePagination(),u.params.scrollbar&&u.scrollbar&&(u.scrollbar.set(),u.params.scrollbarDraggable&&u.scrollbar.enableDraggable()),"slide"!==u.params.effect&&u.effects[u.params.effect]&&(u.params.loop||u.updateProgress(),u.effects[u.params.effect].setTranslate()),u.params.loop?u.slideTo(u.params.initialSlide+u.loopedSlides,0,u.params.runCallbacksOnInit):(u.slideTo(u.params.initialSlide,0,u.params.runCallbacksOnInit),0===u.params.initialSlide&&(u.parallax&&u.params.parallax&&u.parallax.setTranslate(),u.lazy&&u.params.lazyLoading&&(u.lazy.load(),u.lazy.initialImageLoaded=!0))),u.attachEvents(),u.params.observer&&u.support.observer&&u.initObservers(),u.params.preloadImages&&!u.params.lazyLoading&&u.preloadImages(),u.params.autoplay&&u.startAutoplay(),u.params.keyboardControl&&u.enableKeyboardControl&&u.enableKeyboardControl(),u.params.mousewheelControl&&u.enableMousewheelControl&&u.enableMousewheelControl(),u.params.hashnav&&u.hashnav&&u.hashnav.init(),u.params.a11y&&u.a11y&&u.a11y.init(),u.emit("onInit",u)},u.cleanupStyles=function(){u.container.removeClass(u.classNames.join(" ")).removeAttr("style"),u.wrapper.removeAttr("style"),u.slides&&u.slides.length&&u.slides.removeClass([u.params.slideVisibleClass,u.params.slideActiveClass,u.params.slideNextClass,u.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),u.paginationContainer&&u.paginationContainer.length&&u.paginationContainer.removeClass(u.params.paginationHiddenClass),u.bullets&&u.bullets.length&&u.bullets.removeClass(u.params.bulletActiveClass),u.params.prevButton&&b(u.params.prevButton).removeClass(u.params.buttonDisabledClass),u.params.nextButton&&b(u.params.nextButton).removeClass(u.params.buttonDisabledClass),u.params.scrollbar&&u.scrollbar&&(u.scrollbar.track&&u.scrollbar.track.length&&u.scrollbar.track.removeAttr("style"),u.scrollbar.drag&&u.scrollbar.drag.length&&u.scrollbar.drag.removeAttr("style"))},u.destroy=function(a,b){u.detachEvents(),u.stopAutoplay(),u.params.scrollbar&&u.scrollbar&&u.params.scrollbarDraggable&&u.scrollbar.disableDraggable(),u.params.loop&&u.destroyLoop(),b&&u.cleanupStyles(),u.disconnectObservers(),u.params.keyboardControl&&u.disableKeyboardControl&&u.disableKeyboardControl(),u.params.mousewheelControl&&u.disableMousewheelControl&&u.disableMousewheelControl(),u.params.a11y&&u.a11y&&u.a11y.destroy(),u.emit("onDestroy"),a!==!1&&(u=null)},u.init(),u}};c.prototype={isSafari:function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(a){return"[object Array]"===Object.prototype.toString.apply(a)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var a=navigator.userAgent,b=a.match(/(Android);?[\s\/]+([\d.]+)?/),c=a.match(/(iPad).*OS\s([\d_]+)/),d=a.match(/(iPod)(.*OS\s([\d_]+))?/),e=!c&&a.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:c||e||d,android:b}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var a=document.createElement("div").style;return"webkitPerspective"in a||"MozPerspective"in a||"OPerspective"in a||"MsPerspective"in a||"perspective"in a}(),flexbox:function(){for(var a=document.createElement("div").style,b="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),c=0;c<b.length;c++)if(b[c]in a)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var d=(function(){var a=function(a){var b=this,c=0;for(c=0;c<a.length;c++)b[c]=a[c];return b.length=a.length,this},b=function(b,c){var d=[],e=0;if(b&&!c&&b instanceof a)return b;if(b)if("string"==typeof b){var f,g,h=b.trim();if(h.indexOf("<")>=0&&h.indexOf(">")>=0){var i="div";for(0===h.indexOf("<li")&&(i="ul"),0===h.indexOf("<tr")&&(i="tbody"),(0===h.indexOf("<td")||0===h.indexOf("<th"))&&(i="tr"),0===h.indexOf("<tbody")&&(i="table"),0===h.indexOf("<option")&&(i="select"),g=document.createElement(i),g.innerHTML=b,e=0;e<g.childNodes.length;e++)d.push(g.childNodes[e])}else for(f=c||"#"!==b[0]||b.match(/[ .<>:~]/)?(c||document).querySelectorAll(b):[document.getElementById(b.split("#")[1])],e=0;e<f.length;e++)f[e]&&d.push(f[e])}else if(b.nodeType||b===window||b===document)d.push(b);else if(b.length>0&&b[0].nodeType)for(e=0;e<b.length;e++)d.push(b[e]);return new a(d)};return a.prototype={addClass:function(a){if("undefined"==typeof a)return this;for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.add(b[c]);return this},removeClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.remove(b[c]);return this},hasClass:function(a){return!!this[0]&&this[0].classList.contains(a)},toggleClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.toggle(b[c]);return this},attr:function(a,b){if(1===arguments.length&&"string"==typeof a)return this[0]?this[0].getAttribute(a):void 0;for(var c=0;c<this.length;c++)if(2===arguments.length)this[c].setAttribute(a,b);else for(var d in a)this[c][d]=a[d],this[c].setAttribute(d,a[d]);return this},removeAttr:function(a){for(var b=0;b<this.length;b++)this[b].removeAttribute(a);return this},data:function(a,b){if("undefined"!=typeof b){for(var c=0;c<this.length;c++){var d=this[c];d.dom7ElementDataStorage||(d.dom7ElementDataStorage={}),d.dom7ElementDataStorage[a]=b}return this}if(this[0]){var e=this[0].getAttribute("data-"+a);return e?e:this[0].dom7ElementDataStorage&&a in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[a]:void 0}},transform:function(a){for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=a}return this},transition:function(a){"string"!=typeof a&&(a+="ms");for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=a}return this},on:function(a,c,d,e){function f(a){var e=a.target;if(b(e).is(c))d.call(e,a);else for(var f=b(e).parents(),g=0;g<f.length;g++)b(f[g]).is(c)&&d.call(f[g],a)}var g,h,i=a.split(" ");for(g=0;g<this.length;g++)if("function"==typeof c||c===!1)for("function"==typeof c&&(d=arguments[1],e=arguments[2]||!1),h=0;h<i.length;h++)this[g].addEventListener(i[h],d,e);else for(h=0;h<i.length;h++)this[g].dom7LiveListeners||(this[g].dom7LiveListeners=[]),this[g].dom7LiveListeners.push({listener:d,liveListener:f}),this[g].addEventListener(i[h],f,e);return this},off:function(a,b,c,d){for(var e=a.split(" "),f=0;f<e.length;f++)for(var g=0;g<this.length;g++)if("function"==typeof b||b===!1)"function"==typeof b&&(c=arguments[1],d=arguments[2]||!1),this[g].removeEventListener(e[f],c,d);else if(this[g].dom7LiveListeners)for(var h=0;h<this[g].dom7LiveListeners.length;h++)this[g].dom7LiveListeners[h].listener===c&&this[g].removeEventListener(e[f],this[g].dom7LiveListeners[h].liveListener,d);return this},once:function(a,b,c,d){function e(g){c(g),f.off(a,b,e,d)}var f=this;"function"==typeof b&&(b=!1,c=arguments[1],d=arguments[2]),f.on(a,b,e,d)},trigger:function(a,b){for(var c=0;c<this.length;c++){var d;try{d=new window.CustomEvent(a,{detail:b,bubbles:!0,cancelable:!0})}catch(c){d=document.createEvent("Event"),d.initEvent(a,!0,!0),d.detail=b}this[c].dispatchEvent(d)}return this},transitionEnd:function(a){function b(f){if(f.target===this)for(a.call(this,f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(a){return this.length>0?a?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(a){return this.length>0?a?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var a=this[0],b=a.getBoundingClientRect(),c=document.body,d=a.clientTop||c.clientTop||0,e=a.clientLeft||c.clientLeft||0,f=window.pageYOffset||a.scrollTop,g=window.pageXOffset||a.scrollLeft;return{top:b.top+f-d,left:b.left+g-e}}return null},css:function(a,b){var c;if(1===arguments.length){if("string"!=typeof a){for(c=0;c<this.length;c++)for(var d in a)this[c].style[d]=a[d];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(a)}if(2===arguments.length&&"string"==typeof a){for(c=0;c<this.length;c++)this[c].style[a]=b;return this}return this},each:function(a){for(var b=0;b<this.length;b++)a.call(this[b],b,this[b]);return this},html:function(a){if("undefined"==typeof a)return this[0]?this[0].innerHTML:void 0;for(var b=0;b<this.length;b++)this[b].innerHTML=a;return this},text:function(a){if("undefined"==typeof a)return this[0]?this[0].textContent.trim():null;for(var b=0;b<this.length;b++)this[b].textContent=a;return this},is:function(c){if(!this[0])return!1;var d,e;if("string"==typeof c){var f=this[0];if(f===document)return c===document;if(f===window)return c===window;if(f.matches)return f.matches(c);if(f.webkitMatchesSelector)return f.webkitMatchesSelector(c);if(f.mozMatchesSelector)return f.mozMatchesSelector(c);if(f.msMatchesSelector)return f.msMatchesSelector(c);for(d=b(c),e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}if(c===document)return this[0]===document;if(c===window)return this[0]===window;if(c.nodeType||c instanceof a){for(d=c.nodeType?[c]:c,e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var a=this[0],b=0;null!==(a=a.previousSibling);)1===a.nodeType&&b++;return b}},eq:function(b){if("undefined"==typeof b)return this;var c,d=this.length;return b>d-1?new a([]):0>b?(c=d+b,new a(0>c?[]:[this[c]])):new a([this[b]])},append:function(b){var c,d;for(c=0;c<this.length;c++)if("string"==typeof b){var e=document.createElement("div");for(e.innerHTML=b;e.firstChild;)this[c].appendChild(e.firstChild)}else if(b instanceof a)for(d=0;d<b.length;d++)this[c].appendChild(b[d]);else this[c].appendChild(b);return this},prepend:function(b){var c,d;for(c=0;c<this.length;c++)if("string"==typeof b){var e=document.createElement("div");for(e.innerHTML=b,d=e.childNodes.length-1;d>=0;d--)this[c].insertBefore(e.childNodes[d],this[c].childNodes[0])}else if(b instanceof a)for(d=0;d<b.length;d++)this[c].insertBefore(b[d],this[c].childNodes[0]);else this[c].insertBefore(b,this[c].childNodes[0]);return this},insertBefore:function(a){for(var c=b(a),d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0]);else if(c.length>1)for(var e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e])},insertAfter:function(a){for(var c=b(a),d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0].nextSibling);else if(c.length>1)for(var e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e].nextSibling)},next:function(c){return new a(this.length>0?c?this[0].nextElementSibling&&b(this[0].nextElementSibling).is(c)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(c){var d=[],e=this[0];if(!e)return new a([]);for(;e.nextElementSibling;){var f=e.nextElementSibling;c?b(f).is(c)&&d.push(f):d.push(f),e=f}return new a(d)},prev:function(c){return new a(this.length>0?c?this[0].previousElementSibling&&b(this[0].previousElementSibling).is(c)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(c){var d=[],e=this[0];if(!e)return new a([]);for(;e.previousElementSibling;){var f=e.previousElementSibling;c?b(f).is(c)&&d.push(f):d.push(f),e=f}return new a(d)},parent:function(a){for(var c=[],d=0;d<this.length;d++)a?b(this[d].parentNode).is(a)&&c.push(this[d].parentNode):c.push(this[d].parentNode);return b(b.unique(c))},parents:function(a){for(var c=[],d=0;d<this.length;d++)for(var e=this[d].parentNode;e;)a?b(e).is(a)&&c.push(e):c.push(e),e=e.parentNode;return b(b.unique(c))},find:function(b){for(var c=[],d=0;d<this.length;d++)for(var e=this[d].querySelectorAll(b),f=0;f<e.length;f++)c.push(e[f]);return new a(c)},children:function(c){for(var d=[],e=0;e<this.length;e++)for(var f=this[e].childNodes,g=0;g<f.length;g++)c?1===f[g].nodeType&&b(f[g]).is(c)&&d.push(f[g]):1===f[g].nodeType&&d.push(f[g]);return new a(b.unique(d))},remove:function(){for(var a=0;a<this.length;a++)this[a].parentNode&&this[a].parentNode.removeChild(this[a]);return this},add:function(){var a,c,d=this;for(a=0;a<arguments.length;a++){var e=b(arguments[a]);for(c=0;c<e.length;c++)d[d.length]=e[c],d.length++}return d}},b.fn=a.prototype,b.unique=function(a){for(var b=[],c=0;c<a.length;c++)-1===b.indexOf(a[c])&&b.push(a[c]);return b},b}()),e=["jQuery","Zepto","Dom7"],f=0;f<e.length;f++)window[e[f]]&&a(window[e[f]]);var g;g="undefined"==typeof d?window.Dom7||window.Zepto||window.jQuery:d,g&&("transitionEnd"in g.fn||(g.fn.transitionEnd=function(a){function b(f){if(f.target===this)for(a.call(this,f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this}),"transform"in g.fn||(g.fn.transform=function(a){for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=a}return this}),"transition"in g.fn||(g.fn.transition=function(a){"string"!=typeof a&&(a+="ms");for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=a}return this})),window.Swiper=c}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define("swiper.min",[],function(){"use strict";return window.Swiper}),define("text!template_module_videoV2",[],function(){return'<section class="section video_v2 {{#ulife.module.top header.top}}{{/ulife.module.top}}">\n    {{#if header.title}}\n    <h2 class="section_title clear_fix">\n        {{#if header.iconUrl}}\n        <img src="{{header.iconUrl}}">\n        {{/if}}\n        <strong>{{header.title}} <span style="margin-left:5px;">{{header.subTitle}}</span></strong>\n\n        <span class="more_link f_right to_video_homepage"></span>\n\n\n    </h2>\n    {{/if}}\n\n    <div class="swiper-container">\n        <div class="swiper-wrapper">\n            {{#each videoList}}\n            <div class="swiper-slide">\n                <div class="image">\n                    <img src="{{ulife.img.views video.preview false 162}}">\n                    <a href="" class="to_video_detail" data-id="{{video.id}}" data-video="{{video.videoUrl}}"></a>\n                </div>\n                <div class="video_info">\n                    <h4>{{video.title}}</h4>\n                    <span class="tag">{{#ulife-tag video.typeId}}{{/ulife-tag}}</span>\n                    <div class="times">\n                        <span class="watch_times">{{video.timesWatched}}</span>\n                        <span class="comments">{{video.timesComment}}</span>\n                    </div>\n                </div>\n                \n            </div>\n            {{/each}}\n        </div>\n        <!-- Add Pagination -->\n        <div class="swiper-pagination"></div>\n    </div>\n\n</section>\n'}),define("ulife.b2c.h5.module.videoV2",["zepto","store","moment","underscore","ulife.b2c.h5.util.fn","ulife.framework.multiple.comm","ulife.b2c.h5.util.hybrid","ulife.business.config","swiper.min","ulife.api.vod.info","text!template_module_videoV2"],function(a,b,c,d,e,f,g,h,i,j,k){return can.Control.extend({helpers:{"ulife-tag":function(a){switch(a){case 2:return"全民食谱";case 3:return"做道菜";case 4:return"寻食记";case 5:return"食验室";default:return"未知"}},"ulife-isApp":function(a){return e.isMobile.APP()?a.fn(a.contexts||this):a.inverse(a.contexts||this)}},init:function(a,b){var c=this,e=b.data.attributes,g=b.data.data,h=[],l=[];d.each(g,function(a,b){h.push(new j),l.push({id:a.id,channel:"0"})});var m;m=h.length>1?new f(h,l):new j({id:l[0].id,channel:"0"}),can.when(m.sendRequest()).done(function(a){var b={},f=a;d.isArray(f)||(f=new Array(f)),b.videoList=a,b.header=e;var g=can.mustache(k),h=g(b,c.helpers);c.element.append(h);new i(".swiper-container",{pagination:".swiper-pagination",slidesPerView:"auto",centeredSlides:!0,paginationClickable:!0,spaceBetween:5,loop:!0})})},".to_video_detail click":function(a,b){b.preventDefault();var c=a.attr("data-id"),d=a.attr("data-video");e.isMobile.APP()?g.gotoVideoDetail(c,d):window.location=h.setting.link.videoDetail+"?id="+c},".to_video_homepage click":function(){e.isMobile.APP()&&g.appRootPage(2)}})}),define("ulife.api.ticket.valid",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"ticket.valid",SECURITY_TYPE:b.UserLogin.name,REQUIRED:["serialNo","pwd"],PARAMETERS:{serialNo:"string",pwd:"string"},VERIFY:{},ERROR_CODE:{38100:"券号或密码错误，请重新输入，或联系客服",38110:"您输入券号已兑换，请确认后输入",38120:"您的券号未激活，请确认后输入，或联系客服"}}})}),define("text!template_module_exchangeCardH5",[],function(){return'<section class="section exchangeCardH5 {{#ulife.module.top data.attributes.top}}{{/ulife.module.top}}">\n    <div class="clear_fix">\n        {{#data.data}}\n            {{#ALLSome}}\n                <div class="f_left img">\n                    <img src="{{image}}" alt="{{name}}">\n                </div>\n            {{/ALLSome}}\n    {{/data.data}}\n    <div class="f_right main">\n        {{#isLogin}}\n        <input class="items num" type="text" placeholder="卡号">\n        <input class="items pwd" type="text" placeholder="密码">\n        <span class="btn">提交</span>\n        {{/isLogin}}\n        {{^isLogin}}\n       <p class="info" >为了确保卡券兑换的交易安全，请先登录网站！</p>\n        <span class="login_btn">登录后方可兑换</span>\n        {{/isLogin}}\n    </div>\n    </div>\n</section>'}),define("ulife.b2c.h5.module.exchangeCardH5",["zepto","can","store","swipeSlide","moment","underscore","ulife.business.config","ulife.framework.comm","ulife.b2c.h5.widget.toast","ulife.api.ticket.valid","text!template_module_exchangeCardH5"],function(a,b,c,d,e,f,g,h,i,j,k){var l=new i;return b.Control.extend({helpers:{"ulife-img_src":function(a){return f.isFunction(a)&&(a=a()),b.Mustache.getHelper("ulife.img.views").fn(a?a.split(",")[0]:"",!1,288)},"ulife-test":function(a){return f.isFunction(a)&&(a=a()),a.length<=20?a:a.substr(0,20)+"..."}},model:new b.Map({data:{},isLogin:!0}),init:function(a,b){var c=this,d=b.data;f.isArray(d.data)&&0!=d.data.length&&0!=d.data.length&&(c.model.attr("data",d),h.prototype.checkUserLogin()||c.model.attr("isLogin",!1),this.render())},render:function(){var a=b.mustache(k),c=a(this.model,this.helpers);this.element.html(c)},".exchangeCardH5 .btn click":function(){var c=a(".exchangeCardH5 .num").val(),d=a(".exchangeCardH5 .pwd").val();if(!c)return void l.show("请输入卡号");if(!d)return void l.show("请输入卡密");var e=new j({serialNo:c,pwd:d});b.when(e.sendRequest()).done(function(a){a.startDate&&a.nowDate<a.startDate?l.show("未到兑换时间，请在活动时间内兑换"):a.expireDate&&a.nowDate>a.expireDate?l.show("该券已过期，部分商品可能调换，如有问题请与客服联系",3e3,function(){window.location.href=window.location.href+"?serialNo="+c+"&pwd="+d}):window.location.href=window.location.href+"?serialNo="+c+"&pwd="+d}).fail(function(a,b){console.log(b),l.show(b)})},".exchangeCardH5 .login_btn click":function(){if(!h.prototype.checkUserLogin())return window.location.href=g.setting.link.login+"?ufrom="+escape(window.location.pathname+window.location.search),!1}})}),define("ulife.api.ticket.gift.get",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"ticket.gift.get",SECURITY_TYPE:b.None.name,REQUIRED:["ticketIds"],PARAMETERS:{ticketIds:"string"},VERIFY:{},ERROR_CODE:{34026:"终端不正确"}}})}),define("text!template_module_exchangeSomeGift",[],function(){return'<section class="section exchangeSomeGift {{#ulife.module.top attributes.top}}{{/ulife.module.top}}">\n    <h2 class="section_title clear_fix">\n        <img src="{{attributes.iconUrl}}"/>\n        <strong>{{attributes.title}}</strong>\n        {{#if attributes.moreUrl}}\n            <a hybrid-href="{{attributes.moreUrl}}" class="more_link f_right" href="javascript:void(0)"></a>\n        {{/if}}\n    </h2>\n    {{#attributes.image}}\n    <div class="floor">\n      <a {{#attributes.url}}hybrid-href="{{attributes.url}}"{{/attributes.url}} href="javascript:void(0)">\n        {{#isHomePage}}\n          <img src="http://s1.ucaiyuan.com/h5/1.6.4/images/common/grey.gif" data-original="{{attributes.image}}"\n               class="auto_pos lazy">\n        {{/isHomePage}}\n        {{^isHomePage}}\n          <img src="{{attributes.image}}">\n        {{/isHomePage}}\n      </a>\n    </div>\n  {{/attributes.image}}\n    <ul>\n        {{#each data.value}}\n        <li class="clear_fix">\n            <a class=\'gift_img\' href="javascript:void(0)" goto-giftDetail="{{id}}">\n                <img src="{{mainPicUrl}}" alt="" />\n            </a>\n            <div class="wrapper">\n                <h3 class="p_title">{{mainTitle}}</h3>\n                <div class="subTitle">\n                    <p>{{subTitle}}</p>\n                </div>\n            </a>\n            </div>\n        </li>\n        {{/each}}\n    </ul>\n</section>\n'}),define("ulife.b2c.h5.module.exchangeSomeGift",["zepto","store","can","lazyload","underscore","ulife.framework.multiple.comm","ulife.api.ticket.gift.get","ulife.b2c.h5.util.fn","ulife.b2c.h5.util.hybrid","text!template_module_exchangeSomeGift"],function(a,b,c,d,e,f,g,h,i,j){return c.Control.extend({helpers:{"ulife-img_src":function(a){return e.isFunction(a)&&(a=a()),c.Mustache.getHelper("ulife.img.views").fn(a?a.split(",")[0]:"",!1,320)}},model:new c.Map({data:{}}),init:function(a,b){var c=b.data;c.isHomePage=b.isHomePage,e.isArray(c.data)&&0!=c.data.length&&0!=c.data.length&&this.addGift(c)},render:function(a){var b=c.mustache(j),d=b(a,this.helpers);
this.element.html(d)},addGift:function(b){var d=this,f=[];e.each(b.data,function(a){f.push(a.itemId)});var h=new g({ticketIds:f.join(",")});c.when(h.sendRequest()).done(function(a){a.value.length>=parseInt(b.attributes.capacity)?(a.value=a.value.slice(0,parseInt(b.attributes.capacity)),b.data=a):b.data=a,d.render(b)}).fail(function(a,b){console.log(b)}).then(function(){a(".floor .lazy").lazyload({threshold:300,effect_speed:0,effect:"show"})})}})}),define("text!template_module_exchangeSingleGift",[],function(){return'<section class="section floor_v2 {{#ulife.module.top attributes.top}}{{/ulife.module.top}}">\n  {{#attributes.title}}\n    <h2 class="section_title clear_fix">\n      <img src="{{attributes.iconUrl}}"/>\n      <strong>{{attributes.title}}</strong>\n      <!-- {{#if attributes.moreUrl}}\n        <a hybrid-href="{{attributes.moreUrl}}" class="more_link f_right" href="javascript:void(0)"></a>\n      {{/if}} -->\n    </h2>\n  {{/attributes.title}}\n  {{#attributes.image}}\n    <div class="floor_img">\n      <a {{#attributes.url}}hybrid-href="{{attributes.url}}"{{/attributes.url}} href="javascript:void(0)">\n          <img src="{{attributes.image}}">\n      </a>\n      <span class="triangle">\n          <img src="http://s1.ucaiyuan.com/h5/1.6.4/images/my/sanjiao.png" alt="" />\n      </span>\n    </div>\n  {{/attributes.image}}\n    <ul class="clear_fix product_list">\n      {{#each data}}\n          <li data-id="{{id}}" class="product">\n            <a href="javascript:void(0)" hybrid-goto-product="{{id}}" class="">\n              <img src="{{mediaInfos}}">\n            </a>\n\n            <h3 class="p_title">{{title}}</h3>     \n            </a>\n          </li>\n      {{/each}}\n      {{#if attributes.more}}\n          <li class="more_test" hybrid-href="{{attributes.more}}">\n              <p>\n                  查<br/>看<br/>全<br/>部\n              </p>\n              <span class="more_bg"></span>\n          </li>\n      {{/if}}\n    </ul>\n</section>\n'}),define("ulife.b2c.h5.module.exchangeSingleGift",["zepto","store","can","lazyload","underscore","ulife.framework.multiple.comm","ulife.api.search.searchItem","ulife.api.ticket.gift.get","ulife.b2c.h5.util.fn","ulife.b2c.h5.util.hybrid","text!template_module_exchangeSingleGift"],function(a,b,c,d,e,f,g,h,i,j,k){return c.Control.extend({helpers:{"ulife-img_src":function(a){return e.isFunction(a)&&(a=a()),c.Mustache.getHelper("ulife.img.views").fn(a?a.split(",")[0]:"",!1,320)}},model:new c.Map({data:{}}),init:function(a,b){var c=b.data;e.isArray(c.data)&&0!=c.data.length&&0!=c.data.length&&this.addSingleGift(c)},render:function(a){var b=c.mustache(k),d=b(a,this.helpers);this.element.html(d)},addSingleGift:function(a){var b=this,d=a.data[0].id,f=[],g=[],i={},j=[],k=new h({ticketIds:d});e.each(a.data,function(a){f.push(a.itemId)}),c.when(k.sendRequest()).done(function(c){1==c.value[0].type?e.each(c.value[0].groupInfos,function(a){e.each(a.products,function(a){i.title=a.title,i.mediaInfos=a.mediaInfos[0],i.itemId=a.id,i.id=d,g.push(i)})}):e.each(c.value[0].products,function(a){i={title:a.title,mediaInfos:a.mediaInfos[0],itemId:a.id,id:d},g.push(i)}),e.each(f,function(a){e.each(g,function(b){a==b.itemId&&j.push(b)})}),j.length>=parseInt(a.attributes.capacity)?a.data=j.slice(0,1):a.data=j,b.render(a)}).fail(function(a,b){console.log(b)})}})}),define("text!template_module_exchangeMoreImgH5",[],function(){return'<section class="section img_one_h5 {{#ulife.module.top attributes.top}}{{/ulife.module.top}}">\n    <ul class="main">\n        {{#attributes.title}}\n            <h2 class="clear_fix section_title">\n                {{#attributes.iconUrl}}<img src="{{attributes.iconUrl}}"/>{{/attributes.iconUrl}}\n                <strong>{{attributes.title}}</strong>\n                {{#if attributes.moreUrl}}\n                    <a hybrid-href="{{attributes.moreUrl}}" class="more_link f_right" href="javascript:void(0)"></a>\n                {{/if}}\n            </h2>\n        {{/attributes.title}}\n        {{#each data}}\n            <li class="slider_item flex">\n\t            {{#each arrImg}}\n                    {{#if image}}\n\t                <a class="flex_item" {{#url}}hybrid-href="{{url}}"{{/url}} href="javascript:void(0)">\n\t                    <img src="{{image}}">\n\t                </a>\n                    {{/if}}\n\t            {{/each}}\n            </li>\n        {{/each}}\n    </ul>\n</section>\n'}),define("ulife.b2c.h5.module.exchangeMoreImgH5",["zepto","store","swipeSlide","moment","underscore","text!template_module_exchangeMoreImgH5"],function(a,b,c,d,e,f){return can.Control.extend({helpers:{},init:function(a,b){var c=b.data;if(e.isArray(c.data)&&0!=c.data.length&&0!=c.data.length){var d=can.mustache(f),g=d(c,this.helpers);this.element.append(g)}}})}),define("ulife.b2c.h5.component.cms",["zepto","can","zepto.cookie","underscore","store","lazyload","ulife.business.config","ulife.b2c.h5.util.fn","ulife.b2c.h5.util.hybrid","ulife.b2c.h5.util.helpers","ulife.framework.comm","ulife.framework.multiple.comm","ulife.b2c.h5.widget.loading","ulife.b2c.h5.widget.toast","ulife.b2c.h5.widget.header","ulife.b2c.h5.widget.share","ulife.b2c.h5.widget.goTop","ulife.b2c.h5.widget.pop","ulife.b2c.h5.widget.account","ulife.api.page.get","ulife.api.product.get","ulife.api.cms.page.preview","ulife.api.cart.add","ulife.api.promotion.exchange","ulife.api.cart.simpleinfo","ulife.b2c.h5.module.slider_wrap","ulife.b2c.h5.module.nav_wrap","ulife.b2c.h5.module.customer_new","ulife.b2c.h5.module.new_product","ulife.b2c.h5.module.floor_wrap","ulife.b2c.h5.module.floor_horizontal","ulife.b2c.h5.module.single_product","ulife.b2c.h5.module.customer_html","ulife.b2c.h5.module.limit","ulife.b2c.h5.module.imgOneH5","ulife.b2c.h5.module.video","ulife.b2c.h5.module.exCoupon","ulife.b2c.h5.module.hot_product","ulife.b2c.h5.module.videoV2","ulife.b2c.h5.module.exchangeCardH5","ulife.b2c.h5.module.exchangeSomeGift","ulife.b2c.h5.module.exchangeSingleGift","ulife.b2c.h5.module.exchangeMoreImgH5"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q){return b.Control.extend({helpers:{},model:new b.Map({nowTime:moment().format("x"),isHomePage:!1,pageInfo:null}),loading:new m,toast:new n,pop:new r,account:new s,initShowModuleNum:1e3,init:function(c,d){var e=this,f="undefined"!=typeof HOMEPAGE;this.model.attr("isHomePage",f),f&&(this.initShowModuleNum=1e3),i.appSetRefreshHeader(),b.ajaxSettings.timeout=4e4,this.loading.show();var g=d.id,h=(d.type,d.action),j={type:2,id:g};b.when("preview"==h?this.pagePreview(j):this.pageGet(j)).then(function(){a(".lazy").lazyload({threshold:300,effect_speed:0,effect:"fadeIn"})}).then(function(){e.showFooterInfo()}).done(function(){new q})},pagePreview:function(b){var c=this,e=new v(b);return e.sendRequest().done(d.bind(function(b){var d=this.getServerTime();a("body").prepend("<div class='hide' id='ulife-servertime'>"+d+"</div>"),c.model.attr("nowTime",d),c.render(b)},e)).fail(function(a,b){console.log("code:"+a+"   message:"+b),c.toast.show("网络故障",6e4)})},pageGet:function(b){var c=this,e=new t(b);return e.sendRequest().done(d.bind(function(b){if("undefined"!=typeof b.value&&0==b.value)return c.loading.hide(),c.toast.show("活动已结束，稍后转往首页...",3e3,function(){h.isMobile.APP()?window.location.href=g.setting.hostLink.home:window.location.href=g.setting.hostLink.home}),!1;var d=this.getServerTime();a("body").prepend("<div class='hide' id='ulife-servertime'>"+d+"</div>"),c.model.attr("nowTime",d),c.render(b)},e)).fail(function(a,b){console.log("code:"+a+"   message:"+b),c.toast.show("网络故障",6e4)})},initEvents:function(){this.initHybridHref()},initHybridHref:function(){var b=a(targetElement).attr("hybrid-href");h.isMobile.APP()?i.appOpenUrl(b):window.location.href=b},cmsModuleContain:[],render:function(b){var c=this;if(c.model.attr("pageInfo",b),b.elements?b.elements=JSON.parse(b.elements):b.elements={header:!0,cart:!0},b.elements.backgroundColor&&(a("body").css("backgroundColor",b.elements.backgroundColor),a(this.element).css("backgroundColor",b.elements.backgroundColor)),"channel"==this.options.type){var e={url:b.shareUrl?b.shareUrl:window.location.href,image:b.shareImage,content:b.shareContent,title:b.shareTitle,reloadUrl:"",ticketCode:""},f=new p;h.isMobile.APP()?(i.appSetTitle(b.title),e.url&&e.title&&e.content&&e.image?(b.elements.shareCouponUrl&&(e.reloadUrl=b.elements.shareCouponUrl),b.elements.cart?f.shareAndCart(e):f.share(e)):b.elements.cart&&i.appSetHeaderCart()):((b.elements.shareCouponUrl||b.elements.shareCoupon)&&(e.success=d.bind(function(a,b){this.getShareWxCoupon(a,b)},c,b.elements.shareCoupon,b.elements.shareCouponUrl)),b.elements.header&&new o("#ulife-header",{title:b.title}),f.share(e),b.elements.cart&&this.createHeaderCart())}if(b&&b.items){this.loading.hide();var g=0;b.items.length;d.each(b.items,function(e,f,h){var i=c.createModuleMap[e.type];if(i&&d.isFunction(i)){var j=d.find(b.definitions,function(a,b,c){return a.type==e.type}),k="ulife-cms-"+f,l=a("<div>").addClass(k);c.element.append(l),"html"==e.type||g<c.initShowModuleNum?(g++,g>c.initShowModuleNum&&(l.hide(),c.cmsModuleContain.push({type:e.type,dom:l,data:{attributes:JSON.parse(e.attributes||"{}"),data:JSON.parse(e.data||"[]")},tmpl:j.definition})),i(l,{attributes:JSON.parse(e.attributes||"{}"),data:JSON.parse(e.data||"[]")},j.definition,c.model.attr("nowTime"),c.model.attr("isHomePage"))):c.cmsModuleContain.push({type:e.type,dom:l,data:{attributes:JSON.parse(e.attributes||"{}"),data:JSON.parse(e.data||"[]")},tmpl:j.definition})}}),this.cmsModuleContain.length>0&&this.initLoadCmsModuleEvent()}},initLoadCmsModuleEvent:function(){var b=this,c=(this.options.data,function(){if(0!=b.cmsModuleContain.length){var c=a(window).scrollTop(),d=a(window).height(),e=a(".main_index").height();d+c+1200>=e&&b.loadingCmsModule()}});a(window).scroll(d.throttle(c,100))},loadingCmsModule:function(){var b=this.cmsModuleContain[0];"html"==b.type?a(b.dom).show():this.createModuleMap[b.type](a(b.dom),b.data,b.tmp,this.model.attr("nowTime"),this.model.attr("isHomePage")),this.cmsModuleContain.shift()},createModuleMap:{bannersH5:function(a,b,c,d){new z(a,{data:b,tmpl:c,nowTime:d})},funcsH5:function(a,b,c,d){new A(a,{data:b,tmpl:c,nowTime:d})},newbie:function(a,b,c,d){new B(a,{data:b,tmpl:c,nowTime:d})},seasonals:function(a,b,c,d){new C(a,{data:b,tmpl:c,nowTime:d})},limitH5:function(a,b,c,d){new H(a,{data:b,tmpl:c,nowTime:d})},floorsH5:function(a,b,c,d,e){new D(a,{data:b,tmpl:c,nowTime:d,isHomePage:e})},floorsH5V2:function(a,b,c,d,e){new E(a,{data:b,tmpl:c,nowTime:d,isHomePage:e})},singleProductH5:function(a,b,c,d,e){new F(a,{data:b,tmpl:c,nowTime:d,isHomePage:e})},html:function(a,b){new G(a,{data:b})},imgOneH5:function(a,b,c,d){new I(a,{data:b,tmpl:c,nowTime:d})},videoH5:function(a,b,c,d){new J(a,{data:b,tmpl:c,nowTime:d})},exchangeCardH5:function(a,b,c,d){new N(a,{data:b,tmpl:c,nowTime:d})},productAreaH5:function(a,b,c,d){new L(a,{data:b,tmpl:c,nowTime:d})},videoH5V2:function(a,b,c,d){new M(a,{data:b,tmpl:c,nowTime:d})},exchangeSomeGift:function(a,b,c,d,e){new O(a,{data:b,tmpl:c,nowTime:d,isHomePage:e})},exchangeSingleGift:function(a,b,c,d,e){new P(a,{data:b,tmpl:c,nowTime:d,isHomePage:e})},exchangeMoreImgH5:function(a,b,c,d,e){new Q(a,{data:b,tmpl:c,nowTime:d,isHomePage:e})}},"[hybrid-add-cart] click":function(c,d){var e=a(c).attr("hybrid-add-cart"),f=this;if(!h.isMobile.APP()){f.loading.show(!1);var g=new w({items:JSON.stringify([{itemId:e,num:1}])});return b.when(g.sendRequest()).done(function(a){"no"==a.canOrder?f.toast.show(a.message):f.toast.show("已加入购物车")}).then(function(){i.appRefreshCartNum(),f.getCartCount();var b=a("#cartTotalItemNum");if(b.length>0){var c=parseInt(a.trim(b.text()));c++,b.text(c)}}).fail(function(a,b){console.log(a,b),f.toast.show("添加购物车失败")}).always(function(){f.loading.hide()})}i.addToCart(e,1)},getCartCount:function(){var c=new y;b.when(c.sendRequest()).done(function(b){var c=b.totalItemNum,d=a("#globalFooterCartNum");d.length>0&&d.text(c)}).fail(function(a,b){console.log(a,b)})},"[hybrid-buy-now] click":function(b,c){var e=a(b).attr("hybrid-buy-now");if(h.isMobile.APP()){var f=i.getToken();return d.isEmpty(f)?i.login("order@order/order.html?itemId="+e+"&num=1"):(k.prototype.setLoginToken(f),i.appOpenUrl("order@order/order.html?itemId="+e+"&num=1")),!1}return k.prototype.checkUserLogin()?window.location.href=g.setting.link.order+"?itemId="+e+"&num=1":window.location.href=g.setting.link.login+"?ufrom="+escape(g.setting.link.order+"?itemId="+e+"&num=1"),!1},"[hybrid-goto-product] click":function(b,c){c.preventDefault();var d=a(b).attr("hybrid-goto-product");h.isMobile.APP()?i.gotoProductDetail(d):window.location.href="/product.html?id="+d},"[goto-giftDetail] click":function(b,c){c.preventDefault();var d=a(b).attr("goto-giftDetail");window.location.href=g.setting.hostLink.exchange+"?giftId="+d},"[hybrid-href] click":function(b,c){var d=a(b).attr("hybrid-href")||a(b).attr("href");if(!/javascript:/gi.test(d))return h.isMobile.APP()?i.appOpenUrl(d):window.location.href=d,!1},"area[href] click":function(b,c){var d=a(targetElement).attr("href");if(!/javascript:/gi.test(d))return h.isMobile.APP()?i.appOpenUrl(d):window.location.href=d,!1},"[hybrid-multi-href] click":function(b,c){var d=a(b).attr("hybrid-multi-href"),e=a(b).data("href");h.isMobile.APP()?i.appOpenUrl(e):window.location.href=d},"[alert-message] click":function(b,c){var d=a.trim(b.attr("alert-message")),e=a.trim(b.attr("alert-times"));e?this.toast.show(d,e):this.toast.show(d)},"[only-wechat] click":function(){var b=this,c=b.model.attr("pageInfo"),e=JSON.parse(c.elements);if(e.shareCoupon)if(h.isMobile.APP()){var f=i.getToken();if(d.isEmpty(f))return i.login(window.location.href),!1}else if(!k.prototype.checkUserLogin())return this.account.show(),!1;var g={url:c.shareUrl?c.shareUrl:window.location.href,image:c.shareImage,content:c.shareContent,title:c.shareTitle,reloadUrl:"",ticketCode:""};if(e.shareCoupon&&e.shareCouponUrl&&(g.reloadUrl=e.shareCouponUrl,g.ticketCode=e.shareCoupon),h.isMobile.APP())i.appSharePage(g);else if(h.isMobile.WeChat()){var j=a(".wechatshare_mask");j.length>0?j.css("display","block"):a(".main_index").append('<div class="wechatshare_mask"></div>')}else b.toast.show("请使用都市菜园APP分享领券",3e3)},".wechatshare_mask click":function(a){a.css("display","none")},"[get-coupon] click":function(b){var c=this,e=a.trim(b.attr("get-coupon")),f=a.trim(b.data("successMsg"))||"兑换成功",g=a.trim(b.data("failMsg"))||"兑换失败";if(!e)return c.toast.show(g),!1;if(h.isMobile.APP()){var j=i.getToken();d.isEmpty(j)?this.account.show({type:"all",loginFn:d.bind(this.getCoupon,this,e,f,g),registerFn:d.bind(this.getCoupon,this,e,f,g)}):this.getCoupon(e,f,g)}else k.prototype.checkUserLogin()?this.getCoupon(e,f,g):this.account.show({type:"all",loginFn:d.bind(this.getCoupon,this,e,f,g),registerFn:d.bind(this.getCoupon,this,e,f,g)})},getCoupon:function(a,c,d){var e=this,f=new x({code:a});e.account.hide(),e.loading.show(),b.when(f.sendRequest()).done(function(){e.toast.show(c)}).fail(function(a,b){e.toast.show(d),console.log(a,b)}).always(function(){e.loading.hide()})},getShareWxCoupon:function(a,c){var d=this,e=new x({code:a});b.when(e.sendRequest()).done(function(){c&&(window.location.href=c)}).fail(function(a,b){d.toast.show(b,3e3),console.log(a,b)})},showDownLoad:function(){if(!h.isMobile.APP()){var b='<div class="app_download_wrap img_wrap"><a href="http://a.app.qq.com/o/simple.jsp?pkgname=com.ulife.caiiyuan" class="btn link_btn"></a><a href="javascript:void(0)" class="btn close_btn"></a><img src="http://i1.ucaiyuan.com/h5_activity/160312-zhc/images/tg.jpg" class="auto_pos"></div>';a("body").append(b);var c=a(".app_download_wrap");c.find("img").attr("src","http://i1.ucaiyuan.com/h5_activity/160312-zhc/images/tg.jpg");var e=c.height();c.css({bottom:"-"+e+"px"}),d.defer(function(){0==a(".global_footer").length?c.css({bottom:0}):c.css({bottom:50})},1e3),c.find(".close_btn").click(function(){c.css({bottom:"-"+e+"px"}),setTimeout(function(){c.remove()},300)})}},showFooterInfo:function(){if(!h.isMobile.APP()&&"undefined"!=typeof HOMEPAGE){var b='<div class="global_footer_info"><h3>上海都市生活企业发展有限公司</h3><h3>© 2015 www.ucaiyuan.com  All rights reserved</h3><h3>沪ICP备08109711号-7&nbsp;&nbsp;Tel:021-63455289</h3></div>';a(".container").append(b)}},createHeaderCart:function(){var c=new y;b.when(c.sendRequest()).done(function(b){var c=b.totalItemNum,d=a('<a href="/cart.html" class="cart_btn"><i id="cartTotalItemNum">'+c+"</i></a>");a(".global_header").append(d)}).fail(function(a,b){console.log(a,b)})}})}),define("ulife.api.product.hotkeys",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"product.hotkeys",SECURITY_TYPE:b.None.name,REQUIRED:[],PARAMETERS:{},VERIFY:{},ERROR_CODE:{}}})}),define("ulife.api.search.suggestKeywords",["ulife.framework.comm","ulife.api.security.type"],function(a,b){"use strict";return a.extend({api:{METHOD_NAME:"search.suggestKeywords",SECURITY_TYPE:b.None.name,REQUIRED:["keywords"],PARAMETERS:{keywords:"string"},VERIFY:{},ERROR_CODE:{}}})}),define("text!template_widget_search",[],function(){return'<article class="global_search">\n    <header class="global_header">\n        <div class="wrap">\n            <div class="inner flex">\n                <a href="javascript:void (0)" id="searchCancel" class="searchCancel"></a>\n                <input type="search"  placeholder="{{keyWords}}" id="searchKeyWords"\n                       maxlength="50"\n                       value="{{config.keyWord}}"\n                       class="flex_item">\n                <i class="btn_close hide"></i>\n                <a href="javascript:void (0)" id="searchBtn" class="searchBtn">搜索</a>\n            </div>\n        </div>\n    </header>\n    <div class="main">\n        {{#ulife.length.gt hotProducts 0}}\n            <div class="hot_search {{#ulife.length.gt searchTab 0}}hide{{/ulife.length.gt}}">\n                <h2>热门搜索</h2>\n                <div class="wrap clear_fix">\n                    {{#each hotProducts}}\n                        {{#ulife.num.compare @index 8 \'lt\'}}\n                            <a href="javascript:void(0)" class="no_wrap keyItem" data-keys="{{.}}">{{.}}</a>\n                        {{/ulife.num.compare}}\n                    {{/each}}\n                </div>\n            </div>\n        {{/ulife.length.gt}}\n        {{#ulife.length.gt historyProducts 0}}\n            <div class="search_history {{#ulife.length.gt searchTab 0}}hide{{/ulife.length.gt}}">\n                <h2>搜索历史</h2>\n                <div class="wrap">\n                    {{#each historyProducts}}\n                        {{#ulife.num.compare @index 20 \'lt\'}}\n                            <a href="javascript:void(0)" class="no_wrap keyItem" data-keys="{{.}}">{{.}}</a>\n                        {{/ulife.num.compare}}\n                    {{/each}}\n                </div>\n                <div class="btn_wrap">\n                    <a class="clear_btn">清空所有历史记录</a>\n                </div>\n            </div>\n        {{/ulife.length.gt}}\n        <div class="search_tab {{^ulife.length.gt searchTab 0}}hide{{/ulife.length.gt}}">\n            {{#each searchTab}}\n                {{#ulife.num.compare @index 10 \'lt\'}}\n                    <a href="javascript:void(0)" class="no_wrap keyItem clear_fix" data-keys="{{keyword}}">\n                        <span class="f_left">{{keyword}}</span>\n                        <span class="f_right">约{{count}}个结果</span>\n                    </a>\n                {{/ulife.num.compare}}\n            {{/each}}\n        </div>\n    </div>\n\n</article>\n'}),define("ulife.b2c.h5.widget.search",["zepto","can","store","underscore","ulife.b2c.h5.util.fn","ulife.b2c.h5.pagebase","ulife.api.product.hotkeys","ulife.api.search.suggestKeywords","text!template_widget_search"],function(a,b,c,d,e,f,g,h,i){return b.Control.extend({helpers:{},model:new b.Map({config:{fn:!1,keyWord:null},isShow:!0,hotProducts:[],historyProducts:[],searchTab:[],searchList:["牛奶","牛排","米","油","莫斯利安","蔬菜","鸡蛋","榴莲","奇异果","酸奶","饮料","西瓜","虾","樱桃","水果","猕猴桃","芒果","三文鱼","牛肉","饼干","鱼","糖","盐","牛油果","咖啡","大米","鸡","啤酒","酱","葡萄酒","苹果","山竹","食用油","橄榄油","矿泉水","面粉","椰子","半成品","牛","蜂蜜","肉","带鱼","方便面","鳕鱼","车厘子","避风塘","糖果/巧克力","鸡翅","菜","玉米","面","火龙果","薯片","蛋","虾仁","黄酒","爱森","柠檬","进口","香蕉","牛腩","草莓","巧克力","蓝莓","酒","酱油","培根","水","咸鸭蛋","龙利鱼","咸蛋","香梨","海苔","米面杂粮","弥猴桃","可乐","咖喱","小龙虾","调料","西柚","光明","醋","火腿","荔枝","新雅","羊肉","红心火龙果","奶酪","猪状元","零食","光明牛奶","梨","不知火","粽子","草鸡蛋","冰糖","土豆","红酒","葡萄","阿克苏苹果","鸡抓","龙虾","释迦","凤梨","雀巢","金果","百岁山","曲奇","木瓜","有机","花生酱","奶粉","牛尾","申扬","椰青","荷美尔","牛腱","麻油","老干妈","橙","鸭","甜甜圈","午餐肉","茄果类","对虾","淡奶油","橙子","龙眼","豆腐","墨鱼","瓜","麦片","南瓜","金色年华","乐事","茶叶","猪肉","包","牛骨","速冻食品","银鳕鱼","鲁花","黄油","晶润香","料酒","肉松","红枣","黑木耳","张君雅","榨菜","羊","火锅","泰森","玉米油","佳沛","糯米","水饺","纯牛奶","银耳","德运","坚果蜜饯","叶菜类","鸭蛋","柚子","意大利面","椰奶","小老板","花椒油","竹荪","雪碧","素鲍鱼","桂冠","来伊份","有机蔬菜","桑葚","绿豆","脱脂牛奶","饼","泡面","意面","虾类","闲趣","栗子","番茄","椰","玉菇","鱿鱼"],keyWords:""}),init:function(){var b=this;b.setup(a("body")),b.getList().always(function(){b.render(),b.initEvent(),b.model.attr("hotProducts",c.get("hotProducts"))})},show:function(b){var d=this;b=a.extend(d.model.attr("config"),b);var e=d.model.attr("config").keyWord;d.model.config.attr("keyWord",e),d.model.config.attr("fn",b.fn),d.model.attr("historyProducts",c.get("historyProducts")),a(".global_search").css("display","block"),d.createTabHeight()},render:function(){var a=b.mustache(i),c=a(this.model,this.helpers);this.element.append(c)},hide:function(){var b=this;b.model.attr("config").fn&&b.model.attr("config").fn(),a(".global_search").css("display","none")},getList:function(){var a=this,d=new g;return b.when(d.sendRequest()).done(function(b){b.hotkeys.length=20,c.set("hotProducts",b.hotkeys),a.model.attr("keyWords",b.hotkeys[0])}).fail(function(a,b){console.log(a,b)})},"#searchBtn click":function(){var b=this,c=a.trim(a("#searchKeyWords").val());""===c&&(c=b.model.attr("keyWords")),this.recordKeyWords(c)},createTabHeight:function(){var b=a(".global_search");b.find(".search_tab").css("min-height",a(window).height()-b.find(".global_header").height()+"px")},".global_search .keyItem click":function(a){var b=a.attr("data-keys");this.recordKeyWords(b)},"#searchCancel click":function(){this.hide()},initEvent:function(){var b=this,c=a("#searchKeyWords"),d=a(".btn_close");c.on("input",function(){d.removeClass("hide")}).on("focus",function(){var e=c.val();b.getSearchTab(e),a.trim(c.val()).length>0&&d.removeClass("hide")}).keydown(function(d){if(13==d.keyCode){var e=a.trim(c.val());return b.recordKeyWords(e),!1}}).on("input",function(){var a=c.val();b.getSearchTab(a)}),d.on("click",function(){d.addClass("hide"),c.val(""),b.model.attr("searchTab",[])})},getSearchTab:function(a){var c,d=this;return""==a||" "==a?(d.model.attr("searchTab",[]),!1):(c=new h({keywords:a}),void b.when(c.sendRequest()).done(function(a){d.model.attr("searchTab",a.relevanceList)}).fail(function(a,b){console.log(a,b)}))},goProductList:function(){var a=this.model.attr("keyWords");window.location="/searchList.html?type=search&keyWords="+a},recordKeyWords:function(a){if(a){var b=c.get("historyProducts");b?b.unshift(a):b=[a],b=d.uniq(b),b.splice(20),c.set("historyProducts",b)}this.model.attr("keyWords",a),this.goProductList()},".global_search .clear_btn click":function(){this.model.attr("historyProducts",[]),c.remove("historyProducts")}})}),define("text!template_module_header_search",[],function(){return'<header class="header_search">\n    <div class="wrap">\n        <a class="text" href="javascript:void(0)">{{keyWord}}</a>\n    </div>\n</header>\n'}),define("ulife.b2c.h5.module.header_search",["zepto","store","underscore","ulife.b2c.h5.util.fn","ulife.api.product.hotkeys","ulife.b2c.h5.widget.search","text!template_module_header_search"],function(a,b,c,d,e,f,g){return can.Control.extend({helpers:{},model:new can.Map({keyWord:""}),init:function(a,b){this.search=new f;b.data;this.getList();var c=can.mustache(g),d=c(this.model,this.helpers);this.element.prepend(d)},getList:function(){var a=this,b=new e;return can.when(b.sendRequest()).done(function(b){a.model.attr("keyWord",b.hotkeys[0])}).fail(function(a,b){console.log(a,b)})},".header_search .text click":function(){var a=this;return a.search.show({fn:function(){a.element.css({display:"block"})}}),a.element.css({display:"none"}),!1}})}),define("text!template_module_footer",[],function(){return'<footer class="global_footer">\n    <nav class="clear_fix flex">\n        <a href="/home.html" class="{{tab_home}} flex_item">\n            <span></span>\n            <p class="title">首页</p>\n        </a>\n        <a href="/category.html" class="{{tab_category}} flex_item">\n            <span></span>\n            <p class="title">分类</p>\n        </a>\n        <a href="/cart.html?pageFromFooter=true" class="{{tab_shoppingcart}} flex_item">\n            <span>{{#if totalItemNum}}<i id="globalFooterCartNum">{{totalItemNum}}</i>{{/if}}</span>\n            <p class="title">购物车</p>\n        </a>\n        <a href="/my.html" class="{{tab_my}} flex_item">\n            <span></span>\n            <p class="title">我的</p>\n        </a>\n    </nav>\n</footer>'}),define("ulife.b2c.h5.module.footer",["zepto","store","ulife.b2c.h5.util.fn","ulife.api.cart.simpleinfo","text!template_module_footer"],function(a,b,c,d,e){return can.Control.extend({helpers:{},init:function(a,b){var c=this,f=b;f[f.current]="active";var g=new d,h=can.mustache(e);can.when(g.sendRequest()).done(function(a){var b=(_.extend(f,a),h(f,c.helpers));c.element.css({"padding-bottom":"50px"}).append(b)}).fail(function(a,b){console.log(a,b)})}})}),define("ulife.b2c.h5.page.home",["zepto","can","zepto.cookie","underscore","store","ulife.b2c.h5.util.fn","ulife.b2c.h5.util.hybrid","ulife.b2c.h5.pagebase","ulife.framework.comm","ulife.b2c.h5.component.cms","ulife.b2c.h5.module.header_search","ulife.b2c.h5.module.footer"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=b.Control.extend({init:function(c,d){var e=b.deparam(window.location.search.substr(1)),h=e.cmsPageId||0,i=e.action?"preview":"";f.isMobile.APP()?g.setAppHomeNavigationBar():(a("#ulife-home").addClass("has_fix_footer"),new k("#ulife-home"),new l("#ulife-home",{current:"tab_home"})),new j("#ulife-home",{id:h,type:"home",action:i})}});new m("#ulife-home"),new h.Monitor}),require(["ulife.b2c.h5.page.home"]);